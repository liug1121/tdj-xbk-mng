(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3df3981e"],{"5f02":function(e,t,a){"use strict";var o,r=a("ade3"),n=(a("99af"),a("365c"));t["a"]=(o={getCardOrders:function(e){return n["b"]("/bigflow/manage/v1.0/card/orders",e)},getAllChannels:function(e){return n["a"]("/bigflow/manage/v1.0/channels",e)},getAllPackages:function(e){return n["a"]("/bigflow/manage/v1.0/packages",e)},getAllPools:function(e){return n["a"]("/bigflow/manage/v1.0/pools",e)},getAllServiceInfo:function(e){return n["a"]("/bigflow/manage/v1.0/serviceinfos",e)},getCardInfos:function(e){return n["b"]("/bigflow/manage/v1.0/card/infos",e)},getVoiceRecords:function(e){return n["b"]("/bigflow/manage/v1.0/voice/records",e)},getFlowPools:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools",e)},getFlowPoolsDetails:function(e){return n["b"]("/bigflow/manage/v1.0/pools/static",e)},getFlowCardStock:function(e){return n["b"]("/bigflow/manage/v1.0/cardstockpool",e)},getFlowPoolBills:function(e){return n["b"]("/bigflow/manage/v1.0/flowpoolbills",e)},getCardChanges:function(e){return n["b"]("/bigflow/manage/v1.0/cardchanges",e)},getBigflowStocks:function(e){return n["b"]("/bigflow/manage/v1.0/bigflowcardstocks",e)},getAccessWechats:function(e){return n["b"]("/bigflow/manage/v1.0/accessWechats",e)},addProducts:function(e){return n["b"]("/bigflow/manage/v1.0/bigflowproducts/add",e)},modifyProducts:function(e){return n["b"]("/bigflow/manage/v1.0/bigflowproducts/modify",e)},getProducts:function(e){return n["b"]("/bigflow/manage/v1.0/bigflowproducts",e)},getAllSysFunctions:function(e){return n["a"]("/bigflow/manage/v1.0/system/functions",e)},getAllSysRoles:function(e){return n["a"]("/bigflow/manage/v1.0/system/roles",e)},getAllSysRoleFunctions:function(e){return n["a"]("/bigflow/manage/v1.0/system/roleFunctions",e)},getAllSysManagerRoles:function(e){return n["a"]("/bigflow/manage/v1.0/system/managerRoles",e)},getAllSysManagers:function(e){return n["a"]("/bigflow/manage/v1.0/system/managers",e)},changeCardStatus:function(e){return n["b"]("/bigflow/manage/v1.0/card/changeCardStatus",e)},unbindCard:function(e){return n["b"]("/bigflow/manage/v1.0/card/untying",e)},dosClear:function(e){return n["b"]("/bigflow/manage/v1.0/card/dosClear",e)},dosChange:function(e){return n["b"]("/bigflow/manage/v1.0/card/dosChange",e)},getProduct2Change:function(e){return n["b"]("/bigflow/manage/v1.0/card/product2change",e)},changeProduct:function(e){return n["b"]("/bigflow/manage/v1.0/card/updateProduct",e)},getComunPlanTypes2Change:function(e){return n["b"]("/bigflow/manage/v1.0/card/communPlanTypes",e)},changeCommunPlanType:function(e){return n["b"]("/bigflow/manage/v1.0/card/communPlan",e)},expiredateextend:function(e){return n["b"]("/bigflow/manage/v1.0/card/expiredateextend",e)},fileExpiredateextend:function(e,t,a){return n["b"]("/bigflow/manage/v1.0/card/file/expiredateextend?extendTime=".concat(a,"&reason=").concat(t),e,{headers:{"content-type":"multipart/form-data"}})},batchExpiredateExtend:function(e){return n["b"]("/bigflow/manage/v1.0/card/expiredate/batchextend",e)},getPdCodes:function(e){return n["a"]("/bigflow/manage/v1.0/flowpools/pdcode",e)},addFlowPool:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/add",e)},addFlowPoolOrder:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/order",e)},updateFlowPoolUse:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/updateuse",e)},updateFlowPoolExpire:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/expire/modify",e)},modifyFlowPoolStatus:function(e){return n["b"]("/bigflow/manage/v1.0/pools/status/modify",e)},removeFlowPool:function(e){return n["b"]("/bigflow/manage/v1.0/pools/remove",e)},movePool:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/move",e)},movePoolIccidsBetween:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/move/iccidbetween",e)},getChannelProducts:function(e){return n["b"]("/bigflow/manage/v1.0/channels/products",e)},stock2Channel:function(e){return n["b"]("/bigflow/manage/v1.0/bigflowcardstocks/tochannel",e)},getAllProduct2Change:function(e){return n["b"]("/bigflow/manage/v1.0/order/products2change",e)},moveOrderByIccidsBetween:function(e){return n["b"]("/bigflow/manage/v1.0/order/move/iccidbetween",e)},uploadFile:function(e){return n["b"]("/bigflow/manage/v1.0/order/file/upload",e,{headers:{"content-type":"multipart/form-data"}})},file2ExpiredateExtend:function(e,t,a){return n["b"]("/bigflow/manage/v1.0/card/expiredate/file2Extend?extendTime=".concat(a,"&reason=").concat(t),e,{headers:{"content-type":"multipart/form-data"}})},importOrder2Channel:function(e){return n["b"]("/bigflow/manage/v1.0/order/channel/import",e)},importPoolCards:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/card/import",e,{headers:{"content-type":"multipart/form-data"}})},importStockCards:function(e){return n["b"]("/bigflow/manage/v1.0/stock/card/import",e,{headers:{"content-type":"multipart/form-data"}})},moveStockCards:function(e){return n["b"]("/bigflow/manage/v1.0/stock/card/move",e)},moveStockCards2Channel:function(e){return n["b"]("/bigflow/manage/v1.0/stock/card/channel/move",e)},file2CardUsageCheck:function(e){return n["b"]("/bigflow/manage/v1.0/card/useage/check/file",e,{headers:{"content-type":"multipart/form-data"}})},cardUsageCheck:function(e){return n["b"]("/bigflow/manage/v1.0/card/useage/check",e)},file2CardUsageRefresh:function(e){return n["b"]("/bigflow/manage/v1.0/card/useage/refresh/file",e,{headers:{"content-type":"multipart/form-data"}})},file2OrdersDelete:function(e){return n["b"]("/bigflow/manage/v1.0/order/file/delete",e,{headers:{"content-type":"multipart/form-data"}})},getSaleChannels:function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/salechannels",e)},getSalePersons:function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/salepersons",e)},addSaleChannel:function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/add",e)},getChannelStocks:function(e){return n["b"]("/bigflow/manage/v1.0/channels/stocks",e)},distributeChannelCardsBetween:function(e){return n["b"]("/bigflow/manage/v1.0/channels/stocks/distrubute",e)},addSaleChannelManager:function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/manager/add",e)},getFengwoConfigs:function(e){return n["b"]("/bigflow/manage/v1.0/fengwo/accounts",e)}},Object(r["a"])(o,"getFengwoConfigs",(function(e){return n["b"]("/bigflow/manage/v1.0/fengwo/accounts",e)})),Object(r["a"])(o,"addFengwoConfigs",(function(e){return n["b"]("/bigflow/manage/v1.0/fengwo/add",e)})),Object(r["a"])(o,"modifyFengwoConfigs",(function(e){return n["b"]("/bigflow/manage/v1.0/fengwo/modify",e)})),Object(r["a"])(o,"removeFengwoConfigs",(function(e){return n["b"]("/bigflow/manage/v1.0/fengwo/remove",e)})),Object(r["a"])(o,"addChannelProduct",(function(e){return n["b"]("/bigflow/manage/v1.0/channels/products/add",e)})),Object(r["a"])(o,"changeChannelProductStatus",(function(e){return n["b"]("/bigflow/manage/v1.0/channels/products/status",e)})),Object(r["a"])(o,"removeChannelProductStatus",(function(e){return n["b"]("/bigflow/manage/v1.0/channels/products/remove",e)})),Object(r["a"])(o,"getFengwoProvinces",(function(e){return n["a"]("/bigflow/manage/v1.0/fengwo/provinces",e)})),Object(r["a"])(o,"getProductCodes",(function(e){return n["a"]("/bigflow/manage/v1.0/product/codes",e)})),Object(r["a"])(o,"getChannelBillingFeeConfigs",(function(e){return n["b"]("boss/v1.0/card/billing/channel/configs",e)})),Object(r["a"])(o,"addChannelBillingFeeConfig",(function(e){return n["b"]("boss/v1.0/card/billing/channel/config/add",e)})),Object(r["a"])(o,"modifyChannelBillingFeeConfig",(function(e){return n["b"]("boss/v1.0/card/billing/channel/config/modify",e)})),Object(r["a"])(o,"removeChannelBillingFeeConfig",(function(e){return n["b"]("boss/v1.0/card/billing/channel/config/remove",e)})),Object(r["a"])(o,"getChannelCardStatics",(function(e){return n["b"]("/bigflow/manage/v1.0/channels/statics",e)})),Object(r["a"])(o,"getStopedCardNumForChannels",(function(e){return n["a"]("/bigflow/manage/v1.0/lbs/statics/channels",e)})),Object(r["a"])(o,"getSharingPoolNumForChannels",(function(e){return n["a"]("/bigflow/manage/v1.0/sharingpool/statics/channels",e)})),Object(r["a"])(o,"getImeiNumForChannels",(function(e){return n["a"]("/bigflow/manage/v1.0/imei/statics/channels",e)})),Object(r["a"])(o,"getCardStatusNumForChannels",(function(e){return n["b"]("/bigflow/manage/v1.0/card/statics/channels",e)})),Object(r["a"])(o,"getCardNumForChannels",(function(e){return n["b"]("/bigflow/manage/v1.0/card/cardNum/statics/channels",e)})),Object(r["a"])(o,"getCardDataUsageForChannels",(function(e){return n["b"]("/bigflow/manage/v1.0/card/datausage/statics/channels",e)})),Object(r["a"])(o,"modifyChannel",(function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/modify",e)})),Object(r["a"])(o,"getChannelImeiConfig",(function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/imeiconfig",e)})),Object(r["a"])(o,"removeChannelImeiConfig",(function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/imei/remove",e)})),Object(r["a"])(o,"getImeiGroups",(function(e){return n["a"]("/bigflow/manage/v1.0/lbs/imei/groups",e)})),Object(r["a"])(o,"getCardLbsStaticsForChannels",(function(e){return n["b"]("/bigflow/manage/v1.0/card/cardNum/lbs/statics/channels",e)})),Object(r["a"])(o,"exportChannelStatics",(function(e){return n["b"]("/bigflow/manage/v1.0/channels/statics/export",e)})),Object(r["a"])(o,"addSaleChannelMailConfig",(function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/mail/configs/add",e)})),Object(r["a"])(o,"modifySaleChannelMailConfig",(function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/mail/configs/modify",e)})),Object(r["a"])(o,"removeSaleChannelMailConfig",(function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/mail/configs/remove",e)})),Object(r["a"])(o,"getSaleChannelMailConfig",(function(e){return n["b"]("/bigflow/manage/v1.0/salechannel/mail/configs",e)})),Object(r["a"])(o,"getPoolMailConfigs",(function(e){return n["b"]("/bigflow/manage/v1.0/pools/mails",e)})),Object(r["a"])(o,"addPoolMail",(function(e){return n["b"]("/bigflow/manage/v1.0/pools/alert/config/add",e)})),Object(r["a"])(o,"addAmountPoolAlertConfig",(function(e){return n["b"]("/bigflow/manage/v1.0/amountpool/alert/config/add",e)})),Object(r["a"])(o,"getPoolAlertInfos",(function(e){return n["b"]("/bigflow/manage/v1.0/pools/alert/configs",e)})),Object(r["a"])(o,"getAmountPoolAlertInfos",(function(e){return n["b"]("/bigflow/manage/v1.0/amountpool/alert/configs",e)})),Object(r["a"])(o,"removePoolAlertInfo",(function(e){return n["b"]("/bigflow/manage/v1.0/pools/alert/config/remove",e)})),Object(r["a"])(o,"removeAmountPoolAlertInfo",(function(e){return n["b"]("/bigflow/manage/v1.0/amountpool/alert/config/remove",e)})),Object(r["a"])(o,"modifyPoolAlertInfo",(function(e){return n["b"]("/bigflow/manage/v1.0/pools/alert/config/modify",e)})),Object(r["a"])(o,"modifyPledgeReturnStatus",(function(e){return n["b"]("/saler/v1.0/orders/pledge/return/modify",e)})),Object(r["a"])(o,"testFengwoAccount",(function(e){return n["b"]("/bigflow/manage/v1.0/fengwoaccount/test",e)})),Object(r["a"])(o,"removeManger",(function(e){return n["b"]("boss/v1.0/system/managers/remove",e)})),Object(r["a"])(o,"modifyManger",(function(e){return n["b"]("boss/v1.0/system/managers/modify",e)})),Object(r["a"])(o,"modifyMangerPwd",(function(e){return n["b"]("boss/v1.0/system/managers/pwd/modify",e)})),Object(r["a"])(o,"modifyPool",(function(e){return n["b"]("/bigflow/manage/v1.0/pools/modify",e)})),Object(r["a"])(o,"testSms",(function(e){return n["b"]("/bigflow/manage/v1.0/pools/alert/configs/test/sms",e)})),Object(r["a"])(o,"testMail",(function(e){return n["b"]("/bigflow/manage/v1.0/pools/alert/configs/test/mail",e)})),Object(r["a"])(o,"getCardMonthUsageDetails",(function(e){return n["b"]("/bigflow/manage/v1.0/card/usage/month/detail",e)})),Object(r["a"])(o,"addAmountPool",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/add",e)})),Object(r["a"])(o,"getAmountPools",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/pools",e)})),Object(r["a"])(o,"removeAmountPool",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/remove",e)})),Object(r["a"])(o,"modifyAmountPool",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/modify",e)})),Object(r["a"])(o,"addAmount",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/amount/add",e)})),Object(r["a"])(o,"addAmountProduct",(function(e){return n["b"]("/bigflow/manage/v1.0/bigflowproducts/amountpool/add",e)})),Object(r["a"])(o,"modifyAmountProduct",(function(e){return n["b"]("/bigflow/manage/v1.0/bigflowproducts/amountpool/modify",e)})),Object(r["a"])(o,"removeProduct",(function(e){return n["b"]("/bigflow/manage/v1.0/bigflowproducts/remove",e)})),Object(r["a"])(o,"getAmountPoolProducts",(function(e){return n["a"]("/bigflow/manage/v1.0/amountPool/products",e)})),Object(r["a"])(o,"modifyAmountPoolPackage",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/pacakge/modify",e)})),Object(r["a"])(o,"moveAmountPoolbetweenIccids",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/move/iccidbetween",e)})),Object(r["a"])(o,"moveAmountPoolByIccid",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/move/iccid",e)})),Object(r["a"])(o,"fileAmountPoolMove",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/card/file/import",e,{headers:{"content-type":"multipart/form-data"}})})),Object(r["a"])(o,"modifyAmountPoolStatus",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/status/modify",e)})),Object(r["a"])(o,"getAmountPoolBillDetails",(function(e){return n["b"]("/bigflow/manage/v1.0/amountPool/billdetails",e)})),o)},ade3:function(e,t,a){"use strict";function o(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}a.d(t,"a",(function(){return o}))},c79a:function(e,t,a){"use strict";a("d1a3")},d1a3:function(e,t,a){},f112:function(e,t,a){"use strict";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box_subject"},[a("el-card",{staticClass:"all_list"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"订单编号"}},[a("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入订单编号"},model:{value:e.orderId,callback:function(t){e.orderId=t},expression:"orderId"}})],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"ICCID"}},[a("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入iccid"},model:{value:e.iccid,callback:function(t){e.iccid=t},expression:"iccid"}})],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"MSISDN"}},[a("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入msisdn"},model:{value:e.msisdn,callback:function(t){e.msisdn=t},expression:"msisdn"}})],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"卡状态"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择卡状态"},model:{value:e.cardStatus,callback:function(t){e.cardStatus=t},expression:"cardStatus"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"下单时间"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"开始日期","value-format":"yyyy-MM-dd"},on:{change:e.startTimeChange},model:{value:e.orderStartDate,callback:function(t){e.orderStartDate=t},expression:"orderStartDate"}}),a("span",{staticClass:"time-line"},[e._v("-")]),a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.endTimeChange},model:{value:e.orderEndDate,callback:function(t){e.orderEndDate=t},expression:"orderEndDate"}})],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"渠道"}},[a("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择渠道"},on:{change:e.handleSelectBranchCom},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}},e._l(e.channels,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"押金状态"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择卡状态"},model:{value:e.cashPledgePayed,callback:function(t){e.cashPledgePayed=t},expression:"cashPledgePayed"}},e._l(e.cashPledgePayedTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"客户经理"}},[a("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入客户经理"},model:{value:e.salerName,callback:function(t){e.salerName=t},expression:"salerName"}})],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"客户经理电话"}},[a("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入客户经理电话"},model:{value:e.salerPhone,callback:function(t){e.salerPhone=t},expression:"salerPhone"}})],1),a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:e.queryCardOrders}},[e._v("查询")])],1),a("div",{staticClass:"button_content"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-export"},expression:"{indentity:'bigflowCardOrder-export'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-download",disabled:""}},[e._v("导出")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-createAndDistribution"},expression:"{indentity:'bigflowCardOrder-createAndDistribution'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openOrderImportDlg}},[e._v("创建订单并分配渠道")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-distribution"},expression:"{indentity:'bigflowCardOrder-distribution'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openMoveOrderDlg}},[e._v("首尾分配渠道")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-exportFor"},expression:"{indentity:'bigflowCardOrder-exportFor'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit",disabled:""}},[e._v("按首尾条件导出")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-exportFor"},expression:"{indentity:'bigflowCardOrder-exportFor'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openBatchDeleteOrderDlg}},[e._v("批量删除订单")]),a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.doPledgeReturn}},[e._v("退押金操作")])],1),a("el-main",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"el-loading",attrs:{"element-loading-background":"transparent","element-loading-text":"加载中"}}),a("el-table",{attrs:{data:e.cardOrders,border:"","max-height":"1000",align:"center","cell-style":{height:"38px",padding:0}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._l(e.table_column,(function(t,o){return a("el-table-column",{key:o,attrs:{prop:t.prop,label:t.label,align:"center",fixed:!!t.fixed&&t.fixed,sortable:t.sortable},scopedSlots:e._u([{key:"default",fn:function(o){return[a("div",{domProps:{innerHTML:e._s(o.row[t.prop])}})]}}],null,!0)})}))],2),a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30,100,200],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"渠道分配",visible:e.showMoveOrderDlg,width:"450px"},on:{"update:visible":function(t){e.showMoveOrderDlg=t},close:e.closeMoveOrderDlg}},[a("el-form",{attrs:{model:e.moveOrderForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"买家姓名"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入买家姓名"},model:{value:e.moveOrderForm.name,callback:function(t){e.$set(e.moveOrderForm,"name",t)},expression:"moveOrderForm.name"}})],1),a("el-form-item",{attrs:{label:"分配渠道"}},[a("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择分配渠道"},on:{change:e.handleSelectChannel},model:{value:e.moveOrderForm.saleChannel,callback:function(t){e.$set(e.moveOrderForm,"saleChannel",t)},expression:"moveOrderForm.saleChannel"}},e._l(e.channels,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"销售员"}},[a("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择销售员"},model:{value:e.moveOrderForm.salePerson2,callback:function(t){e.$set(e.moveOrderForm,"salePerson2",t)},expression:"moveOrderForm.salePerson2"}},e._l(e.salePersons,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"首ICCID"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入首ICCID"},model:{value:e.moveOrderForm.iccidStart,callback:function(t){e.$set(e.moveOrderForm,"iccidStart",t)},expression:"moveOrderForm.iccidStart"}})],1),a("el-form-item",{attrs:{label:"尾ICCID"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入尾ICCID"},model:{value:e.moveOrderForm.iccidEnd,callback:function(t){e.$set(e.moveOrderForm,"iccidEnd",t)},expression:"moveOrderForm.iccidEnd"}})],1),a("el-form-item",{attrs:{label:"预充值套餐"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择预充值套餐"},model:{value:e.moveOrderForm.productCode,callback:function(t){e.$set(e.moveOrderForm,"productCode",t)},expression:"moveOrderForm.productCode"}},e._l(e.products2Change,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"赠送流量(MB)"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入赠送流量"},model:{value:e.moveOrderForm.giveUsage,callback:function(t){e.$set(e.moveOrderForm,"giveUsage",t)},expression:"moveOrderForm.giveUsage"}})],1),a("span",[e._v(" 请按照单位填写正确的用量(1GB=1024MB)，不要带上单位！！！ ")]),a("el-form-item",{attrs:{label:"赠送用量类型"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"赠送用量类型"},model:{value:e.moveOrderForm.giveUsageType,callback:function(t){e.$set(e.moveOrderForm,"giveUsageType",t)},expression:"moveOrderForm.giveUsageType"}},e._l(e.giveTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("span",[e._v(" 包含套餐：卡激活成功后，只有套餐用量，赠送的用量清零。不包含就进行叠加 ")])],1),a("span",[a("p",[e._v("1）注意：请输入19位数的ICCID，每次分配不能超过2万张卡")]),a("p",[e._v("2）系统会根据提交的信息和输入的首ICCID（包含），和尾ICCID（包含）查询出这之间的数据进行分配渠道、销售员,并创建订单")]),a("p",[e._v("3）如果订单存在，库存也已经分配过了。会进行覆盖更新")]),a("p",[e._v("4）卡状态不是 “可销售” 的不能进行操作，“已激活” 的也不可以。请确保提交的文件或所选择的信息是符合条件的")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeMoveOrderDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okMoveOrder}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"文件导入",visible:e.showOrderImportDlg,width:"450px"},on:{"update:visible":function(t){e.showOrderImportDlg=t},close:e.closeOrderImportDlg}},[a("el-form",{attrs:{model:e.orderImportForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"买家姓名"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入买家姓名"},model:{value:e.orderImportForm.name,callback:function(t){e.$set(e.orderImportForm,"name",t)},expression:"orderImportForm.name"}})],1),a("el-form-item",{attrs:{label:"分配渠道"}},[a("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择分配渠道"},on:{change:e.handleSelectChannel},model:{value:e.orderImportForm.saleChannel,callback:function(t){e.$set(e.orderImportForm,"saleChannel",t)},expression:"orderImportForm.saleChannel"}},e._l(e.channels,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"销售员"}},[a("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择销售员"},model:{value:e.orderImportForm.salePerson2,callback:function(t){e.$set(e.orderImportForm,"salePerson2",t)},expression:"orderImportForm.salePerson2"}},e._l(e.salePersons,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"预充值套餐"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择预充值套餐"},model:{value:e.orderImportForm.productCode,callback:function(t){e.$set(e.orderImportForm,"productCode",t)},expression:"orderImportForm.productCode"}},e._l(e.products2Change,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"赠送流量(MB)"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入赠送流量"},model:{value:e.orderImportForm.giveUsage,callback:function(t){e.$set(e.orderImportForm,"giveUsage",t)},expression:"orderImportForm.giveUsage"}})],1),a("span",[e._v(" 请按照单位填写正确的用量(1GB=1024MB)，不要带上单位！！！ ")]),a("el-form-item",{attrs:{label:"赠送用量类型"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"赠送用量类型"},model:{value:e.orderImportForm.giveUsageType,callback:function(t){e.$set(e.orderImportForm,"giveUsageType",t)},expression:"orderImportForm.giveUsageType"}},e._l(e.giveTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("span",[e._v(" 包含套餐：卡激活成功后，只有套餐用量，赠送的用量清零。不包含就进行叠加 ")]),a("el-form",{attrs:{"label-width":"120px"}},[a("el-upload",{staticClass:"unload-demo",attrs:{accept:".xls, .xlsx",action:"#","http-request":e.uploadFile,"on-remove":e.removeUploadedFile}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),a("span",[a("p",[e._v("1）下载模板后，填写数据。ICCID 字段为必填。")]),a("p",[e._v("2）会根据提交的信息创建订单，并分配库存渠道、销售员")]),a("p",[e._v("3）如果订单存在，库存也已经分配过了。会进行覆盖更新")]),a("p",[e._v("4）卡状态不是 “可销售” 的不能进行操作，“已激活” 的也不可以。请确保提交的文件或所选择的信息是符合条件的")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeOrderImportDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okOrderImport}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"批量删除订单",visible:e.showBatchDeleteOrder,width:"450px"},on:{"update:visible":function(t){e.showBatchDeleteOrder=t},close:e.closeBatchDeleteOrderDlg}},[a("el-form",{attrs:{"label-width":"110px"}},[a("el-form",{attrs:{"label-width":"120px"}},[a("el-upload",{staticClass:"unload-demo",attrs:{accept:".xls, .xlsx",action:"#","http-request":e.uploadBatchDeleteOrderFile,"on-remove":e.removeBatchDeleteOrderFile}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeBatchDeleteOrderDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okBatchDeleteOrder}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"押金操作",visible:e.showPledgeOptDlg,width:"450px"},on:{"update:visible":function(t){e.showPledgeOptDlg=t},close:e.closePledgeOptDlg}},[a("el-form",{attrs:{model:e.pledgeOptForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"操作类型"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择操作类型"},model:{value:e.pledgeOptForm.pledgeOptType,callback:function(t){e.$set(e.pledgeOptForm,"pledgeOptType",t)},expression:"pledgeOptForm.pledgeOptType"}},e._l(e.pledgeOpts,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入备注"},model:{value:e.pledgeOptForm.comment,callback:function(t){e.$set(e.pledgeOptForm,"comment",t)},expression:"pledgeOptForm.comment"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closePledgeOptDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okPledgeOpt}},[e._v("确 定")])],1)],1)],1)},r=[],n=(a("b0c0"),a("4de4"),a("159b"),a("5f02")),l=a("abe8"),i=a("a7e0"),s={components:{editCardInfo:l["a"],channelSelect:i["a"]},data:function(){return{cashPledgePayed:null,salerName:null,salerPhone:null,showPledgeOptDlg:!1,pledgeOptForm:{pledgeOptType:"",comment:""},pledgeOpts:[{value:2,name:"已退还"},{value:3,name:"已驳回"}],showBatchDeleteOrder:!1,showOrderImportDlg:!1,orderImportForm:{},showMoveOrderDlg:!1,moveOrderForm:{},btnEnable:!1,cardStatus:"",orderStartDate:"",orderEndDate:"",orderId:"",orderIdOpt:"",iccid:"",msisdn:"",channel:"",salePersons:[],loading:!1,statusOptions:[{label:"已录入",value:1},{label:"已发货",value:2},{label:"已激活",value:3},{label:"已驳回",value:4},{label:"已开卡",value:5},{label:"已销毁",value:6},{label:"支付成功",value:30}],cashPledgePayedTypes:[{label:"未交押金",value:0},{label:"已交押金",value:1}],giveTypes:[{value:1,name:"包含套餐"},{value:2,name:"不包含套餐"}],channels:[],products2Change:[],cardOrders:[],page:0,pageSize:10,total:0,table_column:[{prop:"orderId",label:"订单编号",width:180,sortable:!0},{prop:"productName",label:"卡套餐",width:100,sortable:!0},{prop:"iccid",label:"ICCID",width:180,sortable:!0},{prop:"phoneNumber",label:"MSISDN",width:150,sortable:!0},{prop:"name",label:"买家姓名",width:80,sortable:!0},{prop:"saleChannelName",label:"渠道名称",width:150,sortable:!0},{prop:"supplierName",label:"供应账户",width:100,sortable:!0},{prop:"statusName",label:"订单状态",width:80},{prop:"giveUsage",label:"赠送用量",width:80},{prop:"giveUsageType",label:"赠送用量类型",width:50},{prop:"gmtCreate",label:"下单时间",width:160,sortable:!0},{prop:"gmtActive",label:"激活时间",width:160},{prop:"cashPledge",label:"押金金额",width:160},{prop:"pledgeByManagerName",label:"押金交款人",width:160},{prop:"cashPledgePayed",label:"押金是否已交",width:160},{prop:"pledgeWechatPayNo",label:"押金支付单号",width:160},{prop:"cashPledgeReturn",label:"押金退还状态",width:160},{prop:"cashPledgeReturnComment",label:"押金退还说明",width:160},{prop:"saled",label:"是否已售卖",width:160},{prop:"saledDate",label:"售卖日期",width:160},{prop:"saledPrice",label:"销售金额",width:160},{prop:"wechatPayNo",label:"支付单号",width:160}]}},mounted:function(){},created:function(){this.getAllChannels(),this.queryCardOrders(),this.getProducts2Change()},watch:{},methods:{closePledgeOptDlg:function(){this.showPledgeOptDlg=!1},okPledgeOpt:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a={};a.orderId=e.orderIdOpt,a.status=e.pledgeOptForm.pledgeOptType,a.comment=e.pledgeOptForm.comment,n["a"].modifyPledgeReturnStatus(a).then((function(a){0==a.resultCode?(t.queryCardOrders(),e.$message.success("操作成功"),t.showPledgeOptDlg=!1):e.$message.error("操作失败:"+a.resultInfo),t.btnEnable=!1}))})).catch((function(){}))},doPledgeReturn:function(){""!=this.orderIdOpt?this.showPledgeOptDlg=!0:this.$message.error("请选择要操作的订单")},openBatchDeleteOrderDlg:function(){this.showBatchDeleteOrder=!0},closeBatchDeleteOrderDlg:function(){this.showBatchDeleteOrder=!1},okBatchDeleteOrder:function(){var e=this;if(null!=this.batchDeleteOrderFile){var t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a=new FormData;a.append("file",e.batchDeleteOrderFile),n["a"].file2OrdersDelete(a).then((function(e){0==e.resultCode?(t.queryCardOrders(),t.showBatchDeleteOrder=!1,alert("操作成功,请在任务："+e.data+"中查询处理结果")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))}else alert("请先上传要操作的excel文件")},removeBatchDeleteOrderFile:function(e,t){this.batchDeleteOrderFile=null},uploadBatchDeleteOrderFile:function(e){this.batchDeleteOrderFile=e.file},removeUploadedFile:function(e,t){this.orderImportForm.fileToken=""},uploadFile:function(e){var t=this,a=new FormData;a.append("file",e.file),n["a"].uploadFile(a).then((function(e){0==e.resultCode&&(t.orderImportForm.fileToken=e.data)}))},openOrderImportDlg:function(){this.showOrderImportDlg=!0},closeOrderImportDlg:function(){this.showOrderImportDlg=!1},okOrderImport:function(){var e=this;if(void 0!=this.orderImportForm.fileToken&&""!=this.orderImportForm.fileToken){var t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a={};a.name=e.orderImportForm.name,a.saleChannel=e.orderImportForm.saleChannel,a.salePerson2=e.orderImportForm.salePerson2,a.giveUsage=e.orderImportForm.giveUsage,a.giveUsageType=e.orderImportForm.giveUsageType,a.productCode=e.orderImportForm.productCode,a.fileToken=e.orderImportForm.fileToken,a.type=e.orderImportForm.type,n["a"].importOrder2Channel(a).then((function(e){0==e.resultCode?(t.queryCardOrders(),t.showOrderImportDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))}else alert("请先上传要操作的excel文件")},openMoveOrderDlg:function(){this.showMoveOrderDlg=!0},closeMoveOrderDlg:function(){this.showMoveOrderDlg=!1},okMoveOrder:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a={};a.name=e.moveOrderForm.name,a.saleChannel=e.moveOrderForm.saleChannel,a.salePerson2=e.moveOrderForm.salePerson2,a.iccidStart=e.moveOrderForm.iccidStart,a.iccidEnd=e.moveOrderForm.iccidEnd,a.productCode=e.moveOrderForm.productCode,a.giveUsage=e.moveOrderForm.giveUsage,a.giveUsageType=e.moveOrderForm.giveUsageType,n["a"].moveOrderByIccidsBetween(a).then((function(e){0==e.resultCode?(t.queryCardOrders(),t.showMoveOrderDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))},getChannelSalePersions:function(e){var t=this,a=this.channels.filter((function(t){return t.value===e}));this.salePersons=[],a.forEach((function(e){var a=e.children;void 0!=a&&null!=a&&a.length>0&&a.forEach((function(e){var a=e.children;t.salePersons.push.apply(t.salePersons,a)}))}))},handleSelectBranchCom:function(e){this.getChannelSalePersions(e)},handleSelectChannel:function(e){this.getProducts2Change(e),this.getChannelSalePersions(e)},getProducts2Change:function(e){var t=this,a={};a.saleChannel=e,n["a"].getAllProduct2Change(a).then((function(e){0==e.resultCode&&(t.products2Change=e.data)}))},getAllChannels:function(){var e=this,t={};n["a"].getAllChannels(t).then((function(t){0==t.resultCode&&(e.channels=t.data)}))},queryCardOrders:function(){var e=this;this.loading=!0;var t={};t.cashPledgePayed=this.cashPledgePayed,t.salerName=this.salerName,t.salerPhone=this.salerPhone,t.page=this.page,t.pageSize=this.pageSize,""!=this.orderId&&(t.orderIdlike=this.orderId),""!=this.cardStatus&&(t.status=this.cardStatus),""!=this.iccid&&(t.iccidlike=this.iccid),""!=this.msisdn&&(t.phoneNumber=this.msisdn),""!=this.orderStartDate&&(t.gmtCreateStart=this.orderStartDate),""!=this.orderEndDate&&(t.gmtCreateEnd=this.orderEndDate),""!=this.channel&&(t.saleChannel=this.channel),n["a"].getCardOrders(t).then((function(t){0==t.resultCode&&(e.cardOrders=t.data,e.total=t.rowNum,e.loading=!1)}))},startTimeChange:function(){this.orderStartDate="".concat(this.orderStartDate)},endTimeChange:function(){this.orderEndDate="".concat(this.orderEndDate)},handleSelectionChange:function(e){if(this.orderIdOpt="",e.length>0)for(var t=0;t<e.length;t++)this.orderIdOpt=e[t].orderId,"未付"==e[t].cashPledgePayed&&(this.$message.error("押金未付，不能操作押金状态"),this.orderIdOpt="")},handleSizeChange:function(e){this.pageSize=e,this.queryCardOrders()},handleCurrentChange:function(e){this.page=e,this.queryCardOrders()}}},c=s,d=(a("c79a"),a("2877")),u=Object(d["a"])(c,o,r,!1,null,"31e82df6",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-3df3981e.62916f3f.js.map