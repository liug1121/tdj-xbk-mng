(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e2e55d0"],{"5f02":function(e,t,r){"use strict";r("99af");var a=r("365c");t["a"]={getCardOrders:function(e){return a["b"]("/bigflow/manage/v1.0/card/orders",e)},getAllChannels:function(e){return a["a"]("/bigflow/manage/v1.0/channels",e)},getAllPackages:function(e){return a["a"]("/bigflow/manage/v1.0/packages",e)},getAllPools:function(e){return a["a"]("/bigflow/manage/v1.0/pools",e)},getAllServiceInfo:function(e){return a["a"]("/bigflow/manage/v1.0/serviceinfos",e)},getCardInfos:function(e){return a["b"]("/bigflow/manage/v1.0/card/infos",e)},getVoiceRecords:function(e){return a["b"]("/bigflow/manage/v1.0/voice/records",e)},getFlowPools:function(e){return a["b"]("/bigflow/manage/v1.0/flowpools",e)},getFlowCardStock:function(e){return a["b"]("/bigflow/manage/v1.0/cardstockpool",e)},getFlowPoolBills:function(e){return a["b"]("/bigflow/manage/v1.0/flowpoolbills",e)},getCardChanges:function(e){return a["b"]("/bigflow/manage/v1.0/cardchanges",e)},getBigflowStocks:function(e){return a["b"]("/bigflow/manage/v1.0/bigflowcardstocks",e)},getAccessWechats:function(e){return a["b"]("/bigflow/manage/v1.0/accessWechats",e)},getProducts:function(e){return a["b"]("/bigflow/manage/v1.0/bigflowproducts",e)},getAllSysFunctions:function(e){return a["a"]("/bigflow/manage/v1.0/system/functions",e)},getAllSysRoles:function(e){return a["a"]("/bigflow/manage/v1.0/system/roles",e)},getAllSysRoleFunctions:function(e){return a["a"]("/bigflow/manage/v1.0/system/roleFunctions",e)},getAllSysManagerRoles:function(e){return a["a"]("/bigflow/manage/v1.0/system/managerRoles",e)},getAllSysManagers:function(e){return a["a"]("/bigflow/manage/v1.0/system/managers",e)},changeCardStatus:function(e){return a["b"]("/bigflow/manage/v1.0/card/changeCardStatus",e)},unbindCard:function(e){return a["b"]("/bigflow/manage/v1.0/card/untying",e)},dosClear:function(e){return a["b"]("/bigflow/manage/v1.0/card/dosClear",e)},dosChange:function(e){return a["b"]("/bigflow/manage/v1.0/card/dosChange",e)},getProduct2Change:function(e){return a["b"]("/bigflow/manage/v1.0/card/product2change",e)},changeProduct:function(e){return a["b"]("/bigflow/manage/v1.0/card/updateProduct",e)},getComunPlanTypes2Change:function(e){return a["b"]("/bigflow/manage/v1.0/card/communPlanTypes",e)},changeCommunPlanType:function(e){return a["b"]("/bigflow/manage/v1.0/card/communPlan",e)},expiredateextend:function(e){return a["b"]("/bigflow/manage/v1.0/card/expiredateextend",e)},batchExpiredateExtend:function(e){return a["b"]("/bigflow/manage/v1.0/card/expiredate/batchextend",e)},getPdCodes:function(e){return a["a"]("/bigflow/manage/v1.0/flowpools/pdcode",e)},addFlowPool:function(e){return a["b"]("/bigflow/manage/v1.0/flowpools/add",e)},addFlowPoolOrder:function(e){return a["b"]("/bigflow/manage/v1.0/flowpools/order",e)},updateFlowPoolUse:function(e){return a["b"]("/bigflow/manage/v1.0/flowpools/updateuse",e)},movePool:function(e){return a["b"]("/bigflow/manage/v1.0/flowpools/move",e)},movePoolIccidsBetween:function(e){return a["b"]("/bigflow/manage/v1.0/flowpools/move/iccidbetween",e)},stock2Channel:function(e){return a["b"]("/bigflow/manage/v1.0/bigflowcardstocks/tochannel",e)},getAllProduct2Change:function(e){return a["b"]("/bigflow/manage/v1.0/order/products2change",e)},moveOrderByIccidsBetween:function(e){return a["b"]("/bigflow/manage/v1.0/order/move/iccidbetween",e)},uploadFile:function(e){return a["b"]("/bigflow/manage/v1.0/order/file/upload",e,{headers:{"content-type":"multipart/form-data"}})},file2ExpiredateExtend:function(e,t,r){return a["b"]("/bigflow/manage/v1.0/card/expiredate/file2Extend?extendTime=".concat(r,"&reason=").concat(t),e,{headers:{"content-type":"multipart/form-data"}})},importOrder2Channel:function(e){return a["b"]("/bigflow/manage/v1.0/order/channel/import",e)},importPoolCards:function(e){return a["b"]("/bigflow/manage/v1.0/flowpools/card/import",e)},importStockCards:function(e){return a["b"]("/bigflow/manage/v1.0/stock/card/import",e)},moveStockCards:function(e){return a["b"]("/bigflow/manage/v1.0/stock/card/move",e)},moveStockCards2Channel:function(e){return a["b"]("/bigflow/manage/v1.0/stock/card/channel/move",e)},file2CardUsageCheck:function(e){return a["b"]("/bigflow/manage/v1.0/card/useage/check/file",e,{headers:{"content-type":"multipart/form-data"}})},file2OrdersDelete:function(e){return a["b"]("/bigflow/manage/v1.0/order/file/delete",e,{headers:{"content-type":"multipart/form-data"}})}}},f112:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"box_subject"},[r("el-card",{staticClass:"all_list"},[r("el-form",{attrs:{inline:!0}},[r("el-form-item",{staticClass:"queryFormItem",attrs:{label:"订单编号"}},[r("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入订单编号"},model:{value:e.orderId,callback:function(t){e.orderId=t},expression:"orderId"}})],1),r("el-form-item",{staticClass:"queryFormItem",attrs:{label:"ICCID"}},[r("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入iccid"},model:{value:e.iccid,callback:function(t){e.iccid=t},expression:"iccid"}})],1),r("el-form-item",{staticClass:"queryFormItem",attrs:{label:"MSISDN"}},[r("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入msisdn"},model:{value:e.msisdn,callback:function(t){e.msisdn=t},expression:"msisdn"}})],1),r("el-form-item",{staticClass:"queryFormItem",attrs:{label:"卡状态"}},[r("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择卡状态"},model:{value:e.cardStatus,callback:function(t){e.cardStatus=t},expression:"cardStatus"}},e._l(e.statusOptions,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),r("el-form-item",{staticClass:"queryFormItem",attrs:{label:"下单时间"}},[r("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"开始日期","value-format":"yyyy-MM-dd"},on:{change:e.startTimeChange},model:{value:e.orderStartDate,callback:function(t){e.orderStartDate=t},expression:"orderStartDate"}}),r("span",{staticClass:"time-line"},[e._v("-")]),r("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.endTimeChange},model:{value:e.orderEndDate,callback:function(t){e.orderEndDate=t},expression:"orderEndDate"}})],1),r("el-form-item",{staticClass:"queryFormItem",attrs:{label:"渠道"}},[r("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择渠道"},on:{change:e.handleSelectBranchCom},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}},e._l(e.channels,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:e.queryCardOrders}},[e._v("查询")])],1),r("div",{staticClass:"button_content"},[r("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-export"},expression:"{indentity:'bigflowCardOrder-export'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-download",disabled:""}},[e._v("导出")]),r("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-createAndDistribution"},expression:"{indentity:'bigflowCardOrder-createAndDistribution'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openOrderImportDlg}},[e._v("创建订单并分配渠道")]),r("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-distribution"},expression:"{indentity:'bigflowCardOrder-distribution'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openMoveOrderDlg}},[e._v("首尾分配渠道")]),r("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-exportFor"},expression:"{indentity:'bigflowCardOrder-exportFor'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit",disabled:""}},[e._v("按首尾条件导出")]),r("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardOrder-exportFor"},expression:"{indentity:'bigflowCardOrder-exportFor'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openBatchDeleteOrderDlg}},[e._v("批量删除订单")])],1),r("div",{staticClass:"cardNos"},[r("div",{staticClass:"cardNosList"}),r("div",{staticClass:"cardNosNumber"},[e._v("选中"),r("span",{staticClass:"red"},[e._v("0")]),e._v("条数据")])]),r("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cardOrders,border:"","max-height":"600",align:"center","cell-style":{height:"38px",padding:0}},on:{"selection-change":e.handleSelectionChange}},[r("el-table-column",{attrs:{type:"selection",width:"55"}}),e._l(e.table_column,(function(t,a){return r("el-table-column",{key:a,attrs:{prop:t.prop,label:t.label,width:t.width,align:"center",fixed:!!t.fixed&&t.fixed,sortable:t.sortable},scopedSlots:e._u([{key:"default",fn:function(a){return[r("div",{domProps:{innerHTML:e._s(a.row[t.prop])}})]}}],null,!0)})}))],2),r("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"渠道分配",visible:e.showMoveOrderDlg,width:"450px"},on:{"update:visible":function(t){e.showMoveOrderDlg=t},close:e.closeMoveOrderDlg}},[r("el-form",{attrs:{model:e.moveOrderForm,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"买家姓名"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入买家姓名"},model:{value:e.moveOrderForm.name,callback:function(t){e.$set(e.moveOrderForm,"name",t)},expression:"moveOrderForm.name"}})],1),r("el-form-item",{attrs:{label:"分配渠道"}},[r("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择分配渠道"},on:{change:e.handleSelectChannel},model:{value:e.moveOrderForm.saleChannel,callback:function(t){e.$set(e.moveOrderForm,"saleChannel",t)},expression:"moveOrderForm.saleChannel"}},e._l(e.channels,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"销售员"}},[r("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择销售员"},model:{value:e.moveOrderForm.salePerson2,callback:function(t){e.$set(e.moveOrderForm,"salePerson2",t)},expression:"moveOrderForm.salePerson2"}},e._l(e.salePersons,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"首ICCID"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入首ICCID"},model:{value:e.moveOrderForm.iccidStart,callback:function(t){e.$set(e.moveOrderForm,"iccidStart",t)},expression:"moveOrderForm.iccidStart"}})],1),r("el-form-item",{attrs:{label:"尾ICCID"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入尾ICCID"},model:{value:e.moveOrderForm.iccidEnd,callback:function(t){e.$set(e.moveOrderForm,"iccidEnd",t)},expression:"moveOrderForm.iccidEnd"}})],1),r("el-form-item",{attrs:{label:"预充值套餐"}},[r("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择预充值套餐"},model:{value:e.moveOrderForm.productCode,callback:function(t){e.$set(e.moveOrderForm,"productCode",t)},expression:"moveOrderForm.productCode"}},e._l(e.products2Change,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"赠送流量(MB)"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入赠送流量"},model:{value:e.moveOrderForm.giveUsage,callback:function(t){e.$set(e.moveOrderForm,"giveUsage",t)},expression:"moveOrderForm.giveUsage"}})],1),r("span",[e._v(" 请按照单位填写正确的用量(1GB=1024MB)，不要带上单位！！！ ")]),r("el-form-item",{attrs:{label:"赠送用量类型"}},[r("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"赠送用量类型"},model:{value:e.moveOrderForm.giveUsageType,callback:function(t){e.$set(e.moveOrderForm,"giveUsageType",t)},expression:"moveOrderForm.giveUsageType"}},e._l(e.giveTypes,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("span",[e._v(" 包含套餐：卡激活成功后，只有套餐用量，赠送的用量清零。不包含就进行叠加 ")])],1),r("span",[r("p",[e._v("1）注意：请输入19位数的ICCID，每次分配不能超过2万张卡")]),r("p",[e._v("2）系统会根据提交的信息和输入的首ICCID（包含），和尾ICCID（包含）查询出这之间的数据进行分配渠道、销售员,并创建订单")]),r("p",[e._v("3）如果订单存在，库存也已经分配过了。会进行覆盖更新")]),r("p",[e._v("4）卡状态不是 “可销售” 的不能进行操作，“已激活” 的也不可以。请确保提交的文件或所选择的信息是符合条件的")])]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeMoveOrderDlg}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okMoveOrder}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"文件导入",visible:e.showOrderImportDlg,width:"450px"},on:{"update:visible":function(t){e.showOrderImportDlg=t},close:e.closeOrderImportDlg}},[r("el-form",{attrs:{model:e.orderImportForm,"label-width":"110px"}},[r("el-form-item",{attrs:{label:"买家姓名"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入买家姓名"},model:{value:e.orderImportForm.name,callback:function(t){e.$set(e.orderImportForm,"name",t)},expression:"orderImportForm.name"}})],1),r("el-form-item",{attrs:{label:"分配渠道"}},[r("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择分配渠道"},on:{change:e.handleSelectChannel},model:{value:e.orderImportForm.saleChannel,callback:function(t){e.$set(e.orderImportForm,"saleChannel",t)},expression:"orderImportForm.saleChannel"}},e._l(e.channels,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"销售员"}},[r("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择销售员"},model:{value:e.orderImportForm.salePerson2,callback:function(t){e.$set(e.orderImportForm,"salePerson2",t)},expression:"orderImportForm.salePerson2"}},e._l(e.salePersons,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"预充值套餐"}},[r("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择预充值套餐"},model:{value:e.orderImportForm.productCode,callback:function(t){e.$set(e.orderImportForm,"productCode",t)},expression:"orderImportForm.productCode"}},e._l(e.products2Change,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("el-form-item",{attrs:{label:"赠送流量(MB)"}},[r("el-input",{staticStyle:{width:"300px"},attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入赠送流量"},model:{value:e.orderImportForm.giveUsage,callback:function(t){e.$set(e.orderImportForm,"giveUsage",t)},expression:"orderImportForm.giveUsage"}})],1),r("span",[e._v(" 请按照单位填写正确的用量(1GB=1024MB)，不要带上单位！！！ ")]),r("el-form-item",{attrs:{label:"赠送用量类型"}},[r("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"赠送用量类型"},model:{value:e.orderImportForm.giveUsageType,callback:function(t){e.$set(e.orderImportForm,"giveUsageType",t)},expression:"orderImportForm.giveUsageType"}},e._l(e.giveTypes,(function(e){return r("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),r("span",[e._v(" 包含套餐：卡激活成功后，只有套餐用量，赠送的用量清零。不包含就进行叠加 ")]),r("el-form",{attrs:{"label-width":"120px"}},[r("el-upload",{staticClass:"unload-demo",attrs:{accept:".xls, .xlsx",action:"#","http-request":e.uploadFile,"on-remove":e.removeUploadedFile}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),r("span",[r("p",[e._v("1）下载模板后，填写数据。ICCID 字段为必填。")]),r("p",[e._v("2）会根据提交的信息创建订单，并分配库存渠道、销售员")]),r("p",[e._v("3）如果订单存在，库存也已经分配过了。会进行覆盖更新")]),r("p",[e._v("4）卡状态不是 “可销售” 的不能进行操作，“已激活” 的也不可以。请确保提交的文件或所选择的信息是符合条件的")])]),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeOrderImportDlg}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okOrderImport}},[e._v("确 定")])],1)],1),r("el-dialog",{attrs:{title:"批量删除订单",visible:e.showBatchDeleteOrder,width:"450px"},on:{"update:visible":function(t){e.showBatchDeleteOrder=t},close:e.closeBatchDeleteOrderDlg}},[r("el-form",{attrs:{"label-width":"110px"}},[r("el-form",{attrs:{"label-width":"120px"}},[r("el-upload",{staticClass:"unload-demo",attrs:{accept:".xls, .xlsx",action:"#","http-request":e.uploadBatchDeleteOrderFile,"on-remove":e.removeBatchDeleteOrderFile}},[r("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeBatchDeleteOrderDlg}},[e._v("取 消")]),r("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okBatchDeleteOrder}},[e._v("确 定")])],1)],1)],1)},o=[],l=(r("b0c0"),r("4de4"),r("159b"),r("5f02")),n=r("abe8"),i=r("a7e0"),s={components:{editCardInfo:n["a"],channelSelect:i["a"]},data:function(){return{showBatchDeleteOrder:!1,showOrderImportDlg:!1,orderImportForm:{},showMoveOrderDlg:!1,moveOrderForm:{},btnEnable:!1,cardStatus:"",orderStartDate:"",orderEndDate:"",orderId:"",iccid:"",msisdn:"",channel:"",salePersons:[],loading:!1,statusOptions:[{label:"已录入",value:1},{label:"已发货",value:2},{label:"已激活",value:3},{label:"已驳回",value:4},{label:"已开卡",value:5},{label:"已销毁",value:6},{label:"支付成功",value:30}],giveTypes:[{value:1,name:"包含套餐"},{value:2,name:"不包含套餐"}],channels:[],products2Change:[],cardOrders:[],page:1,pageSize:10,total:0,table_column:[{prop:"orderId",label:"订单编号",width:200,fixed:"left",sortable:!0},{prop:"productName",label:"卡套餐",width:190,fixed:"left",sortable:!0},{prop:"iccid",label:"ICCID",width:200,sortable:!0},{prop:"phoneNumber",label:"MSISDN",width:150,sortable:!0},{prop:"name",label:"买家姓名",width:110,sortable:!0},{prop:"saleChannelName",label:"渠道名称",width:200,sortable:!0},{prop:"salePoint",label:"销售网点",width:180,sortable:!0},{prop:"salePerson",label:"销售员",width:110,sortable:!0},{prop:"supplierName",label:"供应账户",width:180,sortable:!0},{prop:"statusName",label:"订单状态",width:300},{prop:"giveUsage",label:"赠送用量",width:180},{prop:"giveUsageType",label:"赠送用量类型",width:110},{prop:"gmtCreate",label:"下单时间",width:160,sortable:!0},{prop:"gmtActive",label:"激活时间",width:160}]}},mounted:function(){},created:function(){this.getAllChannels(),this.queryCardOrders(),this.getProducts2Change()},watch:{},methods:{openBatchDeleteOrderDlg:function(){this.showBatchDeleteOrder=!0},closeBatchDeleteOrderDlg:function(){this.showBatchDeleteOrder=!1},okBatchDeleteOrder:function(){var e=this;if(null!=this.batchDeleteOrderFile){var t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var r=new FormData;r.append("file",e.batchDeleteOrderFile),l["a"].file2OrdersDelete(r).then((function(e){0==e.resultCode?(t.queryCardOrders(),t.showBatchDeleteOrder=!1,alert("操作成功,请在任务："+e.data+"中查询处理结果")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))}else alert("请先上传要操作的excel文件")},removeBatchDeleteOrderFile:function(e,t){this.batchDeleteOrderFile=null},uploadBatchDeleteOrderFile:function(e){this.batchDeleteOrderFile=e.file},removeUploadedFile:function(e,t){this.orderImportForm.fileToken=""},uploadFile:function(e){var t=this,r=new FormData;r.append("file",e.file),l["a"].uploadFile(r).then((function(e){0==e.resultCode&&(t.orderImportForm.fileToken=e.data)}))},openOrderImportDlg:function(){this.showOrderImportDlg=!0},closeOrderImportDlg:function(){this.showOrderImportDlg=!1},okOrderImport:function(){var e=this;if(void 0!=this.orderImportForm.fileToken&&""!=this.orderImportForm.fileToken){var t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var r={};r.name=e.orderImportForm.name,r.saleChannel=e.orderImportForm.saleChannel,r.salePerson2=e.orderImportForm.salePerson2,r.giveUsage=e.orderImportForm.giveUsage,r.giveUsageType=e.orderImportForm.giveUsageType,r.productCode=e.orderImportForm.productCode,r.fileToken=e.orderImportForm.fileToken,r.type=e.orderImportForm.type,l["a"].importOrder2Channel(r).then((function(e){0==e.resultCode?(t.queryCardOrders(),t.showOrderImportDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))}else alert("请先上传要操作的excel文件")},openMoveOrderDlg:function(){this.showMoveOrderDlg=!0},closeMoveOrderDlg:function(){this.showMoveOrderDlg=!1},okMoveOrder:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var r={};r.name=e.moveOrderForm.name,r.saleChannel=e.moveOrderForm.saleChannel,r.salePerson2=e.moveOrderForm.salePerson2,r.iccidStart=e.moveOrderForm.iccidStart,r.iccidEnd=e.moveOrderForm.iccidEnd,r.productCode=e.moveOrderForm.productCode,r.giveUsage=e.moveOrderForm.giveUsage,r.giveUsageType=e.moveOrderForm.giveUsageType,l["a"].moveOrderByIccidsBetween(r).then((function(e){0==e.resultCode?(t.queryCardOrders(),t.showMoveOrderDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))},getChannelSalePersions:function(e){var t=this,r=this.channels.filter((function(t){return t.value===e}));this.salePersons=[],r.forEach((function(e){var r=e.children;void 0!=r&&null!=r&&r.length>0&&r.forEach((function(e){var r=e.children;t.salePersons.push.apply(t.salePersons,r)}))}))},handleSelectBranchCom:function(e){this.getChannelSalePersions(e)},handleSelectChannel:function(e){this.getProducts2Change(e),this.getChannelSalePersions(e)},getProducts2Change:function(e){var t=this,r={};r.saleChannel=e,l["a"].getAllProduct2Change(r).then((function(e){0==e.resultCode&&(t.products2Change=e.data)}))},getAllChannels:function(){var e=this,t={};l["a"].getAllChannels(t).then((function(t){0==t.resultCode&&(e.channels=t.data)}))},queryCardOrders:function(){var e=this;this.loading=!0;var t={};t.page=this.page,""!=this.orderId&&(t.orderIdlike=this.orderId),""!=this.cardStatus&&(t.status=this.cardStatus),""!=this.iccid&&(t.iccidlike=this.iccid),""!=this.msisdn&&(t.phoneNumber=this.msisdn),""!=this.orderStartDate&&(t.gmtCreateStart=this.orderStartDate),""!=this.orderEndDate&&(t.gmtCreateEnd=this.orderEndDate),""!=this.channel&&(t.saleChannel=this.channel),l["a"].getCardOrders(t).then((function(t){0==t.resultCode&&(e.cardOrders=t.data,e.total=t.rowNum,e.loading=!1)}))},startTimeChange:function(){this.orderStartDate="".concat(this.orderStartDate)},endTimeChange:function(){this.orderEndDate="".concat(this.orderEndDate)},handleSelectionChange:function(e){},handleSizeChange:function(e){this.page=e,this.queryCardOrders()},handleCurrentChange:function(e){this.page=e,this.queryCardOrders()}}},d=s,c=r("2877"),u=Object(c["a"])(d,a,o,!1,null,"0490989c",null);t["default"]=u.exports}}]);
//# sourceMappingURL=chunk-0e2e55d0.da3dd749.js.map