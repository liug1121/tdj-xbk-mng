(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9875a876"],{"04d3":function(e,t,a){"use strict";var s=a("365c");t["a"]={apiCleartypesList:function(e){return s["b"]("boss/v1.0/cleartypes",e)},apiCleartypesAdd:function(e){return s["b"]("boss/v1.0/cleartypes/add",e)},apiFwAccountAdd:function(e){return s["b"]("boss/v1.0/fw/account/add",e)},apiFwAccountModify:function(e){return s["b"]("boss/v1.0/fw/account/modify",e)},apiFwAccountStatus:function(e){return s["b"]("boss/v1.0/fw/account/status",e)},apiFwAccountList:function(e){return s["b"]("boss/v1.0/fw/accounts",e)},apiPackagesList:function(e){return s["b"]("boss/v1.0/packages",e)},apiPackagesAdd:function(e){return s["b"]("boss/v1.0/packages/add",e)},apiPackagesModify:function(e){return s["b"]("boss/v1.0/packages/modify",e)},apiPackagesStop:function(e){return s["b"]("boss/v1.0/packages/stop",e)},apiPackagesTypesAdd:function(e){return s["b"]("boss/v1.0/packagetypes/add",e)},apiProductsTypes:function(e){return s["b"]("boss/v1.0/pruducttypes",e)},apiPayplansList:function(e){return s["b"]("boss/v1.0/payplans",e)},apiPayplansAdd:function(e){return s["b"]("boss/v1.0/payplans/add",e)},apiPayplansImport:function(e){return s["b"]("boss/v1.0/payplans/import",e)},apiPlansList:function(e){return s["b"]("boss/v1.0/plans",e)},apiPlansAdd:function(e){return s["b"]("boss/v1.0/plans/add",e)},apiPlansModify:function(e){return s["b"]("boss/v1.0/plans/modify",e)},apiPlansImport:function(e,t){var a=t;return s["b"]("boss/v1.0/plans/import?fwAccount=".concat(a),e,{headers:{"content-type":"multipart/form-data"}})},apiProductsList:function(e){return s["b"]("boss/v1.0/products",e)},apiProductsAdd:function(e){return s["b"]("boss/v1.0/products/add",e)},apiProvincesList:function(e){return s["a"]("boss/v1.0/provinces",e)},apiGoodsList:function(e){return s["b"]("boss/v1.0/goods",e)},apiGoodsAdd:function(e){return s["b"]("boss/v1.0/goods/add",e)},apiPackageCardfeeAdd:function(e){return s["b"]("boss/v1.0/package/cardfee/add",e)},apiPackagePayfeeAdd:function(e){return s["b"]("boss/v1.0/package/payfee/add",e)},apiGoodsModify:function(e){return s["b"]("boss/v1.0/goods/modify",e)},apiGoodsStatusModify:function(e){return s["b"]("boss/v1.0/goods/status/modify",e)}}},"365c":function(e,t,a){"use strict";a.d(t,"b",(function(){return n})),a.d(t,"a",(function(){return r}));a("d3b7");var s=a("bc3a"),o=a.n(s);o.a.defaults.timeout=5e5,o.a.defaults.headers.post["Content-Type"]="application/json",o.a.interceptors.request.use((function(e){return e.headers.token=window.sessionStorage.getItem("token"),e}),(function(e){return Promise.reject(e)})),o.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var n=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.a.post(e,t,a).then((function(e){return e.data}))},r=function(e,t){return o.a.get(e,{params:t}).then((function(e){return e.data}))}},"541c":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box_subject"},[a("el-card",{staticClass:"all_list"},[a("div",{staticClass:"button_content"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkPackageType-add"},expression:"{indentity:'xbkPackageType-add'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:e.addDialogShow}},[e._v("添加")])],1),a("el-table",{attrs:{data:e.packageTypeList,border:"","max-height":"420",align:"center","cell-style":{height:"38px",padding:0}}},e._l(e.packageType_column,(function(t,s){return a("el-table-column",{key:s,attrs:{prop:t.prop,label:t.label,width:t.width,align:"center",fixed:!!t.fixed&&t.fixed,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(s){return["useSceneCL"==t.prop?a("div",["01"==s.row.useScene?a("span",[e._v("卡池")]):"02"==s.row.useScene?a("span",[e._v("卡")]):a("span")]):e._e(),"operation"==t.prop?a("div"):a("div",[a("div",{domProps:{innerHTML:e._s(s.row[t.prop])}})])]}}],null,!0)})})),1)],1),a("add-products-type",{ref:"addPackageTypeModal",attrs:{sceneOptions:e.sceneOptions},on:{addBasicSuccess:e.addBasicSuccess}})],1)},o=[],n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{title:"新增套餐类型",visible:e.dialogVisible,width:"430px","close-on-click-modal":!1,"destroy-on-close":!0,top:"5vh"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{ref:"addForm",attrs:{model:e.addForm,rules:e.addRules,"label-width":"90px"}},[a("el-form-item",{attrs:{label:"名称",prop:"typeName"}},[a("el-input",{attrs:{placeholder:"请输入名称"},model:{value:e.addForm.typeName,callback:function(t){e.$set(e.addForm,"typeName",t)},expression:"addForm.typeName"}})],1),a("el-form-item",{attrs:{label:"类型",prop:"type"}},[a("el-input",{attrs:{placeholder:"请输入类型,只能是数字"},model:{value:e.addForm.type,callback:function(t){e.$set(e.addForm,"type",e._n(t))},expression:"addForm.type"}})],1),a("el-form-item",{attrs:{label:"应用场景",prop:"useScene"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择应用场景"},model:{value:e.addForm.useScene,callback:function(t){e.$set(e.addForm,"useScene",t)},expression:"addForm.useScene"}},e._l(e.sceneOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"备注",prop:"common"}},[a("el-input",{attrs:{placeholder:"请输入备注"},model:{value:e.addForm.common,callback:function(t){e.$set(e.addForm,"common",t)},expression:"addForm.common"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.closeButton}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addBasic()}}},[e._v("确 定")])],1)],1)},r=[],i={data:function(){return{dialogVisible:!1,addForm:{typeName:"",common:"",useScene:"",type:"",age:""},addRules:{typeName:[{required:!0,message:"请输入名称",trigger:"blur"}],type:[{required:!0,message:"类型不能为空",trigger:"blur"},{type:"number",message:"类型必须为数字",trigger:"blur"}]}}},props:["sceneOptions"],mounted:function(){},methods:{closeButton:function(){this.$refs.addForm.resetFields(),this.dialogVisible=!1},addBasic:function(){var e=this;this.$refs.addForm.validate((function(t){t&&(e.$emit("addBasicSuccess"),e.$refs.addForm.resetFields(),e.dialogVisible=!1)}))}}},c=i,d=a("2877"),u=Object(d["a"])(c,n,r,!1,null,null,null),p=u.exports,l=a("04d3"),f={name:"products",components:{"add-products-type":p},data:function(){return{packageTypeList:[],packageType_column:[{prop:"typeId",label:"编号",width:100},{prop:"typeName",label:"名称"},{prop:"useSceneCL",label:"应用场景",width:100},{prop:"common",label:"备注",width:100}],sceneOptions:[{label:"卡池",value:"01"},{label:"卡",value:"02"}]}},mounted:function(){this._basicPackageTypeList(),this.username=this.$store.state.userinfo.username},methods:{_basicPackageTypeList:function(){var e=this;l["a"].apiProductsTypes().then((function(t){0===t.resultCode?e.packageTypeList=t.data.reverse():e.$message.error(t.resultInfo)}))},addDialogShow:function(){this.$refs.addPackageTypeModal.dialogVisible=!0},addBasicSuccess:function(){var e=this,t=JSON.stringify(this.$refs.addPackageTypeModal.addForm);l["a"].apiPackagesTypesAdd(t).then((function(t){0===t.resultCode?(e.$message.success("添加成功！"),e._basicPackageTypeList()):e.$message.error(t.resultInfo)}))}}},b=f,m=Object(d["a"])(b,s,o,!1,null,"3cf0c1fc",null);t["default"]=m.exports}}]);
//# sourceMappingURL=chunk-9875a876.20d64b15.js.map