(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4d36ade0"],{"365c":function(o,e,t){"use strict";t.d(e,"b",(function(){return n})),t.d(e,"a",(function(){return r}));t("d3b7");var l=t("bc3a"),a=t.n(l);a.a.defaults.timeout=5e5,a.a.defaults.headers.post["Content-Type"]="application/json",a.a.interceptors.request.use((function(o){return o.headers.token=window.sessionStorage.getItem("token"),o}),(function(o){return Promise.reject(o)})),a.a.interceptors.response.use((function(o){return o}),(function(o){return Promise.reject(o)}));var n=function(o,e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.a.post(o,e,t).then((function(o){return o.data}))},r=function(o,e){return a.a.get(o,{params:e}).then((function(o){return o.data}))}},"5f02":function(o,e,t){"use strict";var l=t("365c");e["a"]={getCardOrders:function(o){return l["b"]("/bigflow/manage/v1.0/card/orders",o)},getAllChannels:function(o){return l["a"]("/bigflow/manage/v1.0/channels",o)},getAllPackages:function(o){return l["a"]("/bigflow/manage/v1.0/packages",o)},getAllPools:function(o){return l["a"]("/bigflow/manage/v1.0/pools",o)},getAllServiceInfo:function(o){return l["a"]("/bigflow/manage/v1.0/serviceinfos",o)},getCardInfos:function(o){return l["b"]("/bigflow/manage/v1.0/card/infos",o)},getVoiceRecords:function(o){return l["b"]("/bigflow/manage/v1.0/voice/records",o)},getFlowPools:function(o){return l["b"]("/bigflow/manage/v1.0/flowpools",o)},getFlowCardStock:function(o){return l["b"]("/bigflow/manage/v1.0/cardstockpool",o)},getFlowPoolBills:function(o){return l["b"]("/bigflow/manage/v1.0/flowpoolbills",o)},getCardChanges:function(o){return l["b"]("/bigflow/manage/v1.0/cardchanges",o)},getBigflowStocks:function(o){return l["b"]("/bigflow/manage/v1.0/bigflowcardstocks",o)},getAccessWechats:function(o){return l["b"]("/bigflow/manage/v1.0/accessWechats",o)},getProducts:function(o){return l["b"]("/bigflow/manage/v1.0/bigflowproducts",o)},getAllSysFunctions:function(o){return l["a"]("/bigflow/manage/v1.0/system/functions",o)},getAllSysRoles:function(o){return l["a"]("/bigflow/manage/v1.0/system/roles",o)},getAllSysRoleFunctions:function(o){return l["a"]("/bigflow/manage/v1.0/system/roleFunctions",o)},getAllSysManagerRoles:function(o){return l["a"]("/bigflow/manage/v1.0/system/managerRoles",o)},getAllSysManagers:function(o){return l["a"]("/bigflow/manage/v1.0/system/managers",o)},changeCardStatus:function(o){return l["b"]("/bigflow/manage/v1.0/card/changeCardStatus",o)},unbindCard:function(o){return l["b"]("/bigflow/manage/v1.0/card/untying",o)},dosClear:function(o){return l["b"]("/bigflow/manage/v1.0/card/dosClear",o)},dosChange:function(o){return l["b"]("/bigflow/manage/v1.0/card/dosChange",o)},getProduct2Change:function(o){return l["b"]("/bigflow/manage/v1.0/card/product2change",o)},changeProduct:function(o){return l["b"]("/bigflow/manage/v1.0/card/updateProduct",o)},getComunPlanTypes2Change:function(o){return l["b"]("/bigflow/manage/v1.0/card/communPlanTypes",o)},changeCommunPlanType:function(o){return l["b"]("/bigflow/manage/v1.0/card/communPlan",o)},expiredateextend:function(o){return l["b"]("/bigflow/manage/v1.0/card/expiredateextend",o)},getPdCodes:function(o){return l["a"]("/bigflow/manage/v1.0/flowpools/pdcode",o)},addFlowPool:function(o){return l["b"]("/bigflow/manage/v1.0/flowpools/add",o)},addFlowPoolOrder:function(o){return l["b"]("/bigflow/manage/v1.0/flowpools/order",o)},updateFlowPoolUse:function(o){return l["b"]("/bigflow/manage/v1.0/flowpools/updateuse",o)},movePool:function(o){return l["b"]("/bigflow/manage/v1.0/flowpools/move",o)},movePoolIccidsBetween:function(o){return l["b"]("/bigflow/manage/v1.0/flowpools/move/iccidbetween",o)},stock2Channel:function(o){return l["b"]("/bigflow/manage/v1.0/bigflowcardstocks/tochannel",o)},getAllProduct2Change:function(o){return l["b"]("/bigflow/manage/v1.0/order/products2change",o)},moveOrderByIccidsBetween:function(o){return l["b"]("/bigflow/manage/v1.0/order/move/iccidbetween",o)},uploadFile:function(o){return l["b"]("/bigflow/manage/v1.0/order/file/upload",o,{headers:{"content-type":"multipart/form-data"}})},importOrder2Channel:function(o){return l["b"]("/bigflow/manage/v1.0/order/channel/import",o)},importPoolCards:function(o){return l["b"]("/bigflow/manage/v1.0/flowpools/card/import",o)},importStockCards:function(o){return l["b"]("/bigflow/manage/v1.0/stock/card/import",o)},moveStockCards:function(o){return l["b"]("/bigflow/manage/v1.0/stock/card/move",o)},moveStockCards2Channel:function(o){return l["b"]("/bigflow/manage/v1.0/stock/card/channel/move",o)}}},ca53:function(o,e,t){"use strict";t.r(e);var l=function(){var o=this,e=o.$createElement,t=o._self._c||e;return t("div",{staticClass:"box_subject"},[t("el-card",{staticClass:"all_list"},[t("el-form",{attrs:{inline:!0}},[t("el-form-item",{staticClass:"queryFormItem",attrs:{label:"ICCID"}},[t("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入iccid"},model:{value:o.iccid,callback:function(e){o.iccid=e},expression:"iccid"}})],1),t("el-form-item",{staticClass:"queryFormItem",attrs:{label:"卡状态"}},[t("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择卡状态"},model:{value:o.cardStatus,callback:function(e){o.cardStatus=e},expression:"cardStatus"}},o._l(o.statusOptions,(function(o){return t("el-option",{key:o.value,attrs:{label:o.label,value:o.value}})})),1)],1),t("el-form-item",{staticClass:"queryFormItem",attrs:{label:"渠道"}},[t("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择渠道"},model:{value:o.saleChannel,callback:function(e){o.saleChannel=e},expression:"saleChannel"}},o._l(o.channels,(function(o){return t("el-option",{key:o.value,attrs:{label:o.name,value:o.value}})})),1)],1),t("el-form-item",{staticClass:"queryFormItem",attrs:{label:"流量池"}},[t("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择流量池"},model:{value:o.poolId,callback:function(e){o.poolId=e},expression:"poolId"}},o._l(o.pools,(function(o){return t("el-option",{key:o.value,attrs:{label:o.name,value:o.value}})})),1),t("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:o.queryFlowCardStocks}},[o._v("搜索")])],1)],1),t("div",{staticClass:"button_content"},[t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowFlowCardStock-cardDistribution"},expression:"{indentity:'bigflowFlowCardStock-cardDistribution'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:o.openPoolCardImortDlg}},[o._v("卡片划拨")]),t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowFlowCardStock-distributionForIccid"},expression:"{indentity:'bigflowFlowCardStock-distributionForIccid'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:o.openMovePoolByIccidsDlg}},[o._v("首尾ICCID划拨")]),t("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowFlowCardStock-distributionForIccid"},expression:"{indentity:'bigflowFlowCardStock-distributionForIccid'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:o.openMovePoolDlg}},[o._v("迁移卡池")])],1),t("div",{staticClass:"cardNos"},[t("div",{staticClass:"cardNosList"}),t("div",{staticClass:"cardNosNumber"},[o._v("选中"),t("span",{staticClass:"red"},[o._v("0")]),o._v("条数据")])]),t("el-table",{directives:[{name:"loading",rawName:"v-loading",value:o.loading,expression:"loading"}],attrs:{data:o.flowCardStocks,border:"","max-height":"600",align:"center","cell-style":{height:"38px",padding:0}},on:{"selection-change":o.handleSelectionChange}},[t("el-table-column",{attrs:{type:"selection",width:"55"}}),o._l(o.table_column,(function(e,l){return t("el-table-column",{key:l,attrs:{prop:e.prop,label:e.label,width:e.width,align:"center",fixed:!!e.fixed&&e.fixed,sortable:e.sortable},scopedSlots:o._u([{key:"default",fn:function(l){return[t("div",{domProps:{innerHTML:o._s(l.row[e.prop])}})]}}],null,!0)})}))],2),t("el-pagination",{attrs:{"current-page":o.page,"page-sizes":[10,20,30],"page-size":o.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:o.total},on:{"size-change":o.handleSizeChange,"current-change":o.handleCurrentChange}})],1),t("el-dialog",{attrs:{title:"迁移卡池",visible:o.showMovePoolDlg,width:"450px"},on:{"update:visible":function(e){o.showMovePoolDlg=e},close:o.closeMovePoolDlg}},[t("el-form",{attrs:{model:o.movePoolForm,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"流量池"}},[t("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请输入流量池"},model:{value:o.movePoolForm.poolId,callback:function(e){o.$set(o.movePoolForm,"poolId",e)},expression:"movePoolForm.poolId"}},o._l(o.pools,(function(o){return t("el-option",{key:o.value,attrs:{label:o.name,value:o.value}})})),1)],1),t("el-form-item",{attrs:{label:"超量是否关停"}},[t("el-select",{staticClass:"queryFormInput",attrs:{placeholder:"请输入超量是否关停"},model:{value:o.movePoolForm.useLimitStatus,callback:function(e){o.$set(o.movePoolForm,"useLimitStatus",e)},expression:"movePoolForm.useLimitStatus"}},o._l(o.useLimitStatus,(function(o){return t("el-option",{key:o.value,attrs:{label:o.name,value:o.value}})})),1)],1),t("el-form-item",{attrs:{label:"变更原因"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入变更原因"},model:{value:o.movePoolForm.reason,callback:function(e){o.$set(o.movePoolForm,"reason",e)},expression:"movePoolForm.reason"}})],1)],1),t("span",[t("p",[o._v("1）超量是否关停是指卡有自身套餐情况下，用量超限后的操作指示")]),t("p",[o._v("2）变更原因请认真填写。")])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:o.btnEnable},on:{click:o.closeMovePoolDlg}},[o._v("取 消")]),t("el-button",{attrs:{type:"primary",disabled:o.btnEnable},on:{click:o.okMovePoolPool}},[o._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"首尾ICCID划拨",visible:o.showMovePoolByIccidsDlg,width:"450px"},on:{"update:visible":function(e){o.showMovePoolByIccidsDlg=e},close:o.closeMovePoolByIccidsDlg}},[t("el-form",{attrs:{model:o.movePoolByIccidsForm,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"流量池"}},[t("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请输入流量池"},model:{value:o.movePoolByIccidsForm.poolId,callback:function(e){o.$set(o.movePoolByIccidsForm,"poolId",e)},expression:"movePoolByIccidsForm.poolId"}},o._l(o.pools,(function(o){return t("el-option",{key:o.value,attrs:{label:o.name,value:o.value}})})),1)],1),t("el-form-item",{attrs:{label:"首iccid(19位)"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入首iccid"},model:{value:o.movePoolByIccidsForm.iccidStart,callback:function(e){o.$set(o.movePoolByIccidsForm,"iccidStart",e)},expression:"movePoolByIccidsForm.iccidStart"}})],1),t("el-form-item",{attrs:{label:"尾iccid(19位)"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入尾iccid"},model:{value:o.movePoolByIccidsForm.iccidEnd,callback:function(e){o.$set(o.movePoolByIccidsForm,"iccidEnd",e)},expression:"movePoolByIccidsForm.iccidEnd"}})],1),t("el-form-item",{attrs:{label:"超量是否关停"}},[t("el-select",{staticClass:"queryFormInput",attrs:{placeholder:"请输入超量是否关停"},model:{value:o.movePoolByIccidsForm.useLimitStatus,callback:function(e){o.$set(o.movePoolByIccidsForm,"useLimitStatus",e)},expression:"movePoolByIccidsForm.useLimitStatus"}},o._l(o.useLimitStatus,(function(o){return t("el-option",{key:o.value,attrs:{label:o.name,value:o.value}})})),1)],1),t("el-form-item",{attrs:{label:"变更原因"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入变更原因"},model:{value:o.movePoolByIccidsForm.reason,callback:function(e){o.$set(o.movePoolByIccidsForm,"reason",e)},expression:"movePoolByIccidsForm.reason"}})],1)],1),t("span",[t("p",[o._v("1）超量是否关停是指卡有自身套餐情况下，用量超限后的操作指示")]),t("p",[o._v("2）变更原因请认真填写。")])]),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:o.btnEnable},on:{click:o.closeMovePoolByIccidsDlg}},[o._v("取 消")]),t("el-button",{attrs:{type:"primary",disabled:o.btnEnable},on:{click:o.okMovePoolByIccids}},[o._v("确 定")])],1)],1),t("el-dialog",{attrs:{title:"卡片划拨",visible:o.showPoolCardImortDlg,width:"450px"},on:{"update:visible":function(e){o.showPoolCardImortDlg=e},close:o.closePoolCardImortDlg}},[t("el-form",{attrs:{model:o.poolCardImortForm,"label-width":"110px"}},[t("el-form-item",{attrs:{label:"流量池"}},[t("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请输入流量池"},model:{value:o.poolCardImortForm.poolId,callback:function(e){o.$set(o.poolCardImortForm,"poolId",e)},expression:"poolCardImortForm.poolId"}},o._l(o.pools,(function(o){return t("el-option",{key:o.value,attrs:{label:o.name,value:o.value}})})),1)],1),t("el-form-item",{attrs:{label:"超量是否关停"}},[t("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"超量是否关停"},model:{value:o.poolCardImortForm.useLimitStatus,callback:function(e){o.$set(o.poolCardImortForm,"useLimitStatus",e)},expression:"poolCardImortForm.useLimitStatus"}},o._l(o.useLimitStatus,(function(o){return t("el-option",{key:o.value,attrs:{label:o.name,value:o.value}})})),1)],1),t("el-form-item",{attrs:{label:"变更原因"}},[t("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入变更原因"},model:{value:o.poolCardImortForm.reason,callback:function(e){o.$set(o.poolCardImortForm,"reason",e)},expression:"poolCardImortForm.reason"}})],1),t("el-form",{attrs:{"label-width":"120px"}},[t("el-upload",{staticClass:"unload-demo",attrs:{accept:".xls, .xlsx",action:"#","http-request":o.uploadFile,"on-remove":o.removeUploadedFile}},[t("el-button",{attrs:{size:"small",type:"primary"}},[o._v("点击上传")])],1)],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{disabled:o.btnEnable},on:{click:o.closePoolCardImortDlg}},[o._v("取 消")]),t("el-button",{attrs:{type:"primary",disabled:o.btnEnable},on:{click:o.okPoolCardImort}},[o._v("确 定")])],1)],1)],1)},a=[],n=t("5f02"),r={components:{},data:function(){return{showPoolCardImortDlg:!1,poolCardImortForm:{},btnEnable:!1,showMovePoolByIccidsDlg:!1,movePoolByIccidsForm:{},iccids2Opt:"",showMovePoolDlg:!1,movePoolForm:{},useLimitStatus:[{value:1,name:"不关停"},{value:2,name:"关停"}],loading:!1,iccid:"",cardStatus:"",saleChannel:"",channels:[],poolId:"",pools:[],statusOptions:[{label:"录入",value:1},{label:"可销售",value:2},{label:"已开卡",value:3},{label:"已激活",value:6},{label:"已注销",value:7},{label:"已销毁",value:9}],flowCardStocks:[],page:1,pageSize:10,total:0,table_column:[{prop:"iccid",label:"ICCID",width:200,fixed:"left",sortable:!0},{prop:"phoneNumber",label:"IMSI",width:190,fixed:"left",sortable:!0},{prop:"statusName",label:"库存状态",width:200,sortable:!0},{prop:"poolName",label:"池名称",width:150,sortable:!0},{prop:"gmtPool",label:"加入池时间",width:300,sortable:!0},{prop:"useLimitStatus",label:"限量关停",width:200,sortable:!0},{prop:"gmtStock",label:"入库时间",width:180,sortable:!0}]}},mounted:function(){},created:function(){this.getAllPools(),this.getAllChannels(),this.queryFlowCardStocks()},watch:{},methods:{removeUploadedFile:function(o,e){this.poolCardImortForm.fileToken=""},uploadFile:function(o){var e=this,t=new FormData;t.append("file",o.file),n["a"].uploadFile(t).then((function(o){0==o.resultCode&&(e.poolCardImortForm.fileToken=o.data)}))},openPoolCardImortDlg:function(){this.showPoolCardImortDlg=!0},closePoolCardImortDlg:function(){this.showPoolCardImortDlg=!1},okPoolCardImort:function(){var o=this,e=this;void 0!=this.poolCardImortForm.fileToken&&""!=this.poolCardImortForm.fileToken?this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.btnEnable=!0;var t={};t.poolId=o.poolCardImortForm.poolId,t.useLimitStatus=o.poolCardImortForm.useLimitStatus,t.reason=o.poolCardImortForm.reason,t.fileToken=o.poolCardImortForm.fileToken,n["a"].importPoolCards(t).then((function(o){0==o.resultCode?(e.queryFlowCardStocks(),alert("操作成功")):alert("操作失败:"+o.resultInfo),e.btnEnable=!1}))})).catch((function(){})):alert("请先上传要操作的excel文件")},openMovePoolByIccidsDlg:function(){""!=this.iccids2Opt?this.showMovePoolByIccidsDlg=!0:alert("请选择要操作的卡")},closeMovePoolByIccidsDlg:function(){this.showMovePoolByIccidsDlg=!1},okMovePoolByIccids:function(){var o=this,e=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.btnEnable=!0;var t={};t.iccidStart=o.movePoolByIccidsForm.iccidStart,t.iccidEnd=o.movePoolByIccidsForm.iccidEnd,t.reason=o.movePoolByIccidsForm.reason,t.poolId=o.movePoolByIccidsForm.poolId,t.useLimitStatus=o.movePoolByIccidsForm.useLimitStatus,n["a"].movePoolIccidsBetween(t).then((function(o){0==o.resultCode?(e.queryFlowCardStocks(),alert("操作成功")):alert("操作失败:"+o.resultInfo),e.btnEnable=!1}))})).catch((function(){}))},closeMovePoolDlg:function(){this.showMovePoolDlg=!1},okMovePoolPool:function(){var o=this,e=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.btnEnable=!0;var t={};t.iccids=o.iccids2Opt,t.reason=o.movePoolForm.reason,t.poolId=o.movePoolForm.poolId,t.useLimitStatus=o.movePoolForm.useLimitStatus,n["a"].movePool(t).then((function(o){0==o.resultCode?(e.queryFlowCardStocks(),alert("操作成功")):alert("操作失败:"+o.resultInfo),e.btnEnable=!1}))})).catch((function(){}))},openMovePoolDlg:function(){""!=this.iccids2Opt?this.showMovePoolDlg=!0:alert("请选择要操作的卡")},getAllPools:function(){var o=this,e={};n["a"].getAllPools(e).then((function(e){0==e.resultCode&&(o.pools=e.data)}))},getAllChannels:function(){var o=this,e={};n["a"].getAllChannels(e).then((function(e){0==e.resultCode&&(o.channels=e.data,o.total=e.rowNum)}))},handleSelectBranchCom:function(o){},queryFlowCardStocks:function(){var o=this;this.loading=!0;var e={};e.page=this.page,""!=this.iccid&&(e.iccidLike=this.iccid),""!=this.cardStatus&&(e.status=this.cardStatus),""!=this.saleChannel&&(e.channelId=this.saleChannel),""!=this.poolId&&(e.poolId=this.poolId),n["a"].getFlowCardStock(e).then((function(e){0==e.resultCode&&(o.flowCardStocks=e.data,o.total=e.rowNum,o.loading=!1)}))},handleSelectionChange:function(o){if(this.iccids2Opt="",o.length>0){for(var e=0;e<o.length;e++)this.iccids2Opt=this.iccids2Opt+o[e].iccid+",";this.iccids2Opt=this.iccids2Opt.substr(0,this.iccids2Opt.length-1)}},handleSizeChange:function(o){this.page=o,this.queryFlowCardStocks()},handleCurrentChange:function(o){this.page=o,this.queryFlowCardStocks()}}},i=r,s=t("2877"),c=Object(s["a"])(i,l,a,!1,null,"8382f9d8",null);e["default"]=c.exports}}]);
//# sourceMappingURL=chunk-4d36ade0.90b607b1.js.map