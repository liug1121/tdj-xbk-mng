{"version":3,"sources":["webpack:///./src/api/index.js","webpack:///./src/api/bigflow.js","webpack:///./src/components/bigflow/flowpool/flowPool.vue?29dc","webpack:///src/components/bigflow/flowpool/flowPool.vue","webpack:///./src/components/bigflow/flowpool/flowPool.vue?a14c","webpack:///./src/components/bigflow/flowpool/flowPool.vue"],"names":["axios","defaults","timeout","headers","post","interceptors","request","use","config","token","window","sessionStorage","getItem","error","Promise","reject","response","POST","url","params","then","res","data","GET","get","getCardOrders","API","getAllChannels","getAllPackages","getAllPools","getAllServiceInfo","getCardInfos","getVoiceRecords","getFlowPools","getFlowCardStock","getFlowPoolBills","getCardChanges","getBigflowStocks","getAccessWechats","getProducts","getAllSysFunctions","getAllSysRoles","getAllSysRoleFunctions","getAllSysManagerRoles","getAllSysManagers","changeCardStatus","unbindCard","dosClear","dosChange","getProduct2Change","changeProduct","getComunPlanTypes2Change","changeCommunPlanType","expiredateextend","batchExpiredateExtend","getPdCodes","addFlowPool","addFlowPoolOrder","updateFlowPoolUse","movePool","movePoolIccidsBetween","stock2Channel","getAllProduct2Change","moveOrderByIccidsBetween","uploadFile","file2ExpiredateExtend","reason","extendTime","importOrder2Channel","importPoolCards","importStockCards","moveStockCards","moveStockCards2Channel","file2CardUsageCheck","file2OrdersDelete","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","model","value","callback","$$v","status","expression","_l","item","key","label","saleChannel","name","on","queryFlowPools","_v","directives","rawName","indentity","openAddFlowPoolDlg","openOrderDlg","openUpdateuseDlg","flowPools","height","padding","handleSelectionChange","p","prop","width","fixed","sortable","scopedSlots","_u","fn","scope","domProps","_s","row","page","pageSize","total","handleSizeChange","handleCurrentChange","showAddFlowPoolDlg","$event","closeAddFlowPoolDlg","addFlowPoolForm","staticStyle","$set","slot","btnEnable","okAddFlowPool","showOrderDlg","closeOrderDlg","addOrderForm","okOrderPool","showUpdateuseDlg","closeUpdateuseDlg","updateuseForm","okUpdateuse","staticRenderFns","components","table_column","mounted","created","watch","methods","handleSelectBranchCom","newPage","component"],"mappings":"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","file":"js/chunk-86ba8992.451b0a80.js","sourcesContent":["import axios from 'axios'\r\n// import QS from 'qs'\r\n\r\n// axios.defaults.baseURL = 'http://xbk.tdj.cn/ceshi/'\r\n// axios.defaults.baseURL = 'http://xbk.tdj.cn/admin/'\r\n\r\nif (process.env.VUE_APP_CURRENTMODE == 'production') {\r\n  axios.defaults.baseURL = 'http://xbk.tdj.cn/admin/'\r\n} else if (process.env.VUE_APP_CURRENTMODE == 'test') {\r\n  // axios.defaults.baseURL = \"https://suning1-dev.xuebaka.cn/api\"\r\n}\r\n// 设置请求超时\r\naxios.defaults.timeout = 500000\r\n// 设置 POST 请求头\r\naxios.defaults.headers.post['Content-Type'] = 'application/json'\r\n// 添加请求拦截器\r\naxios.interceptors.request.use(function (config) {\r\n  // 在发送请求之前做些什么\r\n  config.headers.token = window.sessionStorage.getItem('token')\r\n  // 在最后必须 return config\r\n  return config\r\n}, function (error) {\r\n  // 对请求错误做些什么\r\n  return Promise.reject(error)\r\n})\r\n// 添加响应拦截器\r\naxios.interceptors.response.use(function (response) {\r\n  // 对响应数据做点什么\r\n  return response\r\n}, function (error) {\r\n  // 对响应错误做点什么\r\n  return Promise.reject(error)\r\n})\r\n// 通用方法\r\nexport const POST = (url, params, config = {}) => {\r\n  return axios.post(url, params, config).then(res => res.data)\r\n}\r\n\r\nexport const GET = (url, params) => {\r\n  return axios.get(url, { params: params }).then(res => res.data)\r\n}\r\n\r\nexport const ALL = (promiseArr) => {\r\n  return axios.all(promiseArr)\r\n}\r\n","import * as API from './'\nexport default {\n    getCardOrders: params => {\n        return API.POST('/bigflow/manage/v1.0/card/orders', params)\n      },\n\n    getAllChannels: params =>{\n        return API.GET('/bigflow/manage/v1.0/channels', params)\n    },\n    getAllPackages: params =>{\n        return API.GET('/bigflow/manage/v1.0/packages', params)\n    }\n    ,\n    getAllPools: params =>{\n        return API.GET('/bigflow/manage/v1.0/pools', params)\n    },\n    getAllServiceInfo: params =>{\n        return API.GET('/bigflow/manage/v1.0/serviceinfos', params)\n    },\n    \n    getCardInfos:params =>{\n        return API.POST('/bigflow/manage/v1.0/card/infos', params)\n    },\n    getVoiceRecords:params =>{\n        return API.POST('/bigflow/manage/v1.0/voice/records', params)\n    },\n    getFlowPools:params =>{\n        return API.POST('/bigflow/manage/v1.0/flowpools', params)\n    },\n    getFlowCardStock:params =>{\n        return API.POST('/bigflow/manage/v1.0/cardstockpool', params)\n    },\n    getFlowPoolBills:params =>{\n        return API.POST('/bigflow/manage/v1.0/flowpoolbills', params)\n    },\n    getCardChanges:params =>{\n        return API.POST('/bigflow/manage/v1.0/cardchanges', params)\n    },\n    getBigflowStocks:params =>{\n        return API.POST('/bigflow/manage/v1.0/bigflowcardstocks', params)\n    },\n    getAccessWechats:params =>{\n        return API.POST('/bigflow/manage/v1.0/accessWechats', params)\n    },\n    getProducts:params =>{\n        return API.POST('/bigflow/manage/v1.0/bigflowproducts', params)\n    },\n    getAllSysFunctions: params =>{\n        return API.GET('/bigflow/manage/v1.0/system/functions', params)\n    },\n    getAllSysRoles: params =>{\n        return API.GET('/bigflow/manage/v1.0/system/roles', params)\n    },\n    getAllSysRoleFunctions: params =>{\n        return API.GET('/bigflow/manage/v1.0/system/roleFunctions', params)\n    },\n    getAllSysManagerRoles: params =>{\n        return API.GET('/bigflow/manage/v1.0/system/managerRoles', params)\n    },\n    getAllSysManagers: params =>{\n        return API.GET('/bigflow/manage/v1.0/system/managers', params)\n    },\n    changeCardStatus: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/changeCardStatus', params)\n    },\n    unbindCard: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/untying', params)\n    },\n    dosClear: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/dosClear', params)\n    },\n    dosChange: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/dosChange', params)\n    },\n    getProduct2Change: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/product2change', params)\n    },\n    changeProduct: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/updateProduct', params)\n    },\n    getComunPlanTypes2Change: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/communPlanTypes', params)\n    },\n    changeCommunPlanType: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/communPlan', params)\n    },\n    expiredateextend: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/expiredateextend', params)\n    },\n    batchExpiredateExtend: params =>{\n        return API.POST('/bigflow/manage/v1.0/card/expiredate/batchextend', params)\n    },\n    getPdCodes: params =>{\n        return API.GET('/bigflow/manage/v1.0/flowpools/pdcode', params)\n    },\n    addFlowPool: params =>{\n        return API.POST('/bigflow/manage/v1.0/flowpools/add', params)\n    },\n    addFlowPoolOrder: params =>{\n        return API.POST('/bigflow/manage/v1.0/flowpools/order', params)\n    },\n    updateFlowPoolUse: params =>{\n        return API.POST('/bigflow/manage/v1.0/flowpools/updateuse', params)\n    },\n    movePool: params =>{\n        return API.POST('/bigflow/manage/v1.0/flowpools/move', params)\n    },\n    movePoolIccidsBetween: params =>{\n        return API.POST('/bigflow/manage/v1.0/flowpools/move/iccidbetween', params)\n    },\n    stock2Channel: params =>{\n        return API.POST('/bigflow/manage/v1.0/bigflowcardstocks/tochannel', params)\n    },\n    getAllProduct2Change: params =>{\n        return API.POST('/bigflow/manage/v1.0/order/products2change', params)\n    } ,\n    moveOrderByIccidsBetween: params =>{\n        return API.POST('/bigflow/manage/v1.0/order/move/iccidbetween', params)\n    },\n    uploadFile: (params) => {\n      return API.POST('/bigflow/manage/v1.0/order/file/upload', params, {\n        headers: {\n          'content-type': 'multipart/form-data'\n        }\n      })\n    },\n    file2ExpiredateExtend: (params, reason, extendTime) => {\n        return API.POST(`/bigflow/manage/v1.0/card/expiredate/file2Extend?extendTime=${extendTime}&reason=${reason}`, params, {\n          headers: {\n            'content-type': 'multipart/form-data'\n          }\n        })\n      },\n    importOrder2Channel: params =>{\n        return API.POST('/bigflow/manage/v1.0/order/channel/import', params)\n    },\n    importPoolCards: params =>{\n        return API.POST('/bigflow/manage/v1.0/flowpools/card/import', params)\n    },\n    importStockCards: params =>{\n        return API.POST('/bigflow/manage/v1.0/stock/card/import', params)\n    },\n    moveStockCards: params =>{\n        return API.POST('/bigflow/manage/v1.0/stock/card/move', params)\n    },\n    moveStockCards2Channel: params =>{\n        return API.POST('/bigflow/manage/v1.0/stock/card/channel/move', params)\n    },\n    file2CardUsageCheck: (params) => {\n        return API.POST('/bigflow/manage/v1.0/card/useage/check/file', params, {\n            headers: {\n            'content-type': 'multipart/form-data'\n            }\n        })\n    },\n    file2OrdersDelete: (params) => {\n        return API.POST('/bigflow/manage/v1.0/order/file/delete', params, {\n            headers: {\n              'content-type': 'multipart/form-data'\n            }\n          })\n    }  \n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box_subject\"},[_c('el-card',{staticClass:\"all_list\"},[_c('el-form',{attrs:{\"inline\":true}},[_c('el-form-item',{staticClass:\"queryFormItem\",attrs:{\"label\":\"卡状态\"}},[_c('el-select',{staticClass:\"queryFormInput\",attrs:{\"clearable\":\"\",\"placeholder\":\"请选择卡状态\"},model:{value:(_vm.status),callback:function ($$v) {_vm.status=$$v},expression:\"status\"}},_vm._l((_vm.statusTypes),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_c('el-form-item',{staticClass:\"queryFormItem\",attrs:{\"label\":\"渠道\"}},[_c('el-select',{staticClass:\"queryFormInput\",attrs:{\"filterable\":\"\",\"clearable\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"请选择渠道\"},model:{value:(_vm.saleChannel),callback:function ($$v) {_vm.saleChannel=$$v},expression:\"saleChannel\"}},_vm._l((_vm.channels),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})}),1),_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-search\"},on:{\"click\":_vm.queryFlowPools}},[_vm._v(\"搜索\")])],1)],1),_c('div',{staticClass:\"button_content\"},[_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:({indentity:'bigflowFlowPool-add'}),expression:\"{indentity:'bigflowFlowPool-add'}\"}],attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.openAddFlowPoolDlg}},[_vm._v(\"增加\")]),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:({indentity:'bigflowFlowPool-orderProduct'}),expression:\"{indentity:'bigflowFlowPool-orderProduct'}\"}],attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.openOrderDlg}},[_vm._v(\"订购套餐\")]),_c('el-button',{directives:[{name:\"permission\",rawName:\"v-permission\",value:({indentity:'bigflowFlowPool-useChange'}),expression:\"{indentity:'bigflowFlowPool-useChange'}\"}],attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.openUpdateuseDlg}},[_vm._v(\"调整用量\")])],1),_c('div',{staticClass:\"cardNos\"},[_c('div',{staticClass:\"cardNosList\"}),_c('div',{staticClass:\"cardNosNumber\"},[_vm._v(\"选中\"),_c('span',{staticClass:\"red\"},[_vm._v(\"0\")]),_vm._v(\"条数据\")])]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.flowPools,\"border\":\"\",\"max-height\":\"600\",\"align\":\"center\",\"cell-style\":{height: '38px',padding:0}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._l((_vm.table_column),function(p,key){return _c('el-table-column',{key:key,attrs:{\"prop\":p.prop,\"label\":p.label,\"width\":p.width,\"align\":\"center\",\"fixed\":p.fixed?p.fixed:false,\"sortable\":p.sortable},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"innerHTML\":_vm._s(scope.row[p.prop])}})]}}],null,true)})})],2),_c('el-pagination',{attrs:{\"current-page\":_vm.page,\"page-sizes\":[10,20,30],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1),_c('el-dialog',{attrs:{\"title\":\"添加流量池\",\"visible\":_vm.showAddFlowPoolDlg,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.showAddFlowPoolDlg=$event},\"close\":_vm.closeAddFlowPoolDlg}},[_c('el-form',{attrs:{\"model\":_vm.addFlowPoolForm,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"流量池编号\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入流量池编号\"},model:{value:(_vm.addFlowPoolForm.poolId),callback:function ($$v) {_vm.$set(_vm.addFlowPoolForm, \"poolId\", $$v)},expression:\"addFlowPoolForm.poolId\"}})],1),_c('el-form-item',{attrs:{\"label\":\"流量池名称\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入流量池名称\"},model:{value:(_vm.addFlowPoolForm.poolName),callback:function ($$v) {_vm.$set(_vm.addFlowPoolForm, \"poolName\", $$v)},expression:\"addFlowPoolForm.poolName\"}})],1),_c('el-form-item',{attrs:{\"label\":\"渠道\"}},[_c('el-select',{staticClass:\"queryFormInput\",attrs:{\"filterable\":\"\",\"clearable\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"请输入调整原因\"},model:{value:(_vm.addFlowPoolForm.saleChannel),callback:function ($$v) {_vm.$set(_vm.addFlowPoolForm, \"saleChannel\", $$v)},expression:\"addFlowPoolForm.saleChannel\"}},_vm._l((_vm.channels),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"卡的默认限量\"}},[_c('el-select',{staticClass:\"queryFormInput\",attrs:{\"filterable\":\"\",\"clearable\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"请输入卡的默认限量\"},model:{value:(_vm.addFlowPoolForm.cardDefaultPdCode),callback:function ($$v) {_vm.$set(_vm.addFlowPoolForm, \"cardDefaultPdCode\", $$v)},expression:\"addFlowPoolForm.cardDefaultPdCode\"}},_vm._l((_vm.getPdCodes),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"disabled\":_vm.btnEnable},on:{\"click\":_vm.closeAddFlowPoolDlg}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.btnEnable},on:{\"click\":_vm.okAddFlowPool}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"流量池订购套餐\",\"visible\":_vm.showOrderDlg,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.showOrderDlg=$event},\"close\":_vm.closeOrderDlg}},[_c('el-form',{attrs:{\"model\":_vm.addOrderForm,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"订购套餐\"}},[_c('el-select',{staticClass:\"queryFormInput\",attrs:{\"filterable\":\"\",\"clearable\":\"\",\"reserve-keyword\":\"\",\"placeholder\":\"请输入订购套餐\"},model:{value:(_vm.addOrderForm.productCode),callback:function ($$v) {_vm.$set(_vm.addOrderForm, \"productCode\", $$v)},expression:\"addOrderForm.productCode\"}},_vm._l((_vm.getPdCodes),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"变更原因\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入变更原因\"},model:{value:(_vm.addOrderForm.reason),callback:function ($$v) {_vm.$set(_vm.addOrderForm, \"reason\", $$v)},expression:\"addOrderForm.reason\"}})],1)],1),_c('span',[_c('p',[_vm._v(\"1）订购套餐为立即生效，会复盖之前的可用量及有效时间；\")]),_c('p',[_vm._v(\"2）加油包用量是当月有效，27号清0；\")]),_c('p',[_vm._v(\"3）变更原因请认真填写；\")]),_c('p',[_vm._v(\"4）订购成功后，并不会启用流量池，如需要请手动启用。\")])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"disabled\":_vm.btnEnable},on:{\"click\":_vm.closeOrderDlg}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.btnEnable},on:{\"click\":_vm.okOrderPool}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"调整用量\",\"visible\":_vm.showUpdateuseDlg,\"width\":\"450px\"},on:{\"update:visible\":function($event){_vm.showUpdateuseDlg=$event},\"close\":_vm.closeUpdateuseDlg}},[_c('el-form',{attrs:{\"model\":_vm.updateuseForm,\"label-width\":\"110px\"}},[_c('el-form-item',{attrs:{\"label\":\"高速可用量\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"onkeyup\":\"value=value.replace(/[^\\\\d]/g,'')\",\"placeholder\":\"请输入变更原因\"},model:{value:(_vm.updateuseForm.flowHighDose),callback:function ($$v) {_vm.$set(_vm.updateuseForm, \"flowHighDose\", $$v)},expression:\"updateuseForm.flowHighDose\"}})],1),_c('el-form-item',{attrs:{\"label\":\"变更原因\"}},[_c('el-input',{staticStyle:{\"width\":\"300px\"},attrs:{\"placeholder\":\"请输入变更原因\"},model:{value:(_vm.updateuseForm.reason),callback:function ($$v) {_vm.$set(_vm.updateuseForm, \"reason\", $$v)},expression:\"updateuseForm.reason\"}})],1)],1),_c('span',[_c('p',[_vm._v(\"1）变更以G为单位，例如：输入1，代表1G\")]),_c('p',[_vm._v(\"2）变更逻辑：在原来基础上加上变更的用量。\")]),_c('p',[_vm._v(\"例如：原来有10G，变更1G，最后会变成11G\")]),_c('p',[_vm._v(\"输入负数就是减： 输入-1，就会变成9G。\")]),_c('p',[_vm._v(\"3）必填参数如果不需要变更，输入0即可\")])]),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"disabled\":_vm.btnEnable},on:{\"click\":_vm.closeUpdateuseDlg}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\",\"disabled\":_vm.btnEnable},on:{\"click\":_vm.okUpdateuse}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box_subject\">\n    <el-card class=\"all_list\">\n      <!-- 查询区域 -->\n      <el-form  :inline=\"true\">\n        <el-form-item label=\"卡状态\" class=\"queryFormItem\">\n            <el-select class=\"queryFormInput\"  clearable placeholder=\"请选择卡状态\" v-model=\"status\">\n            <el-option v-for=\"item in statusTypes\" :key=\"item.value\" :label=\"item.label\" :value=\"item.value\"></el-option>\n            </el-select>\n        </el-form-item>\n        <el-form-item label=\"渠道\" class=\"queryFormItem\">\n          <el-select class=\"queryFormInput\"  \n          filterable\n          clearable\n          reserve-keyword\n           placeholder=\"请选择渠道\" v-model=\"saleChannel\">\n            <el-option v-for=\"item in channels\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\n          </el-select>\n          <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-search\" @click=\"queryFlowPools\">搜索</el-button>\n        </el-form-item>\n      </el-form>\n      <div class=\"button_content\">\n        <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-edit\" \n        v-permission=\"{indentity:'bigflowFlowPool-add'}\" @click=\"openAddFlowPoolDlg\">增加</el-button>\n\n        <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-edit\" \n        v-permission=\"{indentity:'bigflowFlowPool-orderProduct'}\" @click=\"openOrderDlg\">订购套餐</el-button>\n        \n        <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-edit\" \n        v-permission=\"{indentity:'bigflowFlowPool-useChange'}\" @click=\"openUpdateuseDlg\">调整用量</el-button>\n      </div>\n      <!-- 列表区域 -->\n      <div class=\"cardNos\">\n        <div class=\"cardNosList\">\n         \n        </div>\n        <div class=\"cardNosNumber\">选中<span class=\"red\">0</span>条数据</div>\n      </div>\n      <el-table v-loading=\"loading\" :data=\"flowPools\" border max-height=\"600\" align=\"center\" :cell-style=\"{height: '38px',padding:0}\" @selection-change=\"handleSelectionChange\">\n        <el-table-column type=\"selection\" width=\"55\">\n        </el-table-column>\n        <el-table-column v-for=\"(p, key) in table_column\" :prop=\"p.prop\" :label=\"p.label\" :width=\"p.width\" :key=\"key\" align=\"center\" :fixed=\"p.fixed?p.fixed:false\" :sortable=\"p.sortable\">\n          <template slot-scope=\"scope\">\n              <div v-html=\"scope.row[p.prop]\" />\n          </template>\n        </el-table-column>\n      </el-table>\n      <!-- 分页区域 -->\n      <el-pagination @size-change=\"handleSizeChange\" @current-change=\"handleCurrentChange\" :current-page=\"page\" :page-sizes=\"[10,20,30]\" :page-size=\"pageSize\" layout=\"total, sizes, prev, pager, next, jumper\"\n        :total=\"total\">\n      </el-pagination>\n    </el-card>\n\n    <el-dialog title=\"添加流量池\" :visible.sync=\"showAddFlowPoolDlg\" width=\"450px\" @close=\"closeAddFlowPoolDlg\">\n      <!-- 内容主体区域 --> \n      <el-form :model=\"addFlowPoolForm\"  label-width=\"110px\">\n          <el-form-item label=\"流量池编号\">\n          <el-input style=\"width:300px;\" v-model=\"addFlowPoolForm.poolId\" placeholder=\"请输入流量池编号\" ></el-input>\n        </el-form-item>\n        <el-form-item label=\"流量池名称\">\n          <el-input style=\"width:300px;\"  v-model=\"addFlowPoolForm.poolName\" placeholder=\"请输入流量池名称\" ></el-input>\n        </el-form-item>\n        <el-form-item label=\"渠道\">\n          <el-select \n          filterable\n          clearable\n          reserve-keyword\n          class=\"queryFormInput\"  placeholder=\"请输入调整原因\" v-model=\"addFlowPoolForm.saleChannel\">\n            <el-option v-for=\"item in channels\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"卡的默认限量\">\n            <el-select \n            filterable\n          clearable\n          reserve-keyword\n            class=\"queryFormInput\"  placeholder=\"请输入卡的默认限量\" v-model=\"addFlowPoolForm.cardDefaultPdCode\">\n            <el-option v-for=\"item in getPdCodes\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\n          </el-select>\n        </el-form-item>\n      </el-form>\n      <!-- 底部区域 -->\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeAddFlowPoolDlg\" :disabled=\"btnEnable\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"okAddFlowPool\" :disabled=\"btnEnable\">确 定</el-button>\n      </span>  \n    </el-dialog> \n\n    <el-dialog title=\"流量池订购套餐\" :visible.sync=\"showOrderDlg\" width=\"450px\" @close=\"closeOrderDlg\">\n      <!-- 内容主体区域 --> \n      <el-form :model=\"addOrderForm\"  label-width=\"110px\">\n        <el-form-item label=\"订购套餐\">\n          <el-select \n          filterable\n          clearable\n          reserve-keyword\n          class=\"queryFormInput\"  placeholder=\"请输入订购套餐\" v-model=\"addOrderForm.productCode\">\n            <el-option v-for=\"item in getPdCodes\" :key=\"item.value\" :label=\"item.name\" :value=\"item.value\"></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item label=\"变更原因\">\n          <el-input style=\"width:300px;\" v-model=\"addOrderForm.reason\" placeholder=\"请输入变更原因\" ></el-input>\n        </el-form-item>\n      </el-form>\n      <span>\n          <p>1）订购套餐为立即生效，会复盖之前的可用量及有效时间；</p>\n\n            <p>2）加油包用量是当月有效，27号清0；</p>\n\n            <p>3）变更原因请认真填写；</p>\n\n            <p>4）订购成功后，并不会启用流量池，如需要请手动启用。</p>\n      </span>\n      <!-- 底部区域 -->\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeOrderDlg\" :disabled=\"btnEnable\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"okOrderPool\" :disabled=\"btnEnable\">确 定</el-button>\n      </span>  \n    </el-dialog> \n\n    <el-dialog title=\"调整用量\" :visible.sync=\"showUpdateuseDlg\" width=\"450px\" @close=\"closeUpdateuseDlg\">\n      <!-- 内容主体区域 -->  \n      <el-form :model=\"updateuseForm\"  label-width=\"110px\">\n        <el-form-item label=\"高速可用量\">\n          <el-input style=\"width:300px;\" onkeyup=\"value=value.replace(/[^\\d]/g,'')\" v-model=\"updateuseForm.flowHighDose\" placeholder=\"请输入变更原因\" ></el-input>\n        </el-form-item>\n        <el-form-item label=\"变更原因\">\n          <el-input style=\"width:300px;\" v-model=\"updateuseForm.reason\" placeholder=\"请输入变更原因\" ></el-input>\n        </el-form-item>\n      </el-form>\n      <span>\n          <p>1）变更以G为单位，例如：输入1，代表1G</p>\n\n            <p>2）变更逻辑：在原来基础上加上变更的用量。</p>\n\n            <p>例如：原来有10G，变更1G，最后会变成11G</p>\n\n            <p>输入负数就是减： 输入-1，就会变成9G。</p>\n\n            <p>3）必填参数如果不需要变更，输入0即可</p>\n      </span>\n      <!-- 底部区域 -->\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeUpdateuseDlg\" :disabled=\"btnEnable\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"okUpdateuse\" :disabled=\"btnEnable\">确 定</el-button>\n      </span>  \n    </el-dialog> \n  </div>\n</template>\n\n<script>\nimport apiBigflow from './../../../api/bigflow'\nexport default {\n  components: {\n\n  },\n  data () {\n    return {\n    showUpdateuseDlg:false,\n    updateuseForm:{},\n    showOrderDlg:false,\n    addOrderForm:{},\n    poolId:'',\n    pdCodes:[],\n    showAddFlowPoolDlg:false, \n    addFlowPoolForm:{},\n    btnEnable: false,\n    loading: false,\n    status:'',\n    saleChannel:'',\n    channels:[],\n    statusTypes:[\n        {label:'可用', value:'open'},\n        {label:'不可用', value:'close'}\n    ],\n    flowPools:[],\n      page: 1,\n      pageSize: 10,\n      // 列表总条数\n      total: 0,\n      // 列表，标题、字段\n      table_column: [\n        { prop: 'poolId', label: '池ID', width: 200, fixed: 'left', sortable: true },\n        { prop: 'poolName', label: '池名称', width: 190, fixed: 'left', sortable: true },\n        { prop: 'statusName', label: '状态', width: 200, sortable: true },\n        { prop: 'num', label: '总卡片数', width: 150, sortable: true },\n        { prop: 'saleChannelName', label: '渠道', width: 300, sortable: true },\n        { prop: 'productCodeName', label: '当前套餐', width: 200, sortable: true },\n        { prop: 'flowHighDoseName', label: '可用量', width: 180, sortable: true },\n        { prop: 'flowHighUsedName', label: '当月已使用', width: 180, sortable: true },\n        { prop: 'surplusUsedName', label: '剩余总流量', width: 180, sortable: true },\n        { prop: 'expireDate', label: '有效期', width: 300 },\n        { prop: 'gmtCreate', label: '创建时间', width: 300 }\n        \n      ],\n    };\n  },\n  mounted () {\n\n  },\n  created(){\n      this.getAllChannels()\n      this.queryFlowPools()\n      this.getPdCodes()\n  },\n  watch: {},\n  methods: {\n      openUpdateuseDlg:function(){\n          if(this.poolId == \"\"){\n            alert('请先选择要操作的流量池')\n            return\n        }\n        if(this.poolId.indexOf(',') != -1){\n            alert('一次只能操作一个流量池')\n            return\n        }\n        this.showUpdateuseDlg = true\n      }, \n      closeUpdateuseDlg:function(){\n          this.showUpdateuseDlg = false\n      },\n      okUpdateuse:function(){\n          let that = this\n        this.$confirm('您确认要此操作, 是否继续?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n        }).then(() => {\n            that.btnEnable = true\n            let params = {}\n            params.flowHighDose = this.updateuseForm.flowHighDose\n            params.reason = this.updateuseForm.reason\n            params.poolId = this.poolId\n            apiBigflow.updateFlowPoolUse(params).then(res=>{\n                if(res.resultCode == 0){\n                    that.queryFlowPools()\n                    that.showUpdateuseDlg = false\n                    alert('操作成功')\n                }else{\n                    alert('操作失败:' + res.resultInfo)\n                }\n                that.btnEnable = false\n            })\n        }).catch(() => {\n        });\n      },\n    openOrderDlg:function(){\n        if(this.poolId == \"\"){\n            alert('请先选择要操作的流量池')\n            return\n        }\n        if(this.poolId.indexOf(',') != -1){\n            alert('一次只能操作一个流量池')\n            return\n        }\n        this.showOrderDlg = true\n    },  \n    closeOrderDlg:function(){\n        this.showOrderDlg = false\n    },\n    okOrderPool:function(){\n        let that = this\n        this.$confirm('您确认要此操作, 是否继续?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n        }).then(() => {\n            that.btnEnable = true\n            let params = {}\n            params.productCode = this.addOrderForm.productCode\n            params.reason = this.addOrderForm.reason\n            params.poolId = this.poolId\n            apiBigflow.addFlowPoolOrder(params).then(res=>{\n                if(res.resultCode == 0){\n                    that.queryFlowPools()\n                    that.showOrderDlg = false\n                    alert('操作成功')\n                }else{\n                    alert('操作失败:' + res.resultInfo)\n                }\n                that.btnEnable = false\n            })\n        }).catch(() => {\n        });\n    },\n    openAddFlowPoolDlg:function(){\n        this.showAddFlowPoolDlg = true\n    },\n    closeAddFlowPoolDlg:function(){\n        this.showAddFlowPoolDlg = false\n    },\n    okAddFlowPool:function(){\n        let that = this\n        this.$confirm('您确认要此操作, 是否继续?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n        }).then(() => {\n            that.btnEnable = true\n            let params = {}\n            params.poolName = this.addFlowPoolForm.poolName\n            params.poolId = this.addFlowPoolForm.poolId\n            params.saleChannel = this.addFlowPoolForm.saleChannel\n            params.cardDefaultPdCode = this.addFlowPoolForm.cardDefaultPdCode\n            apiBigflow.addFlowPool(params).then(res=>{\n                if(res.resultCode == 0){\n                    that.queryFlowPools()\n                    that.showAddFlowPoolDlg = false\n                    alert('操作成功')\n                }else{\n                    alert('操作失败:' + res.resultInfo)\n                }\n                that.btnEnable = false\n            })\n        }).catch(() => {\n        }); \n    },\n    \n    getPdCodes:function(){\n        let params = {}\n        apiBigflow.getPdCodes(params).then(res=>{\n            if(res.resultCode == 0){\n                this.getPdCodes = res.data\n            }\n        })\n    },\n    getAllChannels:function(){\n        let params = {}\n        apiBigflow.getAllChannels(params).then(res=>{\n            if(res.resultCode == 0){\n                this.channels = res.data\n                this.total = res.rowNum\n            }\n        })\n    },\n    handleSelectBranchCom:function(item){\n        console.log('handleSelectBranchCom:' + item)\n    },\n    queryFlowPools:function(){\n        this.loading = true\n        let params = {}\n        params.page = this.page\n        if(this.status != '')\n            params.status = this.status\n        if(this.saleChannel != '')\n            params.saleChannel = this.saleChannel\n        apiBigflow.getFlowPools(params).then(res=>{\n        if(res.resultCode == 0){\n            this.flowPools = res.data\n            this.total = res.rowNum\n            this.loading = false\n          }\n        })\n    },\n    handleSelectionChange (val) {\n        this.poolId = ''\n      if(val.length > 0){\n          for(let i = 0; i < val.length; i++){\n              this.poolId = this.poolId + val[i].poolId +','\n          }\n          this.poolId =this.poolId.substr(0,this.poolId.length -1);\n      }\n    },\n    handleSizeChange (newPage) {\n      this.page = newPage;\n      this.queryFlowPools()\n    },\n    handleCurrentChange (newPage) {\n      this.page = newPage;\n      this.queryFlowPools()\n    },\n  }\n};\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowPool.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./flowPool.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./flowPool.vue?vue&type=template&id=4c5b211d&scoped=true&\"\nimport script from \"./flowPool.vue?vue&type=script&lang=js&\"\nexport * from \"./flowPool.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4c5b211d\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}