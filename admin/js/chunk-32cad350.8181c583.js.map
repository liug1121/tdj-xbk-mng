{"version":3,"sources":["webpack:///./node_modules/core-js/modules/web.dom-collections.for-each.js","webpack:///./node_modules/core-js/internals/array-for-each.js","webpack:///./src/api/index.js","webpack:///./src/components/system/role.vue?60e7","webpack:///src/components/system/role.vue","webpack:///./src/components/system/role.vue?e51d","webpack:///./src/components/system/role.vue","webpack:///./src/api/system.js","webpack:///./node_modules/core-js/internals/array-method-is-strict.js","webpack:///./node_modules/core-js/modules/es.array.map.js"],"names":["global","DOMIterables","forEach","createNonEnumerableProperty","COLLECTION_NAME","Collection","CollectionPrototype","prototype","error","$forEach","arrayMethodIsStrict","STRICT_METHOD","module","exports","callbackfn","this","arguments","length","undefined","axios","defaults","timeout","headers","post","interceptors","request","use","config","token","window","sessionStorage","getItem","Promise","reject","response","POST","url","params","then","res","data","GET","get","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","toAddRoleClick","_v","directives","name","rawName","value","expression","roles","height","padding","handleSelectionChange","_l","p","key","prop","label","fixed","sortable","scopedSlots","_u","fn","scope","domProps","_s","row","$event","functionSel","removeRole","toRoleModify","_e","functionDlgShow","ref","roleMenus","handleRoleFunctionsSelectionChange","onRoleFunctionsSelect","onRoleFunctionsSelectAll","optSelDlgOpen","slot","functionSelDlgClose","editRoleFunctionOk","optSelDlgShow","selectedMenu","opts","handleOptSelectionChange","onOptsSelect","onOptsSelectAll","optSelDlgClose","optSelDlgOk","roleDlgShow","roleInfo","model","callback","$$v","$set","closeRoleDlg","editRoleClick","staticRenderFns","components","roleName","roleId","id","page","pageSize","total","table_column","function_column","opt_column","mounted","created","watch","updated","methods","toEditRoleClick","refreshRoleFunctionsSelected","refreshOptsSelected","handleSelectBranchCom","addRole","getRoleFunctions","loading","$confirm","confirmButtonText","cancelButtonText","type","that","editRoleFunctions","queryAllRoles","handleSizeChange","newPage","handleCurrentChange","component","getAllSysFunctions","API","getAllSysRoles","getAllSysRoleFunctions","getSysManagerRoles","getAllSysManagers","editManger","editMangerRoles","editRole","addManager","getPushLogs","getPushInfos","addPushInfo","modifyPushInfo","removePushInfo","getPushStaticsInfo","fails","METHOD_NAME","argument","method","call","$","$map","map","arrayMethodHasSpeciesSupport","HAS_SPECIES_SUPPORT","target","proto","forced"],"mappings":"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","file":"js/chunk-32cad350.8181c583.js","sourcesContent":["var global = require('../internals/global');\nvar DOMIterables = require('../internals/dom-iterables');\nvar forEach = require('../internals/array-for-each');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nfor (var COLLECTION_NAME in DOMIterables) {\n  var Collection = global[COLLECTION_NAME];\n  var CollectionPrototype = Collection && Collection.prototype;\n  // some Chrome versions have non-configurable methods on DOMTokenList\n  if (CollectionPrototype && CollectionPrototype.forEach !== forEach) try {\n    createNonEnumerableProperty(CollectionPrototype, 'forEach', forEach);\n  } catch (error) {\n    CollectionPrototype.forEach = forEach;\n  }\n}\n","'use strict';\nvar $forEach = require('../internals/array-iteration').forEach;\nvar arrayMethodIsStrict = require('../internals/array-method-is-strict');\n\nvar STRICT_METHOD = arrayMethodIsStrict('forEach');\n\n// `Array.prototype.forEach` method implementation\n// https://tc39.es/ecma262/#sec-array.prototype.foreach\nmodule.exports = !STRICT_METHOD ? function forEach(callbackfn /* , thisArg */) {\n  return $forEach(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n// eslint-disable-next-line es/no-array-prototype-foreach -- safe\n} : [].forEach;\n","import axios from 'axios'\r\n// import QS from 'qs'\r\n\r\n// axios.defaults.baseURL = 'http://xbk.tdj.cn/ceshi/'\r\n// axios.defaults.baseURL = 'http://xbk.tdj.cn/admin/'\r\n\r\nif (process.env.VUE_APP_CURRENTMODE == 'production') {\r\n  axios.defaults.baseURL = 'http://xbk.tdj.cn/admin/'\r\n} else if (process.env.VUE_APP_CURRENTMODE == 'test') {\r\n  // axios.defaults.baseURL = \"https://suning1-dev.xuebaka.cn/api\"\r\n}\r\n// 设置请求超时\r\naxios.defaults.timeout = 500000\r\n// 设置 POST 请求头\r\naxios.defaults.headers.post['Content-Type'] = 'application/json'\r\n// 添加请求拦截器\r\naxios.interceptors.request.use(function (config) {\r\n  // 在发送请求之前做些什么\r\n  config.headers.token = window.sessionStorage.getItem('token')\r\n  // 在最后必须 return config\r\n  return config\r\n}, function (error) {\r\n  // 对请求错误做些什么\r\n  return Promise.reject(error)\r\n})\r\n// 添加响应拦截器\r\naxios.interceptors.response.use(function (response) {\r\n  // 对响应数据做点什么\r\n  return response\r\n}, function (error) {\r\n  // 对响应错误做点什么\r\n  return Promise.reject(error)\r\n})\r\n// 通用方法\r\nexport const POST = (url, params, config = {}) => {\r\n  return axios.post(url, params, config).then(res => res.data)\r\n}\r\n\r\nexport const GET = (url, params) => {\r\n  return axios.get(url, { params: params }).then(res => res.data)\r\n}\r\n\r\nexport const ALL = (promiseArr) => {\r\n  return axios.all(promiseArr)\r\n}\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"box_subject\"},[_c('el-card',{staticClass:\"all_list\"},[_c('el-form',{attrs:{\"inline\":true}}),_c('div',{staticClass:\"button_content\"},[_c('el-button',{attrs:{\"size\":\"medium\",\"type\":\"primary\",\"icon\":\"el-icon-edit\"},on:{\"click\":_vm.toAddRoleClick}},[_vm._v(\"新增角色\")])],1),_c('div',{staticClass:\"cardNos\"},[_c('div',{staticClass:\"cardNosList\"}),_c('div',{staticClass:\"cardNosNumber\"},[_vm._v(\"选中\"),_c('span',{staticClass:\"red\"},[_vm._v(\"0\")]),_vm._v(\"条数据\")])]),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],attrs:{\"data\":_vm.roles,\"border\":\"\",\"max-height\":\"600\",\"align\":\"center\",\"cell-style\":{height: '38px',padding:0}},on:{\"selection-change\":_vm.handleSelectionChange}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._l((_vm.table_column),function(p,key){return _c('el-table-column',{key:key,attrs:{\"prop\":p.prop,\"label\":p.label,\"align\":\"center\",\"fixed\":p.fixed?p.fixed:false,\"sortable\":p.sortable},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"innerHTML\":_vm._s(scope.row[p.prop])}}),(p.prop == 'operations')?_c('div',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.functionSel(scope.row)}}},[_vm._v(\"设置角色功能\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.removeRole(scope.row)}}},[_vm._v(\"删除角色\")]),_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.toRoleModify(scope.row)}}},[_vm._v(\"修改角色名称\")])],1):_vm._e()]}}],null,true)})})],2)],1),_c('el-dialog',{attrs:{\"title\":\"角色功能\",\"visible\":_vm.functionDlgShow,\"width\":\"630px\"},on:{\"update:visible\":function($event){_vm.functionDlgShow=$event}}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"functionSelTable\",attrs:{\"data\":_vm.roleMenus,\"border\":\"\",\"max-height\":\"600\",\"align\":\"center\",\"cell-style\":{height: '38px',padding:0}},on:{\"selection-change\":_vm.handleRoleFunctionsSelectionChange,\"select\":_vm.onRoleFunctionsSelect,\"select-all\":_vm.onRoleFunctionsSelectAll}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._l((_vm.function_column),function(p,key){return _c('el-table-column',{key:key,attrs:{\"prop\":p.prop,\"label\":p.label,\"align\":\"center\",\"fixed\":p.fixed?p.fixed:false,\"sortable\":p.sortable},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"innerHTML\":_vm._s(scope.row[p.prop])}}),(p.prop == 'setting' && scope.row['opts'])?_c('div',[_c('el-button',{attrs:{\"size\":\"mini\",\"type\":\"warning\",\"plain\":\"\"},on:{\"click\":function($event){return _vm.optSelDlgOpen(scope.row)}}},[_vm._v(\"设置功能\")])],1):_vm._e()]}}],null,true)})})],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.functionSelDlgClose}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRoleFunctionOk}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"设置操作\",\"visible\":_vm.optSelDlgShow,\"width\":\"630px\"},on:{\"update:visible\":function($event){_vm.optSelDlgShow=$event}}},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],ref:\"optSelTable\",attrs:{\"data\":_vm.selectedMenu.opts,\"border\":\"\",\"max-height\":\"600\",\"align\":\"center\",\"cell-style\":{height: '38px',padding:0}},on:{\"selection-change\":_vm.handleOptSelectionChange,\"select\":_vm.onOptsSelect,\"select-all\":_vm.onOptsSelectAll}},[_c('el-table-column',{attrs:{\"type\":\"selection\",\"width\":\"55\"}}),_vm._l((_vm.opt_column),function(p,key){return _c('el-table-column',{key:key,attrs:{\"prop\":p.prop,\"label\":p.label,\"align\":\"center\",\"fixed\":p.fixed?p.fixed:false,\"sortable\":p.sortable},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{domProps:{\"innerHTML\":_vm._s(scope.row[p.prop])}})]}}],null,true)})})],2),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.optSelDlgClose}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.optSelDlgOk}},[_vm._v(\"确 定\")])],1)],1),_c('el-dialog',{attrs:{\"title\":\"角色\",\"visible\":_vm.roleDlgShow,\"width\":\"430px\"},on:{\"update:visible\":function($event){_vm.roleDlgShow=$event}}},[_c('el-form',{attrs:{\"model\":_vm.roleInfo,\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"角色名称\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"请输入角色名称\"},model:{value:(_vm.roleInfo.roleName),callback:function ($$v) {_vm.$set(_vm.roleInfo, \"roleName\", $$v)},expression:\"roleInfo.roleName\"}})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":_vm.closeRoleDlg}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.editRoleClick}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"box_subject\">\n    <el-card class=\"all_list\">\n      <!-- 查询区域 -->\n      <el-form  :inline=\"true\">\n      </el-form>\n      <div class=\"button_content\">\n        <el-button size=\"medium\" type=\"primary\" icon=\"el-icon-edit\" @click=\"toAddRoleClick\" \n        >新增角色</el-button>\n      </div>\n      <!-- 列表区域 -->\n      <div class=\"cardNos\">\n        <div class=\"cardNosList\">\n        </div>\n        <div class=\"cardNosNumber\">选中<span class=\"red\">0</span>条数据</div>\n      </div>\n      <el-table v-loading=\"loading\" :data=\"roles\" border max-height=\"600\" align=\"center\" :cell-style=\"{height: '38px',padding:0}\" @selection-change=\"handleSelectionChange\">\n        <el-table-column type=\"selection\" width=\"55\">\n        </el-table-column>\n        <el-table-column v-for=\"(p, key) in table_column\" :prop=\"p.prop\" :label=\"p.label\"  :key=\"key\" align=\"center\" :fixed=\"p.fixed?p.fixed:false\" :sortable=\"p.sortable\">\n          <template slot-scope=\"scope\">\n              <div v-html=\"scope.row[p.prop]\" />\n              <div v-if=\"p.prop == 'operations'\">\n                <el-button  size=\"mini\" type=\"warning\" plain @click=\"functionSel(scope.row)\" >设置角色功能</el-button>\n                <el-button  size=\"mini\" type=\"warning\" plain @click=\"removeRole(scope.row)\" >删除角色</el-button>\n                <el-button  size=\"mini\" type=\"warning\" plain @click=\"toRoleModify(scope.row)\" >修改角色名称</el-button>\n              </div>\n          </template>\n        </el-table-column>\n      </el-table>\n    </el-card>\n    <el-dialog title=\"角色功能\" :visible.sync=\"functionDlgShow\" width=\"630px\" >\n      <el-table ref=\"functionSelTable\" v-loading=\"loading\"  :data=\"roleMenus\" border max-height=\"600\" align=\"center\" :cell-style=\"{height: '38px',padding:0}\" \n      @selection-change=\"handleRoleFunctionsSelectionChange\" @select='onRoleFunctionsSelect' @select-all=\"onRoleFunctionsSelectAll\">\n        <el-table-column type=\"selection\" width=\"55\">\n        </el-table-column>\n        <el-table-column v-for=\"(p, key) in function_column\" :prop=\"p.prop\" :label=\"p.label\"  :key=\"key\" align=\"center\" :fixed=\"p.fixed?p.fixed:false\" :sortable=\"p.sortable\">\n          <template slot-scope=\"scope\">\n              <div v-html=\"scope.row[p.prop]\" />\n              <div v-if=\"p.prop == 'setting' && scope.row['opts']\">\n                <el-button  size=\"mini\" type=\"warning\" plain @click=\"optSelDlgOpen(scope.row)\">设置功能</el-button>\n              </div>\n          </template>\n        </el-table-column>\n      </el-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"functionSelDlgClose\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editRoleFunctionOk\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"设置操作\" :visible.sync=\"optSelDlgShow\" width=\"630px\" >\n      <el-table ref=\"optSelTable\" v-loading=\"loading\"  :data=\"selectedMenu.opts\" border max-height=\"600\" align=\"center\" :cell-style=\"{height: '38px',padding:0}\" \n      @selection-change=\"handleOptSelectionChange\" @select='onOptsSelect' @select-all=\"onOptsSelectAll\">\n        <el-table-column type=\"selection\" width=\"55\">\n        </el-table-column>\n        <el-table-column v-for=\"(p, key) in opt_column\" :prop=\"p.prop\" :label=\"p.label\"  :key=\"key\" align=\"center\" :fixed=\"p.fixed?p.fixed:false\" :sortable=\"p.sortable\">\n          <template slot-scope=\"scope\">\n              <div v-html=\"scope.row[p.prop]\" />\n          </template>\n        </el-table-column>\n      </el-table>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"optSelDlgClose\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"optSelDlgOk\">确 定</el-button>\n      </span>\n    </el-dialog>\n    <el-dialog title=\"角色\" :visible.sync=\"roleDlgShow\" width=\"430px\" >\n      <el-form  :model=\"roleInfo\" label-width=\"120px\">\n        <el-form-item label=\"角色名称\">\n          <el-input size=\"small\"  placeholder=\"请输入角色名称\" v-model=\"roleInfo.roleName\"></el-input>\n        </el-form-item>\n      </el-form>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"closeRoleDlg\">取 消</el-button>\n        <el-button type=\"primary\" @click=\"editRoleClick\">确 定</el-button>\n      </span>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport apiSystem from './../../api/system'\nexport default {\n  components: {\n\n  },\n  data () {\n    return {\n    loading: false,\n    roles:[],\n    selectedRow:{},\n    roleFunctions:[],\n    roleMenus:[],\n    roleOpts:[],\n    selectedMenu:{},\n    roleFunctions2Edit:[],\n    functionDlgShow:false,\n    roleDlgShow:false,\n    optSelDlgShow:false,\n    roleInfo:{\n        roleName:'',\n        roleId:'',\n        id:''\n    },\n    operating:false,\n    optOperating:false,\n      page: 1,\n      pageSize: 10,\n      // 列表总条数\n      total: 0,\n      // 列表，标题、字段\n      table_column: [\n        { prop: 'name', label: '角色名称', width: 300, fixed: 'left'},\n        { prop: 'operations', label: '操作', width: 300}\n      ],\n      function_column: [\n        { prop: 'plateformTypeName', label: '平台类型', width: 200},\n        { prop: 'functionName', label: '菜单名', width: 200},\n        { prop: 'setting', label: '功能', width: 100}\n      ],\n      opt_column: [\n        { prop: 'functionName', label: '操作', width: 200}\n      ]\n    };\n    \n  },\n  mounted () {\n\n  },\n  created(){\n      this.queryAllRoles()\n  },\n  watch: {},\n  updated(){\n     this.refreshRoleFunctionsSelected() \n     this.refreshOptsSelected()\n  },\n  methods: {\n    toRoleModify:function(role){\n        this.selectedRow = role\n        this.roleInfo.id = role.id\n        this.roleInfo.roleId = role.id\n        this.roleInfo.roleName = role.name\n        this.roleDlgShow = true\n    },\n    removeRole:function(role){\n        let that = this\n        let roleId = role.id\n        this.$confirm('您确认要此操作, 是否继续?', '提示', {\n            confirmButtonText: '确定',\n            cancelButtonText: '取消',\n            type: 'warning'\n        }).then(() => {\n            let params = {}\n            params.roleId = roleId\n            apiSystem.removeRole(params).then(res=>{\n                if(res.resultCode == 0){\n                    that.queryAllRoles()\n                    alert('删除成功')\n                }else{\n                    alert('删除失败:' + res.resultInfo)\n                }\n            })\n        }).catch(() => {\n        });\n    },\n    toAddRoleClick:function(){\n        this.roleInfo = {}\n        this.roleDlgShow = true\n    },\n    toEditRoleClick:function(role){\n        this.roleInfo = {}\n        roleInfo.id = role.id\n        roleInfo.roleName = role.name\n        this.roleDlgShow = true\n\n    },\n    closeRoleDlg:function(){\n       this.roleDlgShow = false \n    },\n    editRoleClick:function(){\n        console.log(JSON.stringify(this.roleInfo))\n        if(this.roleInfo.id == '' || this.roleInfo.id == undefined){\n            if(this.roleInfo.roleName == '' || this.roleInfo.roleName == undefined){\n                alert('角色名称不能为空')\n                return\n            }\n            let that = this\n            this.$confirm('您确认要此操作, 是否继续?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                that.addRole(that.roleInfo.roleName, res=>{\n                    that.roleDlgShow = false\n                    that.queryAllRoles()\n                    alert('新增成功')\n                }, res=>{\n                    alert('新增失败:' + res.resultInfo)\n                })\n            }).catch(() => {\n            });\n        }else{\n            if(this.roleInfo.roleName == '' || this.roleInfo.roleName == undefined){\n                alert('角色名称不能为空')\n                return\n            }\n            this.$confirm('您确认要此操作, 是否继续?', '提示', {\n                confirmButtonText: '确定',\n                cancelButtonText: '取消',\n                type: 'warning'\n            }).then(() => {\n                let params = {}\n                params.roleId = this.roleInfo.roleId\n                params.roleName = this.roleInfo.roleName\n                apiSystem.editRole(params).then(res=>{\n                    if(res.resultCode == 0){\n                        this.$message.success('修改成功！')\n                        this.queryAllRoles()\n                        this.roleDlgShow = false\n                        // if(mSuccess != null && mSuccess != undefined)\n                        //     mSuccess(res)\n                    }else{\n                        this.$message.error('修改失败！')\n                        this.queryAllRoles()\n                        // if(mError != null && mError != undefined)\n                        //     mError(res)\n                    }\n                })\n                        // that.editRole(that.roleInfo.roleName, res=>{\n                //     that.roleDlgShow = false\n                //     that.queryAllRoles()\n                //     alert('新增成功')\n                // }, res=>{\n                //     alert('新增失败:' + res.resultInfo)\n                // })\n            }).catch(() => {\n            });\n        }\n\n    },\n    refreshRoleFunctionsSelected:function(){\n        this.roleMenus.forEach(roleMenu => {\n            if (roleMenu.has == true) {    \n                this.$refs.functionSelTable.toggleRowSelection(roleMenu, true) \n            }\n        })\n    },\n    refreshOptsSelected:function(){\n        if(this.selectedMenu.opts != undefined){\n            this.selectedMenu.opts.forEach(opt => {\n            if (opt.has == true) {    \n                this.$refs.optSelTable.toggleRowSelection(opt, true) \n            }\n        })\n        }\n    },\n    functionSel:function(role){\n        this.selectedRow = role\n        this.functionDlgShow = true;\n        let roleId = role.id\n        this.getRoleFunctions(roleId)\n    },\n    functionSelDlgClose:function(){\n        this.functionDlgShow = false;\n    },\n    optSelDlgOpen:function(row){\n        this.selectedMenu = row\n        this.optSelDlgShow = true\n        this.operating = true\n    },\n    optSelDlgClose:function(){\n        this.optSelDlgShow = false\n    },\n    optSelDlgOk:function(){\n        let opts = this.selectedMenu.opts.filter(opt=> opt.has)\n        if(opts != undefined && opts.length > 0){\n            this.$refs.functionSelTable.toggleRowSelection(this.selectedMenu, true)\n        }else{\n            this.$refs.functionSelTable.toggleRowSelection(this.selectedMenu, false)\n        }\n        this.optSelDlgClose() \n    },\n    handleSelectBranchCom:function(item){\n    },\n    addRole:function(roleName, mSuccess, mError){\n        let params = {}\n        params.roleName = roleName\n        apiSystem.addRole(params).then(res=>{\n            if(res.resultCode == 0){\n                if(mSuccess != null && mSuccess != undefined)\n                    mSuccess(res)\n            }else{\n                if(mError != null && mError != undefined)\n                    mError(res)\n            }\n        })\n    },\n    getRoleFunctions:function(roleId){\n        this.loading = true\n        let params = {}\n        params.roleId = roleId\n        apiSystem.getRoleFunctions(params).then(res=>{\n            if(res.resultCode == 0){\n                this.roleFunctions = res.data\n                this.roleMenus = this.roleFunctions.filter(one=>{\n                    if(one.type == 0)\n                        return true\n                    return false\n                })\n                \n                this.roleOpts = this.roleFunctions.filter(one=>{\n                    if(one.type == 1)\n                        return true\n                    return false\n                })\n                this.roleMenus.forEach(menu=>{\n                    let opts = []\n                    this.roleOpts.forEach(roleOpt=>{\n                        if(menu.function_id == roleOpt.parentId)\n                            opts.push(roleOpt)\n                    })\n                    if(opts.length > 0)\n                        menu.opts = opts\n                })\n                this.loading = false\n            }\n        })\n    },\n    editRoleFunctionOk:function(){\n      this.loading = true\n      let that = this\n      this.$confirm('您确认要此操作, 是否继续?', '提示', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        that.editRoleFunctions(res=>{\n            let roleId = that.selectedRow.id\n            that.getRoleFunctions(roleId)\n            that.loading = false\n            alert('修改成功')\n        }, res=>{\n            that.loading = false\n            alert('修改失败')\n        })\n        \n      }).catch(() => {\n      });\n    },\n    editRoleFunctions:function(mSuccess, mError){\n        let roleId = this.selectedRow.id\n        let params = {}\n        params.roleId = roleId\n        let functions2Edit = []\n        functions2Edit = this.roleMenus.filter(roleMenu=> roleMenu.has)\n        functions2Edit.forEach(roleMenu2Edit=>{\n            if(roleMenu2Edit.opts != undefined){\n                let opts2Edit = roleMenu2Edit.opts.filter(opt=> opt.has)\n                opts2Edit.forEach(opt2Edit=>{\n                    functions2Edit.push(opt2Edit)\n                })\n            }\n        })\n        \n        let functionIds = functions2Edit.map(fun2Edit=>{\n            return fun2Edit.function_id\n        })\n        params.functionIds = functionIds\n        apiSystem.editRoleFunctions(params).then(res=>{\n            if(res.resultCode == 0){\n                if(mSuccess != null && mSuccess != undefined)\n                    mSuccess(res)\n            }else{\n                if(mError != null && mError != undefined)\n                    mError(res)\n            }\n        })\n    },\n    queryAllRoles:function(){\n        this.loading = true\n        let params = {}\n        apiSystem.getAllSysRoles(params).then(res=>{\n            if(res.resultCode == 0){\n                this.roles = res.data\n                this.total = res.rowNum\n                this.loading = false\n            }\n        })\n    },\n    handleSelectionChange:function(val){\n\n    },\n    onRoleFunctionsSelectAll(rows){\n        this.onRoleFunctionsSelect(rows, null)\n    },\n    onRoleFunctionsSelect(rows, row){\n        this.roleMenus.forEach(roleMenu=>{\n            roleMenu.has = false\n            rows.forEach(row=>{\n                if(roleMenu.function_id == row.function_id){\n                        roleMenu.has = true;\n                }\n            })\n        }) \n    },\n    handleRoleFunctionsSelectionChange (val) {\n    },\n    onOptsSelect(rows, row){\n        let that = this\n        this.selectedMenu.opts.forEach(opt=>{\n            opt.has = false\n            this.selectedMenu.has = false\n            rows.forEach(row=>{\n                if(opt.function_id == row.function_id){\n                    opt.has = true\n                    that.selectedMenu.has = true\n                }\n            })\n        })  \n    },\n    onOptsSelectAll(rows){\n        this.onOptsSelect(rows, null)\n    },\n    handleOptSelectionChange(val){\n        \n    },\n    handleSizeChange (newPage) {\n      this.page = newPage;\n      this.queryAllRoles()\n    },\n    handleCurrentChange (newPage) {\n      this.page = newPage;\n      this.queryAllRoles()\n    },\n  }\n};\n</script>\n<style scoped>\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./role.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./role.vue?vue&type=template&id=3d3dbba8&scoped=true&\"\nimport script from \"./role.vue?vue&type=script&lang=js&\"\nexport * from \"./role.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"3d3dbba8\",\n  null\n  \n)\n\nexport default component.exports","import * as API from './'\nexport default {\n    getAllSysFunctions: params =>{\n        return API.GET('boss/v1.0/system/functions', params)\n    },\n    getAllSysRoles: params =>{\n        return API.GET('boss/v1.0/system/roles', params)\n    },\n    getAllSysRoleFunctions: params =>{\n        return API.GET('boss/v1.0/system/roleFunctions', params)\n    },\n    getSysManagerRoles: params =>{\n        return API.POST('boss/v1.0/system/managerRoles', params)\n    },\n    getAllSysManagers: params =>{\n        return API.POST('boss/v1.0/system/managers', params)\n    },\n    editManger: params =>{\n        return API.POST('boss/v1.0/system/managers/edit', params)\n    },\n    editMangerRoles: params =>{\n        return API.POST('boss/v1.0/system/managerRoles/edit', params)\n    },\n    getRoleFunctions: params =>{\n        return API.POST('boss/v1.0/system/role/functions', params)\n    },\n    editRoleFunctions: params =>{\n        return API.POST('boss/v1.0/system/role/functions/modify', params)\n    },\n    addRole: params =>{\n        return API.POST('boss/v1.0/system/roles/add', params)\n    },\n    editRole: params =>{\n        return API.POST('boss/v1.0/system/roles/modify', params)\n    },\n    removeRole: params =>{\n        return API.POST('boss/v1.0/system/roles/remove', params)\n    },\n    addManager: params =>{\n        return API.POST('boss/v1.0/system/managers/add', params)\n    },\n    getPushLogs: params =>{\n        return API.POST('boss/v1.0/gateway/pushLogs', params)\n    },\n    getPushInfos: params =>{\n        return API.POST('boss/v1.0/gateway/pushinfo/all', params)\n    } ,\n    addPushInfo: params =>{\n        return API.POST('boss/v1.0/gateway/pushInfo/add', params)\n    },\n    modifyPushInfo: params =>{\n        return API.POST('boss/v1.0/gateway/pushInfo/modify', params)\n    },\n    removePushInfo: params =>{\n        return API.POST('boss/v1.0/gateway/pushInfo/remove', params)\n    } ,\n    getPushStaticsInfo: params =>{\n        return API.POST('boss/v1.0/gateway/pushinfo/statics', params)\n    } \n\n    \n}","'use strict';\nvar fails = require('../internals/fails');\n\nmodule.exports = function (METHOD_NAME, argument) {\n  var method = [][METHOD_NAME];\n  return !!method && fails(function () {\n    // eslint-disable-next-line no-useless-call,no-throw-literal -- required for testing\n    method.call(null, argument || function () { throw 1; }, 1);\n  });\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $map = require('../internals/array-iteration').map;\nvar arrayMethodHasSpeciesSupport = require('../internals/array-method-has-species-support');\n\nvar HAS_SPECIES_SUPPORT = arrayMethodHasSpeciesSupport('map');\n\n// `Array.prototype.map` method\n// https://tc39.es/ecma262/#sec-array.prototype.map\n// with adding support of @@species\n$({ target: 'Array', proto: true, forced: !HAS_SPECIES_SUPPORT }, {\n  map: function map(callbackfn /* , thisArg */) {\n    return $map(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n"],"sourceRoot":""}