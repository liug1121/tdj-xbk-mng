(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1735bf8b"],{"0f89":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"box_subject"},[a("el-card",{staticClass:"all_list"},[a("el-form",{attrs:{inline:!0}},[a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"ICCID"}},[a("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入iccid"},model:{value:e.iccid,callback:function(t){e.iccid=t},expression:"iccid"}})],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"MSISDN"}},[a("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入msisdn"},model:{value:e.msisdn,callback:function(t){e.msisdn=t},expression:"msisdn"}})],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"卡状态"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择卡状态"},model:{value:e.cardStatus,callback:function(t){e.cardStatus=t},expression:"cardStatus"}},e._l(e.statusOptions,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"认证状态"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择认证状态"},model:{value:e.authStatus,callback:function(t){e.authStatus=t},expression:"authStatus"}},e._l(e.allAuthStatus,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"共享池"}},[a("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择渠道"},model:{value:e.poolId,callback:function(t){e.poolId=t},expression:"poolId"}},e._l(e.pools,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"当前套餐"}},[a("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择套餐"},model:{value:e.packageCode,callback:function(t){e.packageCode=t},expression:"packageCode"}},e._l(e.packages,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"通讯计划"}},[a("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入msisdn"},model:{value:e.planCode,callback:function(t){e.planCode=t},expression:"planCode"}})],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"渠道"}},[a("el-select",{staticClass:"queryFormInput",attrs:{filterable:"",clearable:"","reserve-keyword":"",placeholder:"请选择渠道"},model:{value:e.channel,callback:function(t){e.channel=t},expression:"channel"}},e._l(e.channels,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"开卡时间"}},[a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"开始日期","value-format":"yyyy-MM-dd"},on:{change:e.startTimeChange},model:{value:e.openCardStartDate,callback:function(t){e.openCardStartDate=t},expression:"openCardStartDate"}}),a("span",{staticClass:"time-line"},[e._v("-")]),a("el-date-picker",{staticStyle:{width:"140px"},attrs:{type:"date",placeholder:"结束日期","value-format":"yyyy-MM-dd"},on:{change:e.endTimeChange},model:{value:e.openCardEndDate,callback:function(t){e.openCardEndDate=t},expression:"openCardEndDate"}})],1),a("el-button",{attrs:{size:"medium",type:"primary",icon:"el-icon-search"},on:{click:e.queryCardInfos}},[e._v("查询")])],1),a("div",{staticClass:"button_content"},[a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardInfo-changeStatus"},expression:"{indentity:'bigflowCardInfo-changeStatus'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-download"},on:{click:e.openChangeStatusDlg}},[e._v("卡状态变更")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardInfo-unbind"},expression:"{indentity:'bigflowCardInfo-unbind'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openUnbindDlg}},[e._v("解绑")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardInfo-flowClear"},expression:"{indentity:'bigflowCardInfo-flowClear'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openDosClearDlg}},[e._v("可用量清零")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardInfo-flowChange"},expression:"{indentity:'bigflowCardInfo-flowChange'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openDosChangeDlg}},[e._v("可用量变更")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardInfo-productChange"},expression:"{indentity:'bigflowCardInfo-productChange'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openChangeProductDlg}},[e._v("变更卡套餐")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardInfo-planChange"},expression:"{indentity:'bigflowCardInfo-planChange'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openChangeCommonTypeDlg}},[e._v("变更卡通讯计划")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardInfo-validityExtend"},expression:"{indentity:'bigflowCardInfo-validityExtend'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openExpireDateExtendDlg}},[e._v("有效期延长")]),a("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"bigflowCardInfo-validityExtend"},expression:"{indentity:'bigflowCardInfo-validityExtend'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:e.openFile2CheckDlg}},[e._v("与CMP进行用量核查")])],1),a("div",{staticClass:"cardNos"},[a("div",{staticClass:"cardNosList"}),a("div",{staticClass:"cardNosNumber"},[e._v("选中"),a("span",{staticClass:"red"},[e._v("0")]),e._v("条数据")])]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.cardInfos,border:"","max-height":"600",align:"center","cell-style":{height:"38px",padding:0}},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),e._l(e.table_column,(function(t,n){return a("el-table-column",{key:n,attrs:{prop:t.prop,label:t.label,width:t.width,align:"center",fixed:!!t.fixed&&t.fixed,sortable:t.sortable},scopedSlots:e._u([{key:"default",fn:function(n){return[a("div",{domProps:{innerHTML:e._s(n.row[t.prop])}})]}}],null,!0)})}))],2),a("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),a("el-dialog",{attrs:{title:"卡状态变更",visible:e.showChangeStatusDlg,width:"450px"},on:{"update:visible":function(t){e.showChangeStatusDlg=t},close:e.closeChangeStatusDlg}},[a("el-form",{attrs:{model:e.changeStatusForm,"label-width":"110px"}},[a("el-form-item",{staticClass:"queryFormItem",attrs:{label:"卡状态"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择卡状态"},model:{value:e.changeStatusForm.chargeStatus,callback:function(t){e.$set(e.changeStatusForm,"chargeStatus",t)},expression:"changeStatusForm.chargeStatus"}},e._l(e.statusForOpt,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"原因"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整原因"},model:{value:e.changeStatusForm.reason,callback:function(t){e.$set(e.changeStatusForm,"reason",t)},expression:"changeStatusForm.reason"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeChangeStatusDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okChangeStatus}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"解绑",visible:e.showUnbindDlg,width:"450px"},on:{"update:visible":function(t){e.showUnbindDlg=t},close:e.closeUnbindDlg}},[a("el-form",{attrs:{model:e.unbindForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"原因"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整原因"},model:{value:e.unbindForm.reason,callback:function(t){e.$set(e.unbindForm,"reason",t)},expression:"unbindForm.reason"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeUnbindDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okUnbind}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"可用量清零",visible:e.showDosClearDlg,width:"450px"},on:{"update:visible":function(t){e.showDosClearDlg=t},close:e.closeDosClearDlg}},[a("el-form",{attrs:{model:e.dosClearForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"原因"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整原因"},model:{value:e.dosClearForm.reason,callback:function(t){e.$set(e.dosClearForm,"reason",t)},expression:"dosClearForm.reason"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeDosClearDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okDosClear}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"变更可用量",visible:e.showDosChangeDlg,width:"450px"},on:{"update:visible":function(t){e.showDosChangeDlg=t},close:e.closeDosChangeDlg}},[a("el-form",{attrs:{model:e.dosChangeForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"高速可用量"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入高速可用量"},model:{value:e.dosChangeForm.chargeHighDoseG,callback:function(t){e.$set(e.dosChangeForm,"chargeHighDoseG",e._n(t))},expression:"dosChangeForm.chargeHighDoseG"}})],1),a("el-form-item",{attrs:{label:"中速可用量"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入中速可用量"},model:{value:e.dosClearForm.chargeMediumDoseG,callback:function(t){e.$set(e.dosClearForm,"chargeMediumDoseG",e._n(t))},expression:"dosClearForm.chargeMediumDoseG"}})],1),a("el-form-item",{attrs:{label:"原因"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整原因"},model:{value:e.dosClearForm.reason,callback:function(t){e.$set(e.dosClearForm,"reason",t)},expression:"dosClearForm.reason"}})],1)],1),a("div",{staticClass:"notice"},[a("p",[e._v("1）变更以G为单位，例如：输入1，代表1G")]),a("p",[e._v("2）变更逻辑：在原来基础上加上变更的用量。 例如：原来有10G，变更1G，最后会变成11G")]),a("p",[e._v("输入负数就是减： 输入-1，就会变成9G。")]),a("p",[e._v("3）必填参数如果不需要变更，输入0即可")])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeDosChangeDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okDosChange}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"变更卡套餐",visible:e.showChangeProductDlg,width:"450px"},on:{"update:visible":function(t){e.showChangeProductDlg=t},close:e.closeChangeProductDlg}},[a("el-form",{attrs:{model:e.changeProductForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"变更套餐"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择套餐"},model:{value:e.changeProductForm.updateProductCode,callback:function(t){e.$set(e.changeProductForm,"updateProductCode",t)},expression:"changeProductForm.updateProductCode"}},e._l(e.products2Change,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"原因"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整原因"},model:{value:e.changeProductForm.reason,callback:function(t){e.$set(e.changeProductForm,"reason",t)},expression:"changeProductForm.reason"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeChangeProductDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okChangeProduct}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"变更通讯计划",visible:e.showChangeCommonTypeDlg,width:"450px"},on:{"update:visible":function(t){e.showChangeCommonTypeDlg=t},close:e.closeChangeCommonTypeDlg}},[a("el-form",{attrs:{model:e.changeCommonTypeForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"变更通讯计划"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择通讯计划"},model:{value:e.changeCommonTypeForm.communPlanType,callback:function(t){e.$set(e.changeCommonTypeForm,"communPlanType",t)},expression:"changeCommonTypeForm.communPlanType"}},e._l(e.communPlanTypes2Change,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),a("el-form-item",{attrs:{label:"原因"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整原因"},model:{value:e.changeCommonTypeForm.reason,callback:function(t){e.$set(e.changeCommonTypeForm,"reason",t)},expression:"changeCommonTypeForm.reason"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeChangeCommonTypeDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okChangeCommonType}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"延长有效期",visible:e.showExpireDateExtendDlg,width:"450px"},on:{"update:visible":function(t){e.showExpireDateExtendDlg=t},close:e.closeExpireDateExtendDlg}},[a("el-form",{attrs:{model:e.expireDateExtendForm,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"操作类型"}},[a("el-select",{staticClass:"queryFormInput",attrs:{clearable:"",placeholder:"请选择操作类型"},model:{value:e.optType,callback:function(t){e.optType=t},expression:"optType"}},e._l(e.optTypes,(function(e){return a("el-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1)],1),2==e.optType?a("el-upload",{staticClass:"unload-demo",attrs:{accept:".xls, .xlsx",action:"#","http-request":e.uploadFile,"on-remove":e.removeUploadedFile}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1):e._e(),a("el-form-item",{attrs:{label:"时长（月）"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{onkeyup:"value=value.replace(/[^\\d]/g,'')",placeholder:"请输入时长"},model:{value:e.expireDateExtendForm.extendTime,callback:function(t){e.$set(e.expireDateExtendForm,"extendTime",t)},expression:"expireDateExtendForm.extendTime"}})],1),a("el-form-item",{attrs:{label:"原因"}},[a("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入调整原因"},model:{value:e.expireDateExtendForm.reason,callback:function(t){e.$set(e.expireDateExtendForm,"reason",t)},expression:"expireDateExtendForm.reason"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeExpireDateExtendDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okExpireDateExtend}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"与CMP进行用量核查",visible:e.showFile2CheckDlg,width:"450px"},on:{"update:visible":function(t){e.showFile2CheckDlg=t},close:e.closeFile2CheckDlg}},[a("el-upload",{staticClass:"unload-demo",attrs:{accept:".xls, .xlsx",action:"#","file-list":e.file2CheckFiles,"http-request":e.uploadFile2CheckFile,"on-remove":e.removeUploadedFile2Check}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{disabled:e.btnEnable},on:{click:e.closeFile2CheckDlg}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary",disabled:e.btnEnable},on:{click:e.okFile2Check}},[e._v("确 定")])],1)],1)],1)},o=[],l=a("5f02"),i={components:{},data:function(){return{showFile2CheckDlg:!1,file2CheckFiles:[],showExpireDateExtendDlg:!1,expireDateExtendForm:{},showChangeCommonTypeDlg:!1,changeCommonTypeForm:{},communPlanTypes2Change:[],showChangeProductDlg:!1,changeProductForm:{},products2Change:[],iccids2Opt:"",showChangeStatusDlg:!1,changeStatusForm:{},showUnbindDlg:!1,unbindForm:{},showDosClearDlg:!1,dosClearForm:{},showDosChangeDlg:!1,dosChangeForm:{},loading:!1,btnEnable:!1,iccid:"",msisdn:"",cardStatus:"",statusOptions:[{label:"未激活",value:"willActivat"},{label:"已消户",value:"close"},{label:"卡启用",value:"open"},{label:"卡停用",value:"stopusing"},{label:"永久停用",value:"forever_stopusing"}],statusForOpt:[{label:"卡启用",value:"open"},{label:"卡停用",value:"stopusing"},{label:"永久停用",value:"forever_stopusing"}],authStatus:"",allAuthStatus:[{label:"未认证",value:"uncertified"},{label:"已认证",value:"authedSuccess"},{label:"认证失败",value:"authedFail"},{label:"取消实名",value:"close"}],optTypes:[{value:"0",name:"已勾选的卡"},{value:"1",name:"已查询出的全部卡"},{value:"2",name:"文件导入"}],optType:"",uploadedFile:null,uploadedFile2CheckFile:null,poolId:"",pools:[],packageCode:"",packages:[],planCode:"",channel:"",channels:[],openCardStartDate:"",openCardEndDate:"",cardInfos:[],page:1,pageSize:10,total:0,table_column:[{prop:"iccid",label:"ICCID",width:200,fixed:"left",sortable:!0},{prop:"phoneNumber",label:"MSISDN",width:190,fixed:"left",sortable:!0},{prop:"statusName",label:"卡状态",width:200,sortable:!0},{prop:"flowHighDose",label:"高速可用量",width:150,sortable:!0},{prop:"flowHighUsed",label:"高速已用量",width:110,sortable:!0},{prop:"flowMediumDose",label:"中速可用量",width:200,sortable:!0},{prop:"flowMediumUsed",label:"中速已用量",width:180,sortable:!0},{prop:"communPlanName",label:"通讯计划名称",width:110,sortable:!0},{prop:"productCodeName",label:"当前套餐",width:180,sortable:!0},{prop:"authStatusName",label:"认证状态",width:300},{prop:"gmtActivate",label:"开卡时间",width:180},{prop:"usedStartDate",label:"用量开始日期",width:110},{prop:"clearDate",label:"用量清算日期",width:160,sortable:!0},{prop:"expireDate",label:"套餐有效期 ",width:160},{prop:"nextProductName",label:"未生效套餐",width:160},{prop:"zone",label:"用量区域 ",width:160},{prop:"poolName",label:"共享池 ",width:160},{prop:"channelName",label:"渠道 ",width:160},{prop:"gmtCreate",label:"首次绑定时间 ",width:160},{prop:"deviceNameNew",label:"设备名称 ",width:160}]}},mounted:function(){},created:function(){this.getAllPackages(),this.getAllChannels(),this.getAllPools(),this.queryCardInfos()},watch:{},methods:{openFile2CheckDlg:function(){this.file2CheckFiles=[],this.uploadedFile2CheckFile=null,this.showFile2CheckDlg=!0},closeFile2CheckDlg:function(){this.showFile2CheckDlg=!1},okFile2Check:function(){var e=this;if(null!=this.uploadedFile2CheckFile){var t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a=new FormData;a.append("file",e.uploadedFile2CheckFile),l["a"].file2CardUsageCheck(a).then((function(e){0==e.resultCode?(t.queryCardInfos(),t.showFile2CheckDlg=!1,alert("操作成功,请在任务："+e.data+"中查询处理结果")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))}else alert("请先上传文件")},removeUploadedFile2Check:function(e,t){this.uploadedFile2CheckFile=null},uploadFile2CheckFile:function(e){this.uploadedFile2CheckFile=e.file},removeUploadedFile:function(e,t){this.uploadedFile=null},uploadFile:function(e){this.uploadedFile=e.file},openExpireDateExtendDlg:function(){this.optType="",this.uploadedFile=null,this.showExpireDateExtendDlg=!0},closeExpireDateExtendDlg:function(){this.showExpireDateExtendDlg=!1},okExpireDateExtend:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){if(0==t.optType){if(""==e.iccids2Opt)return void alert("iccid必须填");t.btnEnable=!0;var a={};a.iccids=e.iccids2Opt,a.reason=e.expireDateExtendForm.reason,a.extendTime=e.expireDateExtendForm.extendTime,l["a"].expiredateextend(a).then((function(e){0==e.resultCode?(t.queryCardInfos(),t.showExpireDateExtendDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))}else if(1==t.optType){var n=e.createQueryParams();n.reason=e.expireDateExtendForm.reason,n.extendTime=e.expireDateExtendForm.extendTime,l["a"].batchExpiredateExtend(n).then((function(e){0==e.resultCode?(t.queryCardInfos(),alert("操作成功,请在任务："+e.data+"中查询处理结果")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))}else if(2==t.optType){var o=new FormData;o.append("file",e.uploadedFile);var i=e.expireDateExtendForm.reason,r=e.expireDateExtendForm.extendTime;l["a"].file2ExpiredateExtend(o,i,r).then((function(e){0==e.resultCode?(t.queryCardInfos(),alert("操作成功,请在任务："+e.data+"中查询处理结果")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))}})).catch((function(){}))},openChangeCommonTypeDlg:function(){this.optType="",this.uploadedFile=null,""!=this.iccids2Opt?this.iccids2Opt.length>20?alert("一次只能操作一张卡"):(this.getCommunPlanTypes2Change(this.iccids2Opt),this.showChangeCommonTypeDlg=!0):alert("iccid必须填")},closeChangeCommonTypeDlg:function(){this.showChangeCommonTypeDlg=!1},okChangeCommonType:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a={};a.iccids=e.iccids2Opt,a.reason=e.changeCommonTypeForm.reason,a.communPlanType=e.changeCommonTypeForm.communPlanType,l["a"].changeCommunPlanType(a).then((function(e){0==e.resultCode?(t.queryCardInfos(),t.showChangeCommonTypeDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))},openChangeProductDlg:function(){this.optType="",this.uploadedFile=null,""!=this.iccids2Opt?this.iccids2Opt.length>20?alert("一次只能操作一张卡"):(this.showChangeProductDlg=!0,this.getProduct2Change(this.iccids2Opt)):alert("iccid必须填")},closeChangeProductDlg:function(){this.showChangeProductDlg=!1},okChangeProduct:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a={};a.iccids=e.iccids2Opt,a.reason=e.changeProductForm.reason,a.updateProductCode=e.changeProductForm.updateProductCode,l["a"].changeProduct(a).then((function(e){0==e.resultCode?(t.queryCardInfos(),t.showChangeProductDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))},getCommunPlanTypes2Change:function(e){var t=this,a={};a.iccid=e,l["a"].getComunPlanTypes2Change(a).then((function(e){0==e.resultCode&&(t.communPlanTypes2Change=e.data)}))},getProduct2Change:function(e){var t=this,a={};a.iccid=e,l["a"].getProduct2Change(a).then((function(e){0==e.resultCode&&(t.products2Change=e.data)}))},openDosChangeDlg:function(){this.optType="",this.uploadedFile=null,""!=this.iccids2Opt?this.showDosChangeDlg=!0:alert("iccid必须填")},closeDosChangeDlg:function(){this.showDosChangeDlg=!1},okDosChange:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a={};a.iccids=e.iccids2Opt,a.reason=e.dosChangeForm.reason,a.chargeHighDoseG=e.dosChangeForm.chargeHighDoseG,a.chargeMediumDoseG=e.dosChangeForm.chargeMediumDoseG,l["a"].dosChange(a).then((function(e){0==e.resultCode?(t.queryCardInfos(),t.showDosChangeDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))},openDosClearDlg:function(){this.optType="",this.uploadedFile=null,""!=this.iccids2Opt?this.showDosClearDlg=!0:alert("iccid必须填")},closeDosClearDlg:function(){this.showDosClearDlg=!1},okDosClear:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a={};a.iccids=e.iccids2Opt,a.reason=e.dosClearForm.reason,l["a"].dosClear(a).then((function(e){0==e.resultCode?(t.queryCardInfos(),t.showDosClearDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))},closeUnbindDlg:function(){this.showUnbindDlg=!1},okUnbind:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a={};a.iccids=e.iccids2Opt,a.reason=e.unbindForm.reason,l["a"].unbindCard(a).then((function(e){0==e.resultCode?(t.queryCardInfos(),t.showUnbindDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))},openUnbindDlg:function(){this.optType="",this.uploadedFile=null,""!=this.iccids2Opt?this.showUnbindDlg=!0:alert("iccid必须填")},openChangeStatusDlg:function(){this.optType="",this.uploadedFile=null,""!=this.iccids2Opt?this.showChangeStatusDlg=!0:alert("iccid必须填")},closeChangeStatusDlg:function(){this.showChangeStatusDlg=!1},okChangeStatus:function(){var e=this,t=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.btnEnable=!0;var a={};a.iccids=e.iccids2Opt,a.reason=e.changeStatusForm.reason,a.chargeStatus=e.changeStatusForm.chargeStatus,l["a"].changeCardStatus(a).then((function(e){0==e.resultCode?(t.queryCardInfos(),t.showChangeStatusDlg=!1,alert("操作成功")):alert("操作失败:"+e.resultInfo),t.btnEnable=!1}))})).catch((function(){}))},createQueryParams:function(){var e={};return e.page=this.page,""!=this.iccid&&(e.iccidLike=this.iccid),""!=this.msisdn&&(e.phoneNumberLike=this.msisdn),""!=this.cardStatus&&(e.status=this.cardStatus),""!=this.authStatus&&(e.authStatus=this.authStatus),""!=this.poolId&&(e.poolId=this.poolId),""!=this.packageCode&&(e.productCode=this.packageCode),""!=this.planCode&&(e.communPlan=this.planCode),""!=this.channel&&(e.channelId=this.channel),this.openCardStartDate,e.gmtActivateStart=this.openCardStartDate,""!=this.openCardEndDate&&(e.gmtActivateEnd=this.openCardEndDate),e},queryCardInfos:function(){var e=this;this.loading=!0;var t=this.createQueryParams();l["a"].getCardInfos(t).then((function(t){0==t.resultCode&&(e.cardInfos=t.data,e.total=t.rowNum,e.loading=!1)}))},getAllPools:function(){var e=this,t={};l["a"].getAllPools(t).then((function(t){0==t.resultCode&&(e.pools=t.data)}))},getAllChannels:function(){var e=this,t={};l["a"].getAllChannels(t).then((function(t){0==t.resultCode&&(e.channels=t.data)}))},getAllPackages:function(){var e=this,t={};l["a"].getAllPackages(t).then((function(t){0==t.resultCode&&(e.packages=t.data)}))},handleSelectBranchCom:function(e){},startTimeChange:function(){this.openCardStartDate="".concat(this.openCardStartDate)},endTimeChange:function(){this.openCardEndDate="".concat(this.openCardEndDate)},handleSelectionChange:function(e){if(this.iccids2Opt="",e.length>0){for(var t=0;t<e.length;t++)this.iccids2Opt=this.iccids2Opt+e[t].iccid+",";this.iccids2Opt=this.iccids2Opt.substr(0,this.iccids2Opt.length-1)}},handleSizeChange:function(e){this.page=e,this.queryCardInfos()},handleCurrentChange:function(e){this.page=e,this.queryCardInfos()}}},r=i,s=a("2877"),c=Object(s["a"])(r,n,o,!1,null,"184859a0",null);t["default"]=c.exports},"365c":function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"a",(function(){return i}));a("d3b7");var n=a("bc3a"),o=a.n(n);o.a.defaults.timeout=5e5,o.a.defaults.headers.post["Content-Type"]="application/json",o.a.interceptors.request.use((function(e){return e.headers.token=window.sessionStorage.getItem("token"),e}),(function(e){return Promise.reject(e)})),o.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var l=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return o.a.post(e,t,a).then((function(e){return e.data}))},i=function(e,t){return o.a.get(e,{params:t}).then((function(e){return e.data}))}},"5f02":function(e,t,a){"use strict";a("99af");var n=a("365c");t["a"]={getCardOrders:function(e){return n["b"]("/bigflow/manage/v1.0/card/orders",e)},getAllChannels:function(e){return n["a"]("/bigflow/manage/v1.0/channels",e)},getAllPackages:function(e){return n["a"]("/bigflow/manage/v1.0/packages",e)},getAllPools:function(e){return n["a"]("/bigflow/manage/v1.0/pools",e)},getAllServiceInfo:function(e){return n["a"]("/bigflow/manage/v1.0/serviceinfos",e)},getCardInfos:function(e){return n["b"]("/bigflow/manage/v1.0/card/infos",e)},getVoiceRecords:function(e){return n["b"]("/bigflow/manage/v1.0/voice/records",e)},getFlowPools:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools",e)},getFlowCardStock:function(e){return n["b"]("/bigflow/manage/v1.0/cardstockpool",e)},getFlowPoolBills:function(e){return n["b"]("/bigflow/manage/v1.0/flowpoolbills",e)},getCardChanges:function(e){return n["b"]("/bigflow/manage/v1.0/cardchanges",e)},getBigflowStocks:function(e){return n["b"]("/bigflow/manage/v1.0/bigflowcardstocks",e)},getAccessWechats:function(e){return n["b"]("/bigflow/manage/v1.0/accessWechats",e)},getProducts:function(e){return n["b"]("/bigflow/manage/v1.0/bigflowproducts",e)},getAllSysFunctions:function(e){return n["a"]("/bigflow/manage/v1.0/system/functions",e)},getAllSysRoles:function(e){return n["a"]("/bigflow/manage/v1.0/system/roles",e)},getAllSysRoleFunctions:function(e){return n["a"]("/bigflow/manage/v1.0/system/roleFunctions",e)},getAllSysManagerRoles:function(e){return n["a"]("/bigflow/manage/v1.0/system/managerRoles",e)},getAllSysManagers:function(e){return n["a"]("/bigflow/manage/v1.0/system/managers",e)},changeCardStatus:function(e){return n["b"]("/bigflow/manage/v1.0/card/changeCardStatus",e)},unbindCard:function(e){return n["b"]("/bigflow/manage/v1.0/card/untying",e)},dosClear:function(e){return n["b"]("/bigflow/manage/v1.0/card/dosClear",e)},dosChange:function(e){return n["b"]("/bigflow/manage/v1.0/card/dosChange",e)},getProduct2Change:function(e){return n["b"]("/bigflow/manage/v1.0/card/product2change",e)},changeProduct:function(e){return n["b"]("/bigflow/manage/v1.0/card/updateProduct",e)},getComunPlanTypes2Change:function(e){return n["b"]("/bigflow/manage/v1.0/card/communPlanTypes",e)},changeCommunPlanType:function(e){return n["b"]("/bigflow/manage/v1.0/card/communPlan",e)},expiredateextend:function(e){return n["b"]("/bigflow/manage/v1.0/card/expiredateextend",e)},batchExpiredateExtend:function(e){return n["b"]("/bigflow/manage/v1.0/card/expiredate/batchextend",e)},getPdCodes:function(e){return n["a"]("/bigflow/manage/v1.0/flowpools/pdcode",e)},addFlowPool:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/add",e)},addFlowPoolOrder:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/order",e)},updateFlowPoolUse:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/updateuse",e)},movePool:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/move",e)},movePoolIccidsBetween:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/move/iccidbetween",e)},stock2Channel:function(e){return n["b"]("/bigflow/manage/v1.0/bigflowcardstocks/tochannel",e)},getAllProduct2Change:function(e){return n["b"]("/bigflow/manage/v1.0/order/products2change",e)},moveOrderByIccidsBetween:function(e){return n["b"]("/bigflow/manage/v1.0/order/move/iccidbetween",e)},uploadFile:function(e){return n["b"]("/bigflow/manage/v1.0/order/file/upload",e,{headers:{"content-type":"multipart/form-data"}})},file2ExpiredateExtend:function(e,t,a){return n["b"]("/bigflow/manage/v1.0/card/expiredate/file2Extend?extendTime=".concat(a,"&reason=").concat(t),e,{headers:{"content-type":"multipart/form-data"}})},importOrder2Channel:function(e){return n["b"]("/bigflow/manage/v1.0/order/channel/import",e)},importPoolCards:function(e){return n["b"]("/bigflow/manage/v1.0/flowpools/card/import",e)},importStockCards:function(e){return n["b"]("/bigflow/manage/v1.0/stock/card/import",e)},moveStockCards:function(e){return n["b"]("/bigflow/manage/v1.0/stock/card/move",e)},moveStockCards2Channel:function(e){return n["b"]("/bigflow/manage/v1.0/stock/card/channel/move",e)},file2CardUsageCheck:function(e){return n["b"]("/bigflow/manage/v1.0/card/useage/check/file",e,{headers:{"content-type":"multipart/form-data"}})},file2OrdersDelete:function(e){return n["b"]("/bigflow/manage/v1.0/order/file/delete",e,{headers:{"content-type":"multipart/form-data"}})}}}}]);
//# sourceMappingURL=chunk-1735bf8b.8a0c9c94.js.map