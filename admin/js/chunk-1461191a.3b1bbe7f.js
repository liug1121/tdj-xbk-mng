(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1461191a"],{"07ac":function(e,t,i){var n=i("23e7"),a=i("6f53").values;n({target:"Object",stat:!0},{values:function(e){return a(e)}})},"159b":function(e,t,i){var n=i("da84"),a=i("fdbc"),l=i("17c2"),r=i("9112");for(var o in a){var s=n[o],c=s&&s.prototype;if(c&&c.forEach!==l)try{r(c,"forEach",l)}catch(u){c.forEach=l}}},"17c2":function(e,t,i){"use strict";var n=i("b727").forEach,a=i("a640"),l=a("forEach");e.exports=l?[].forEach:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}},"365c":function(e,t,i){"use strict";i.d(t,"b",(function(){return l})),i.d(t,"a",(function(){return r}));i("d3b7");var n=i("bc3a"),a=i.n(n);a.a.defaults.timeout=5e5,a.a.defaults.headers.post["Content-Type"]="application/json",a.a.interceptors.request.use((function(e){return e.headers.token=window.sessionStorage.getItem("token"),e}),(function(e){return Promise.reject(e)})),a.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var l=function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return a.a.post(e,t,i).then((function(e){return e.data}))},r=function(e,t){return a.a.get(e,{params:t}).then((function(e){return e.data}))}},5066:function(e,t,i){},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,i){var n=i("1d80"),a=i("5899"),l="["+a+"]",r=RegExp("^"+l+l+"*"),o=RegExp(l+l+"*$"),s=function(e){return function(t){var i=String(n(t));return 1&e&&(i=i.replace(r,"")),2&e&&(i=i.replace(o,"")),i}};e.exports={start:s(1),end:s(2),trim:s(3)}},"5ebc":function(e,t,i){"use strict";var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-select",{ref:"treeSelect",attrs:{size:"small",value:e.valueTitle,clearable:e.clearable},on:{clear:e.clearHandle}},[i("el-input",{staticClass:"selectInput",attrs:{placeholder:e.placeholder},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),i("el-option",{staticClass:"options",attrs:{value:e.valueTitle,label:e.valueTitle}},[i("el-tree",{ref:"selectTree",attrs:{id:"tree-option",accordion:e.accordion,data:e.options,props:e.props,"node-key":e.props.value,"default-expanded-keys":e.defaultExpandedKey,"filter-node-method":e.filterNode},on:{"node-click":e.handleNodeClick}})],1)],1)},a=[],l=(i("a9e3"),i("159b"),i("4de4"),{name:"el-tree-select",props:{props:{type:Object,default:function(){return{value:"id",label:"title",children:"children"}}},options:{type:Array,default:function(){return[]}},value:{type:Number,default:function(){return null}},clearable:{type:Boolean,default:function(){return!0}},accordion:{type:Boolean,default:function(){return!1}},placeholder:{type:String,default:function(){return"检索关键字"}}},data:function(){return{filterText:"",valueId:this.value,valueTitle:"",defaultExpandedKey:[]}},mounted:function(){this.initHandle()},methods:{initHandle:function(){this.valueId&&(this.valueTitle=this.$refs.selectTree.getNode(this.valueId).data[this.props.label],this.$refs.selectTree.setCurrentKey(this.valueId),this.defaultExpandedKey=[this.valueId],this.initScroll())},initScroll:function(){this.$nextTick((function(){var e=document.querySelectorAll(".el-scrollbar .el-select-dropdown__wrap")[0],t=document.querySelectorAll(".el-scrollbar .el-scrollbar__bar");e.style.cssText="margin: 0px; max-height: none; overflow: hidden;",t.forEach((function(e){return e.style.width=0}))}))},handleNodeClick:function(e){this.valueTitle=e[this.props.label],this.valueId=e[this.props.value],this.$emit("getValue",this.valueId),this.$emit("getChannelName",this.valueTitle),this.defaultExpandedKey=[],e.children&&e.children.length||this.$refs.treeSelect.blur()},clearHandle:function(){this.valueTitle="",this.valueId=null,this.defaultExpandedKey=[],this.clearSelected(),this.$emit("getValue",null)},clearSelected:function(){var e=document.querySelectorAll("#tree-option .el-tree-node");e.forEach((function(e){return e.classList.remove("is-current")}))},filterNode:function(e,t){return!e||-1!==t.channelName.indexOf(e)}},watch:{value:function(){this.valueId=this.value,this.initHandle()},filterText:function(e){this.$refs.selectTree.filter(e)}}}),r=l,o=(i("b0c7"),i("2877")),s=Object(o["a"])(r,n,a,!1,null,"104ad87a",null);t["a"]=s.exports},"6f53":function(e,t,i){var n=i("83ab"),a=i("df75"),l=i("fc6a"),r=i("d1e7").f,o=function(e){return function(t){var i,o=l(t),s=a(o),c=s.length,u=0,p=[];while(c>u)i=s[u++],n&&!r.call(o,i)||p.push(e?[i,o[i]]:o[i]);return p}};e.exports={entries:o(!0),values:o(!1)}},7156:function(e,t,i){var n=i("861d"),a=i("d2bb");e.exports=function(e,t,i){var l,r;return a&&"function"==typeof(l=t.constructor)&&l!==i&&n(r=l.prototype)&&r!==i.prototype&&a(e,r),e}},a640:function(e,t,i){"use strict";var n=i("d039");e.exports=function(e,t){var i=[][e];return!!i&&n((function(){i.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,i){"use strict";var n=i("83ab"),a=i("da84"),l=i("94ca"),r=i("6eeb"),o=i("5135"),s=i("c6b6"),c=i("7156"),u=i("c04e"),p=i("d039"),m=i("7c73"),d=i("241c").f,h=i("06cf").f,f=i("9bf2").f,v=i("58a8").trim,b="Number",y=a[b],q=y.prototype,g=s(m(q))==b,S=function(e){var t,i,n,a,l,r,o,s,c=u(e,!1);if("string"==typeof c&&c.length>2)if(c=v(c),t=c.charCodeAt(0),43===t||45===t){if(i=c.charCodeAt(2),88===i||120===i)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+c}for(l=c.slice(2),r=l.length,o=0;o<r;o++)if(s=l.charCodeAt(o),s<48||s>a)return NaN;return parseInt(l,n)}return+c};if(l(b,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var k,w=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof w&&(g?p((function(){q.valueOf.call(i)})):s(i)!=b)?c(new y(S(t)),i,w):S(t)},F=n?d(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),I=0;F.length>I;I++)o(y,k=F[I])&&!o(w,k)&&f(w,k,h(y,k));w.prototype=q,q.constructor=w,r(a,b,w)}},b0c7:function(e,t,i){"use strict";i("5066")},d81d:function(e,t,i){"use strict";var n=i("23e7"),a=i("b727").map,l=i("1dde"),r=l("map");n({target:"Array",proto:!0,forced:!r},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},ebb5:function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"box_subject"},[i("el-card",{staticClass:"all_list"},[i("el-form",{ref:"queryEquipmentRef",attrs:{inline:!0,model:e.queryEquipmentForm}},[i("el-form-item",{staticClass:"queryFormItem",attrs:{label:"设备SN"}},[i("el-input",{staticClass:"queryFormInput",staticStyle:{width:"230px"},attrs:{clearable:"",placeholder:"请输入设备SN"},model:{value:e.queryEquipmentForm.sn,callback:function(t){e.$set(e.queryEquipmentForm,"sn",t)},expression:"queryEquipmentForm.sn"}})],1),i("el-form-item",{staticClass:"queryFormItem",attrs:{label:"设备类型"}},[i("el-input",{staticClass:"queryFormInput",staticStyle:{width:"150px"},attrs:{clearable:"",placeholder:"请输入设备型号"},model:{value:e.queryEquipmentForm.deviceType,callback:function(t){e.$set(e.queryEquipmentForm,"deviceType",e._n(t))},expression:"queryEquipmentForm.deviceType"}})],1),i("el-form-item",{staticClass:"queryFormItem",attrs:{label:"IMEI"}},[i("el-input",{staticClass:"queryFormInput",staticStyle:{width:"210px"},attrs:{clearable:"",placeholder:"请输入IMEI"},model:{value:e.queryEquipmentForm.imei,callback:function(t){e.$set(e.queryEquipmentForm,"imei",t)},expression:"queryEquipmentForm.imei"}})],1),i("el-form-item",{staticClass:"queryFormItem",attrs:{label:"MAC"}},[i("el-input",{staticClass:"queryFormInput",staticStyle:{width:"140px"},attrs:{clearable:"",placeholder:"请输入MAC"},model:{value:e.queryEquipmentForm.mac,callback:function(t){e.$set(e.queryEquipmentForm,"mac",t)},expression:"queryEquipmentForm.mac"}})],1),i("el-form-item",{staticClass:"queryFormItem",attrs:{label:"IMSI"}},[i("el-input",{staticClass:"queryFormInput",staticStyle:{width:"210px"},attrs:{clearable:"",placeholder:"请输入IMSI"},model:{value:e.queryEquipmentForm.imsi,callback:function(t){e.$set(e.queryEquipmentForm,"imsi",t)},expression:"queryEquipmentForm.imsi"}})],1),i("el-form-item",{staticClass:"queryFormItem",attrs:{label:"最终用户联系方式"}},[i("el-input",{staticClass:"queryFormInput",staticStyle:{width:"140px"},attrs:{clearable:"",placeholder:"请输入最终用户联系方式"},model:{value:e.queryEquipmentForm.contactPhone,callback:function(t){e.$set(e.queryEquipmentForm,"contactPhone",t)},expression:"queryEquipmentForm.contactPhone"}})],1),i("el-form-item",{staticClass:"queryFormItem",attrs:{label:"渠道"}},[i("channelSelect",{staticStyle:{width:"150px !important"},on:{channelSelectName:e.channelSelectName}})],1),i("el-form-item",{staticClass:"queryFormItem"},[i("el-button",{attrs:{type:"primary",size:"mini",icon:"el-icon-search"},on:{click:e.queryEquipment}},[e._v("查询")])],1)],1),i("div",{staticClass:"button_content"},[1!==e.selectListNumber?i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkEquipmentList-lock"},expression:"{indentity:'xbkEquipmentList-lock'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit",disabled:""}},[e._v("机卡锁定")]):i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkEquipmentList-lock"},expression:"{indentity:'xbkEquipmentList-lock'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.StatusModify(0)}}},[e._v("机卡锁定")]),1!==e.selectListNumber?i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkEquipmentList-unlock"},expression:"{indentity:'xbkEquipmentList-unlock'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit",disabled:""}},[e._v("机卡解锁")]):i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkEquipmentList-unlock"},expression:"{indentity:'xbkEquipmentList-unlock'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.StatusModify(1)}}},[e._v("机卡解锁")]),1!==e.selectListNumber?i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkEquipmentList-lockArea"},expression:"{indentity:'xbkEquipmentList-lockArea'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit",disabled:""}},[e._v("锁小区")]):i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkEquipmentList-lockArea"},expression:"{indentity:'xbkEquipmentList-lockArea'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.StatusModify(2)}}},[e._v("锁小区")]),1!==e.selectListNumber?i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkEquipmentList-unlockArea"},expression:"{indentity:'xbkEquipmentList-unlockArea'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit",disabled:""}},[e._v("解锁小区")]):i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkEquipmentList-unlockArea"},expression:"{indentity:'xbkEquipmentList-unlockArea'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.StatusModify(3)}}},[e._v("解锁小区")]),"0"===e.managerType?i("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkEquipmentList-refreshAll"},expression:"{indentity:'xbkEquipmentList-refreshAll'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-refresh"},on:{click:e.refreshAll}},[e._v("刷新全部设备")]):e._e()],1),i("div",{staticClass:"cardNos"},[i("div",{staticClass:"cardNosList"},[i("ul")]),i("div",{staticClass:"cardNosNumber"},[e._v("选中"),i("span",{staticClass:"red"},[e._v(e._s(e.selectListNumber))]),e._v("条数据")])]),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.EquipmentList,border:"","max-height":"600",align:"center","cell-style":{height:"38px",padding:0}},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55",fixed:"left"}}),i("el-table-column",{attrs:{label:"序号",prop:"id",width:"100"}}),i("el-table-column",{attrs:{label:"设备SN",prop:"sn",width:"180"}}),i("el-table-column",{attrs:{label:"设备类型",prop:"deviceType",width:"100"}}),i("el-table-column",{attrs:{label:"IMEI",prop:"imei",width:"180"}}),i("el-table-column",{attrs:{label:"MAC",prop:"mac",width:"180"}}),i("el-table-column",{attrs:{label:"IMSI",prop:"imsi",width:"180"}}),i("el-table-column",{attrs:{prop:"cardPhone",width:"120"}},[i("template",{slot:"header"},[i("div",{staticClass:"table-hearder-title"},[e._v("手机号")])])],2),i("el-table-column",{attrs:{prop:"cardPhone",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.controlType?i("span",[e._v("不受控")]):i("span",[e._v("受控")])]}}])},[i("template",{slot:"header"},[i("div",{staticClass:"table-hearder-title"},[e._v("是否受控")])])],2),i("el-table-column",{attrs:{label:"ICCID",prop:"cardIccid",width:"180"}}),i("el-table-column",{attrs:{label:"卡PIN码",prop:"cardPin",width:"100"}}),i("el-table-column",{attrs:{prop:"cardPuk",width:"120"}},[i("template",{slot:"header"},[i("div",{staticClass:"table-hearder-title"},[e._v("卡PUK")])])],2),i("el-table-column",{attrs:{prop:"cardPackageName",width:"240"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-popover",{attrs:{placement:"top-start",width:"200",trigger:"hover"}},[i("div",[e._v(" "+e._s(t.row.cardPackageName)+" ")]),i("div",{attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.cardPackageName))])])]}}])},[i("template",{slot:"header"},[i("div",{staticClass:"table-hearder-title"},[e._v("商品")])])],2),i("el-table-column",{attrs:{prop:"channelName",width:"120"}},[i("template",{slot:"header"},[i("div",{staticClass:"table-hearder-title"},[e._v("渠道")])])],2),i("el-table-column",{attrs:{prop:"contactName",width:"150"}},[i("template",{slot:"header"},[i("div",{staticClass:"table-hearder-title"},[e._v("最终用户联系姓名")])])],2),i("el-table-column",{attrs:{prop:"contactPhone",width:"140"}},[i("template",{slot:"header"},[i("div",{staticClass:"table-hearder-title"},[e._v("最终用户联系方式")])])],2),i("el-table-column",{attrs:{prop:"activeDateTime",width:"160"}},[i("template",{slot:"header"},[i("div",{staticClass:"table-hearder-title"},[e._v("卡激活时间")])])],2),i("el-table-column",{attrs:{label:"基站/小区",prop:"",width:"120"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.baseStationNo,(function(n,a){return i("div",{key:a},[i("div",{on:{click:function(i){return e.baseStationNoClick(t.row)}}},[e._v(e._s(n))])])}))}}])}),i("el-table-column",{attrs:{label:"当前基站/小区",prop:"ci",width:"120"}}),i("el-table-column",{attrs:{label:"设备IP地址",prop:"ip",width:"120"}}),i("el-table-column",{attrs:{label:"运营商网络信号参数",prop:"",width:"160"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.netSignal,(function(t,n){return i("div",{key:n},[i("div",[e._v(e._s(t))])])}))}}])}),i("el-table-column",{attrs:{label:"ROM版本",prop:"rom",width:"90"}}),i("el-table-column",{attrs:{label:"设备状态",prop:"",width:"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?i("div",[e._v("离线")]):e._e(),1===t.row.status?i("div",[e._v("上线")]):e._e()]}}])}),i("el-table-column",{attrs:{label:"锁卡状态",prop:"",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[1===t.row.cardLockedStatus?i("div",[e._v("机卡锁定")]):e._e(),0===t.row.cardLockedStatus?i("div",[e._v("机卡解锁")]):e._e(),1===t.row.stationLockedStatus?i("div",[e._v("小区锁定")]):e._e(),0===t.row.stationLockedStatus?i("div",[e._v("小区解锁")]):e._e()]}}])}),i("el-table-column",{attrs:{label:"上报时间",prop:"uploadDateTime",width:"160"}}),i("el-table-column",{attrs:{label:"操作",prop:"",width:"220",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{type:"primary",size:"mini",plain:""},on:{click:function(i){return e.deviceModify(t.row)}}},[e._v("编辑")]),i("el-button",{attrs:{type:"success",size:"mini",plain:""},on:{click:function(i){return e.rebootClick(t.row)}}},[e._v("重启")]),i("el-button",{attrs:{type:"danger",size:"mini",plain:""},on:{click:function(i){return e.refreshClick(t.row)}}},[e._v("刷新")])]}}])})],1),i("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),i("el-dialog",{attrs:{title:"设置编辑",visible:e.equipmentDialog,width:"430px"},on:{"update:visible":function(t){e.equipmentDialog=t},close:e.equipmentDialogClosed}},[i("el-form",{ref:"equipmentFormRef",attrs:{model:e.equipmentForm,"label-width":"90px"}},[i("el-form-item",{attrs:{label:"手机号"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"请输入手机号"},model:{value:e.equipmentForm.cardPhone,callback:function(t){e.$set(e.equipmentForm,"cardPhone",t)},expression:"equipmentForm.cardPhone"}})],1),i("el-form-item",{attrs:{label:"卡PUK"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"请输入卡PUK"},model:{value:e.equipmentForm.puk,callback:function(t){e.$set(e.equipmentForm,"puk",t)},expression:"equipmentForm.puk"}})],1),i("el-form-item",{attrs:{label:"渠道"}},[i("channelSelect",{staticStyle:{width:"300px !important"},on:{channelSelectId:e.EditchannelSelectId}})],1),i("el-form-item",{attrs:{label:"商品"}},[i("el-select",{staticStyle:{width:"300px"},attrs:{size:"small",clearable:"",filterable:"",placeholder:"请输入渠道商品关键词"},model:{value:e.equipmentForm.packageId,callback:function(t){e.$set(e.equipmentForm,"packageId",t)},expression:"equipmentForm.packageId"}},e._l(e.goodsListOptions,(function(e){return i("el-option",{key:e.id,attrs:{label:e.packageName,value:e.packageId}})})),1)],1),i("el-form-item",{staticClass:"itemlabel",attrs:{label:"最终用户联系姓名"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"请输入最终用户联系姓名"},model:{value:e.equipmentForm.contactName,callback:function(t){e.$set(e.equipmentForm,"contactName",t)},expression:"equipmentForm.contactName"}})],1),i("el-form-item",{staticClass:"itemlabel",attrs:{label:"最终用户联系方式"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{size:"small",placeholder:"请输入最终用户联系方式"},model:{value:e.equipmentForm.contactPhone,callback:function(t){e.$set(e.equipmentForm,"contactPhone",t)},expression:"equipmentForm.contactPhone"}})],1),i("el-form-item",{attrs:{label:"卡激活时间"}},[i("el-date-picker",{staticStyle:{width:"300px"},attrs:{size:"small",type:"date",placeholder:"卡激活时间","value-format":"yyyy-MM-dd hh:mm:ss"},model:{value:e.equipmentForm.activeDateTime,callback:function(t){e.$set(e.equipmentForm,"activeDateTime",t)},expression:"equipmentForm.activeDateTime"}})],1),i("el-form-item",{attrs:{label:"受控状态"}},[i("el-radio-group",{model:{value:e.equipmentForm.controlType,callback:function(t){e.$set(e.equipmentForm,"controlType",t)},expression:"equipmentForm.controlType"}},[i("el-radio",{attrs:{label:"1"}},[e._v("是")]),i("el-radio",{attrs:{label:"2"}},[e._v("否")])],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.equipmentDialogClosed}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.equipmentConfirm}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:e.StatusModifyTitle,visible:e.StatusModifyDialog,width:"430px"},on:{"update:visible":function(t){e.StatusModifyDialog=t},close:e.StatusModifyDialogClosed}},[i("el-form",{ref:"StatusModifyFormRef",attrs:{model:e.StatusModifyForm,"label-width":"90px"}},[i("el-form-item",{attrs:{label:"设备sn"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入设备sn",disabled:""},model:{value:e.StatusModifyForm.sn,callback:function(t){e.$set(e.StatusModifyForm,"sn",t)},expression:"StatusModifyForm.sn"}})],1),i("el-form-item",{attrs:{label:"说明"}},[i("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"请输入说明"},model:{value:e.StatusModifyForm.description,callback:function(t){e.$set(e.StatusModifyForm,"description",t)},expression:"StatusModifyForm.description"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.StatusModifyDialogClosed}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.StatusModifyConfirm}},[e._v("确 定")])],1)],1),i("el-dialog",{attrs:{title:"当前基站",visible:e.baseStationDialog,width:"800px"},on:{"update:visible":function(t){e.baseStationDialog=t},close:e.baseStationDialogClosed}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.DeviceBasestations,border:"","max-height":"600",align:"center","cell-style":{height:"38px",padding:0}}},[i("el-table-column",{attrs:{prop:"id",label:"序号",width:""}}),i("el-table-column",{attrs:{prop:"",label:"上报时间",width:"160"}}),i("el-table-column",{attrs:{prop:"isWhite",label:"是否是白名单用户",width:""},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.isWhite?i("div",[e._v("否")]):e._e(),1===t.row.isWhite?i("div",[e._v("是")]):e._e()]}}])}),i("el-table-column",{attrs:{prop:"name",label:"站名",width:""}}),i("el-table-column",{attrs:{prop:"no",label:"小区号",width:""}}),i("el-table-column",{attrs:{prop:"tac",label:"TAC",width:""}}),i("el-table-column",{attrs:{prop:"type",label:"类型",width:""}}),i("el-table-column",{attrs:{prop:"city",label:"城市",width:""}})],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.baseStationDialogClosed}},[e._v("确 定")])],1)],1)],1)},a=[],l=(i("d81d"),i("07ac"),i("a9e3"),i("a4d3"),i("e01a"),i("365c")),r={apiBasestationList:function(e){return l["a"]("device/v1.0/device/basestation/all",e)},apiDevicesList:function(e){return l["b"]("device/v1.0/devices",e)},apiDeviceStatusModify:function(e){return l["b"]("device/v1.0/device/status/modify",e)},apiDeviceModify:function(e){return l["b"]("device/v1.0/modify",e)},apiDeviceBasestations:function(e){return l["b"]("device/v1.0/device/basestations",e)},apiDeviceReboot:function(e){return l["b"]("device/v1.0/device/reboot",e)},apiDeviceRefresh:function(e){return l["b"]("device/v1.0/device/refresh",e)},apichannelsPackagesList:function(e){return l["b"]("boss/v1.0/channels/packages",e)},apiChannelDevice:function(e){return l["a"]("device/v1.0/channels/device",e)},apiDeviceRefreshall:function(e){return l["a"]("device/v1.0/devices/refreshall",e)}},o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("SelectTree",{staticStyle:{width:"100%"},attrs:{props:e.props,options:e.optionData,value:e.channelId,clearable:e.isClearable,accordion:e.isAccordion,height:"200"},on:{getValue:function(t){return e.getValue(t)},getChannelName:e.getChannelName}})},s=[],c=(i("159b"),i("5ebc")),u={components:{SelectTree:c["a"]},data:function(){return{channelId:null,mineStatusValue:[],defaultProps:{children:"children",label:"label"},isClearable:!0,isAccordion:!0,props:{value:"channelId",label:"channelName",children:"children"},channelTreeList:[]}},mounted:function(){this.getParentChannelOptions()},computed:{optionData:function(){for(var e=JSON.parse(JSON.stringify(this.channelTreeList)),t=[],i={},n=0,a=0,l=e.length;n<l;n++)i[e[n]["channelId"]]=e[n];for(;a<l;a++){var r=e[a],o=i[r["parentChannelId"]];o?(o["children"]||(o["children"]=[]),o["children"].push(r)):t.push(r)}return t}},methods:{getValue:function(e){this.channelId=e,this.$emit("channelSelectId",this.channelId)},getChannelName:function(e){this.$emit("channelSelectName",e)},getParentChannelOptions:function(){var e=this;r.apiChannelDevice().then((function(t){0===t.resultCode?e.channelTreeList=Object.values(t.data).map((function(e){return{channelId:e.channelId,channelName:e.channelName,manager:e.manager,parentChannelId:e.parentChannelId}})):e.$message.error(t.resultInfo)}))},selectChange:function(e){for(var t=[],i=this.mineStatusValue.length,n=e.length,a=0;a<i;a++)for(var l=0;l<n;l++)e[l]===this.mineStatusValue[a].label&&t.push(this.mineStatusValue[a]);this.$refs.tree.setCheckedNodes(t)},handleCheckChange:function(){var e=this.$refs.tree.getCheckedNodes(!0,!0),t=[],i=[];e.forEach((function(e){t.push(e.label),i.push(e)})),this.mineStatusValue=i,this.mineStatus=t}}},p=u,m=i("2877"),d=Object(m["a"])(p,o,s,!1,null,null,null),h=d.exports,f={data:function(){return{EquipmentList:[],page:1,pageSize:10,total:0,selectListNumber:0,table_column:[{prop:"id",label:"序号",width:100},{prop:"sn",label:"设备SN",width:100},{prop:"deviceType",label:"设备类型",width:100},{prop:"imei",label:"IMEI",width:180},{prop:"mac",label:"MAC",width:240},{prop:"imsi",label:"IMSI",width:120},{prop:"cardPhone",label:"手机号",width:150},{prop:"cardIccid",label:"ICCID",width:180},{prop:"cardPin",label:"卡PIN码",width:100},{prop:"cardPuk",label:"卡PUK",width:120},{prop:"cardPackageName",label:"商品",width:240},{prop:"channelName",label:"渠道",width:120},{prop:"contactName",label:"最终用户联系姓名",width:150},{prop:"contactPhone",label:"最终用户联系方式",width:140},{prop:"activeDateTime",label:"卡激活时间",width:160},{prop:"baseStationNoCL",label:"基站/小区",width:120},{prop:"ip",label:"设备IP地址",width:240},{prop:"netSignalCL",label:"运营商网络信号参数",width:120},{prop:"rom",label:"ROM版本",width:150},{prop:"statusCL",label:"设备状态",width:100},{prop:"LockedCL",label:"锁卡状态",width:100},{prop:"uploadDateTime",label:"上报时间",width:160},{prop:"operation",label:"操作",width:220,fixed:"right"}],loading:!1,queryEquipmentForm:{channelName:null,contactPhone:null,deviceType:null,imei:null,imsi:null,mac:null,sn:null,page:0,pageSize:10},equipmentDialog:!1,equipmentForm:{activeDateTime:null,cardPhone:null,channelId:null,contactName:null,contactPhone:null,deviceId:null,packageId:null,puk:null,controlType:"1"},StatusModifyDialog:!1,StatusModifyForm:{description:null,sn:null,type:null},goodsListOptions:[],sn:[],StatusModifyTitle:"机卡锁定",baseStationDialog:!1,DeviceBasestations:[],managerType:null}},components:{channelSelect:h},mounted:function(){this.getEquipmentlist(),this.managerType=window.sessionStorage.getItem("managerType")},methods:{channelSelectId:function(e){this.queryEquipmentForm.channelId=e},channelSelectName:function(e){this.queryEquipmentForm.channelName=e},EditchannelSelectId:function(e){this.equipmentForm.channelId=e,this.getPorductsListOptions(e)},getEquipmentlist:function(){var e=this,t=this.queryEquipmentForm;this.loading=!0,r.apiDevicesList(t).then((function(t){0===t.resultCode?(e.EquipmentList=t.data,e.total=t.rowNum,e.loading=!1):e.$message.error(t.resultInfo)}))},handleSizeChange:function(e){this.queryEquipmentForm.pageSize=e,this.getEquipmentlist()},handleCurrentChange:function(e){this.queryEquipmentForm.page=e-1,this.getEquipmentlist()},queryEquipment:function(){""===this.queryEquipmentForm.channelName&&(this.queryEquipmentForm.channelName=null),""===this.queryEquipmentForm.contactPhone&&(this.queryEquipmentForm.contactPhone=null),""===this.queryEquipmentForm.deviceType&&(this.queryEquipmentForm.deviceType=null),""===this.queryEquipmentForm.imei&&(this.queryEquipmentForm.imei=null),""===this.queryEquipmentForm.imsi&&(this.queryEquipmentForm.imsi=null),""===this.queryEquipmentForm.mac&&(this.queryEquipmentForm.mac=null),""===this.queryEquipmentForm.sn&&(this.queryEquipmentForm.sn=null),this.getEquipmentlist()},baseStationNoClick:function(e){var t=this;this.baseStationDialog=!0;var i={page:0,pageSize:10,sn:e.sn};r.apiDeviceBasestations(i).then((function(e){0===e.resultCode?t.DeviceBasestations=e.data:t.$message.error(e.resultInfo)}))},baseStationDialogClosed:function(){this.baseStationDialog=!1},handleSelectionChange:function(e){this.selectListNumber=e.length,this.sn=Object.values(e).map((function(e){return e.sn}))},getPorductsListOptions:function(e){var t=this,i={page:0,pageSize:1e3,channelId:e};r.apichannelsPackagesList(i).then((function(e){0===e.resultCode?t.goodsListOptions=e.data:t.$message.error(e.resultInfo)}))},deviceModify:function(e){this.equipmentDialog=!0,this.equipmentForm.activeDateTime=e.activeDateTime,this.equipmentForm.cardPhone=e.cardPhone,this.equipmentForm.channelId=null,this.equipmentForm.contactName=e.contactName,this.equipmentForm.contactPhone=e.contactPhone,this.equipmentForm.deviceId=e.id,this.equipmentForm.packageId=null,this.equipmentForm.puk=e.cardPuk,this.equipmentForm.controlType=String(e.controlType)},equipmentDialogClosed:function(){this.equipmentDialog=!1,this.equipmentForm.activeDateTime=null,this.equipmentForm.cardPhone=null,this.equipmentForm.channelId=null,this.equipmentForm.contactName=null,this.equipmentForm.contactPhone=null,this.equipmentForm.deviceId=null,this.equipmentForm.packageId=null,this.equipmentForm.puk=null,this.equipmentForm.controlType="1"},equipmentConfirm:function(){var e=this,t={activeDateTime:this.equipmentForm.activeDateTime,cardPhone:this.equipmentForm.cardPhone,channelId:this.equipmentForm.channelId,contactName:this.equipmentForm.contactName,contactPhone:this.equipmentForm.contactPhone,deviceId:this.equipmentForm.deviceId,packageId:this.equipmentForm.packageId,puk:this.equipmentForm.puk,controlType:Number(this.equipmentForm.controlType)};r.apiDeviceModify(JSON.stringify(t)).then((function(t){0===t.resultCode?(e.$message.success("成功修改设备！"),e.getEquipmentlist(),e.equipmentDialogClosed()):e.$message.error(t.resultInfo)}))},StatusModify:function(e){this.StatusModifyDialog=!0,this.StatusModifyForm.type=e,this.StatusModifyForm.sn=this.sn[0],this.StatusModifyTitle=0===e?"机卡锁定":1===e?"机卡解锁":2===e?"锁小区":"解锁小区"},StatusModifyDialogClosed:function(){this.StatusModifyDialog=!1,this.StatusModifyForm.description=null,this.StatusModifyForm.sn=null,this.StatusModifyForm.type=null},StatusModifyConfirm:function(){var e=this,t={description:this.StatusModifyForm.description,sn:this.StatusModifyForm.sn,type:this.StatusModifyForm.type};r.apiDeviceStatusModify(JSON.stringify(t)).then((function(t){0===t.resultCode?(e.$message.success("成功更改状态！"),e.getEquipmentlist(),e.StatusModifyDialogClosed()):e.$message.error(t.resultInfo)}))},rebootClick:function(e){var t=this,i={sn:e.sn};r.apiDeviceReboot(JSON.stringify(i)).then((function(e){0===e.resultCode?(t.$message.success("成功重启！"),t.getEquipmentlist()):t.$message.error(e.resultInfo)}))},refreshClick:function(e){var t=this,i={sn:e.sn};r.apiDeviceRefresh(JSON.stringify(i)).then((function(e){0===e.resultCode?(t.$message.success("刷新成功！"),t.getEquipmentlist()):t.$message.error(e.resultInfo)}))},refreshAll:function(){var e=this;r.apiDeviceRefreshall().then((function(t){0===t.resultCode?(e.$message.success("刷新成功！"),e.getEquipmentlist()):e.$message.error(t.resultInfo)}))}}},v=f,b=Object(m["a"])(v,n,a,!1,null,null,null);t["default"]=b.exports}}]);
//# sourceMappingURL=chunk-1461191a.3b1bbe7f.js.map