(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10c7d549"],{"04d1":function(e,t,n){var a=n("342f"),r=a.match(/firefox\/(\d+)/i);e.exports=!!r&&+r[1]},"07ac":function(e,t,n){var a=n("23e7"),r=n("6f53").values;a({target:"Object",stat:!0},{values:function(e){return r(e)}})},"365c":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));n("d3b7");var a=n("bc3a"),r=n.n(a);r.a.defaults.timeout=5e5,r.a.defaults.headers.post["Content-Type"]="application/json",r.a.interceptors.request.use((function(e){return e.headers.token=window.sessionStorage.getItem("token"),e}),(function(e){return Promise.reject(e)})),r.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var i=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r.a.post(e,t,n).then((function(e){return e.data}))},o=function(e,t){return r.a.get(e,{params:t}).then((function(e){return e.data}))}},"4e2a":function(e,t,n){"use strict";n("6f26")},"4e82":function(e,t,n){"use strict";var a=n("23e7"),r=n("1c0b"),i=n("7b0b"),o=n("50c4"),s=n("d039"),l=n("addb"),c=n("a640"),d=n("04d1"),u=n("d998"),p=n("2d00"),h=n("512ce"),f=[],m=f.sort,g=s((function(){f.sort(void 0)})),v=s((function(){f.sort(null)})),C=c("sort"),b=!s((function(){if(p)return p<70;if(!(d&&d>3)){if(u)return!0;if(h)return h<603;var e,t,n,a,r="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:n=3;break;case 68:case 71:n=4;break;default:n=2}for(a=0;a<47;a++)f.push({k:t+a,v:n})}for(f.sort((function(e,t){return t.v-e.v})),a=0;a<f.length;a++)t=f[a].k.charAt(0),r.charAt(r.length-1)!==t&&(r+=t);return"DGBEFHACIJK"!==r}})),k=g||!v||!C||!b,P=function(e){return function(t,n){return void 0===n?-1:void 0===t?1:void 0!==e?+e(t,n)||0:String(t)>String(n)?1:-1}};a({target:"Array",proto:!0,forced:k},{sort:function(e){void 0!==e&&r(e);var t=i(this);if(b)return void 0===e?m.call(t):m.call(t,e);var n,a,s=[],c=o(t.length);for(a=0;a<c;a++)a in t&&s.push(t[a]);s=l(s,P(e)),n=s.length,a=0;while(a<n)t[a]=s[a++];while(a<c)delete t[a++];return t}})},"512ce":function(e,t,n){var a=n("342f"),r=a.match(/AppleWebKit\/(\d+)\./);e.exports=!!r&&+r[1]},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var a=n("1d80"),r=n("5899"),i="["+r+"]",o=RegExp("^"+i+i+"*"),s=RegExp(i+i+"*$"),l=function(e){return function(t){var n=String(a(t));return 1&e&&(n=n.replace(o,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:l(1),end:l(2),trim:l(3)}},5986:function(e,t,n){"use strict";n("99af");var a=n("365c");t["a"]={apiChannelsList:function(e){return a["b"]("boss/v1.0/channels",e)},apiChannelsAdd:function(e){return a["b"]("boss/v1.0/channels/add",e)},apiChannelsQrcode:function(e){return a["b"]("boss/v1.0/channels/qrcode",e)},apiChannelsAllList:function(e){return a["a"]("boss/v1.0/channels/all",e)},apiChannelsCards:function(e){return a["b"]("boss/v1.0/channels/cards",e)},apiChannelsCardsDistribute:function(e){return a["b"]("boss/v1.0/channels/cards/distribute",e)},apiChannelsCardsDistributeFile:function(e){return a["b"]("boss/v1.0/channels/cards/distribute/fileimport",e)},apiChannelsCardsUpload:function(e,t){return a["b"]("boss/v1.0/channels/cards/distribute/upload?channelId=".concat(e),t,{headers:{"content-type":"multipart/form-data"}})},apiChannelsCardsDistributeIccid:function(e){return a["b"]("boss/v1.0/channels/cards/distribute/iccids",e)},apiChannelsCardDownload:function(e){var t=e.channelId,n=e.iccidStart,r=e.iccidEnd;return a["a"]("/boss/v1.0/channels/card/download/".concat(t,"/").concat(n,"/").concat(r))},apiChannelsDetails:function(e){return a["b"]("boss/v1.0/channels/details",e)},apiChannelsModify:function(e){return a["b"]("boss/v1.0/channels/modify",e)},apiChannelsPackages:function(e){return a["b"]("boss/v1.0/channels/packages",e)},apiGoodsList:function(e){return a["b"]("boss/v1.0/goods",e)},apiChannelsPackagesAdd:function(e){return a["b"]("boss/v1.0/channels/packages/add",e)},apiChannelsGoodsModify:function(e){return a["b"]("boss/v1.0/channels/goods/modify",e)},apiChannelsPackagesStatusModify:function(e){return a["b"]("boss/v1.0/channels/packages/status/modify",e)},apiChannelsStatusModify:function(e){return a["b"]("boss/v1.0/channels/status/modify",e)},apiProvincesList:function(e){return a["a"]("boss/v1.0/provinces",e)},apiPackagesList:function(e){return a["b"]("boss/v1.0/packages",e)},apiAddChannelManager:function(e){return a["b"]("boss/v1.0/channels/manager/add",e)},apiRemoveChannel:function(e){return a["b"]("boss/v1.0/channel/remove",e)}}},"6f26":function(e,t,n){},"6f53":function(e,t,n){var a=n("83ab"),r=n("df75"),i=n("fc6a"),o=n("d1e7").f,s=function(e){return function(t){var n,s=i(t),l=r(s),c=l.length,d=0,u=[];while(c>d)n=l[d++],a&&!o.call(s,n)||u.push(e?[n,s[n]]:s[n]);return u}};e.exports={entries:s(!0),values:s(!1)}},7156:function(e,t,n){var a=n("861d"),r=n("d2bb");e.exports=function(e,t,n){var i,o;return r&&"function"==typeof(i=t.constructor)&&i!==n&&a(o=i.prototype)&&o!==n.prototype&&r(e,o),e}},a258:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-card",[n("el-input",{attrs:{placeholder:"输入关键字进行过滤"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}}),n("el-tree",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"tree",staticClass:"filter-tree",staticStyle:{"margin-top":"10px"},attrs:{data:e.channelTree,props:e.defaultProps,"filter-node-method":e.filterNode,"node-key":"channelId","default-expanded-keys":[2]},on:{"node-click":e.handleNodeClick}})],1)},r=[],i=(n("4de4"),n("d81d"),n("07ac"),n("4e82"),n("5986")),o={data:function(){return{filterText:"",defaultProps:{children:"children",label:"channelName",id:"channelId"},channelTreeList:[],channelId:"",loading:!1}},watch:{filterText:function(e){this.$refs.tree.filter(e)}},mounted:function(){this.getChannelTree()},computed:{channelTree:function(){for(var e=JSON.parse(JSON.stringify(this.channelTreeList)),t=[],n={},a=0,r=0,i=e.length;a<i;a++)n[e[a]["channelId"]]=e[a];for(;r<i;r++){var o=e[r],s=n[o["parentChannelId"]];s?(s["children"]||(s["children"]=[]),s["children"].push(o)):t.push(o)}var l=t[0];return this.$emit("channelChick",l),t}},methods:{getChannelTree:function(){var e=this;this.loading=!0,i["a"].apiChannelsAllList().then((function(t){0===t.resultCode?(e.channelTreeList=Object.values(t.data).map((function(e){return{channelId:e.channelId,channelName:e.channelName,manager:e.manager,parentChannelId:e.parentChannelId}})),e.channelTreeList.sort((function(e,t){return e["channelName"].localeCompare(t["channelName"])})),e.loading=!1):e.$message.error(t.resultInfo)}))},filterNode:function(e,t){return!e||-1!==t.channelName.indexOf(e)},handleNodeClick:function(e){var t=e.channelId,n=e.channelName;this.$emit("getChannelId",t,n)}}},s=o,l=n("2877"),c=Object(l["a"])(s,a,r,!1,null,null,null);t["a"]=c.exports},a640:function(e,t,n){"use strict";var a=n("d039");e.exports=function(e,t){var n=[][e];return!!n&&a((function(){n.call(null,t||function(){throw 1},1)}))}},a9e3:function(e,t,n){"use strict";var a=n("83ab"),r=n("da84"),i=n("94ca"),o=n("6eeb"),s=n("5135"),l=n("c6b6"),c=n("7156"),d=n("c04e"),u=n("d039"),p=n("7c73"),h=n("241c").f,f=n("06cf").f,m=n("9bf2").f,g=n("58a8").trim,v="Number",C=r[v],b=C.prototype,k=l(p(b))==v,P=function(e){var t,n,a,r,i,o,s,l,c=d(e,!1);if("string"==typeof c&&c.length>2)if(c=g(c),t=c.charCodeAt(0),43===t||45===t){if(n=c.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(c.charCodeAt(1)){case 66:case 98:a=2,r=49;break;case 79:case 111:a=8,r=55;break;default:return+c}for(i=c.slice(2),o=i.length,s=0;s<o;s++)if(l=i.charCodeAt(s),l<48||l>r)return NaN;return parseInt(i,a)}return+c};if(i(v,!C(" 0o1")||!C("0b1")||C("+0x1"))){for(var w,I=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof I&&(k?u((function(){b.valueOf.call(n)})):l(n)!=v)?c(new C(P(t)),n,I):P(t)},y=a?h(C):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),F=0;y.length>F;F++)s(C,w=y[F])&&!s(I,w)&&m(I,w,f(C,w));I.prototype=b,b.constructor=I,o(r,v,I)}},addb:function(e,t){var n=Math.floor,a=function(e,t){var o=e.length,s=n(o/2);return o<8?r(e,t):i(a(e.slice(0,s),t),a(e.slice(s),t),t)},r=function(e,t){var n,a,r=e.length,i=1;while(i<r){a=i,n=e[i];while(a&&t(e[a-1],n)>0)e[a]=e[--a];a!==i++&&(e[a]=n)}return e},i=function(e,t,n){var a=e.length,r=t.length,i=0,o=0,s=[];while(i<a||o<r)i<a&&o<r?s.push(n(e[i],t[o])<=0?e[i++]:t[o++]):s.push(i<a?e[i++]:t[o++]);return s};e.exports=a},d1ae:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"box_subject"},[n("el-row",{attrs:{gutter:20}},[n("el-col",{attrs:{span:6}},[n("channelTree",{staticStyle:{"max-height":"680px",overflow:"auto"},on:{channelChick:e.channelChick,getChannelId:e.getChannelId}})],1),n("el-col",{attrs:{span:18}},[n("el-card",[n("div",{staticClass:"button_content"},[n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkChannelGoodList-add"},expression:"{indentity:'xbkChannelGoodList-add'}"}],attrs:{size:"medium",type:"primary",icon:"el-icon-plus"},on:{click:e.addChannelPackageShow}},[e._v("新增")])],1),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],attrs:{data:e.channelPackageAllocationList,border:"","max-height":"510",align:"center","cell-style":{height:"38px",padding:0}}},e._l(e.table_column,(function(t,a){return n("el-table-column",{key:a,attrs:{prop:t.prop,label:t.label,width:t.width,align:"center",fixed:!!t.fixed&&t.fixed,"show-overflow-tooltip":!0},scopedSlots:e._u([{key:"default",fn:function(a){return["clearTypeCL"==t.prop?n("div",[1==a.row.clearType?n("span",[e._v("27号")]):0==a.row.clearType?n("span",[e._v("自然月")]):e._e()]):e._e(),"packageGoodName"==t.prop?n("div",[e._v(" "+e._s(a.row.packageName)+" ")]):e._e(),"packageTypeCL"==t.prop?n("div",[0==a.row.packageType?n("span",[e._v("套餐")]):1==a.row.packageType?n("span",[e._v("加油包")]):n("span")]):e._e(),"netWorkAreaCL"==t.prop?n("div",[0==a.row.netWorkArea?n("span",[e._v("省内")]):e._e(),1==a.row.netWorkArea?n("span",[e._v("全国")]):e._e()]):e._e(),"statusCL"==t.prop?n("div",[1==a.row.status?n("span",[e._v("上架")]):0==a.row.status?n("span",[e._v("下架")]):2==a.row.status?n("span",[e._v("回收")]):e._e()]):e._e(),"networkTotalQG"==t.prop?n("div",[n("span",{directives:[{name:"show",rawName:"v-show",value:1==a.row.netWorkArea,expression:"scope.row.netWorkArea == 1"}]},[e._v(e._s(a.row.networkTotal))])]):e._e(),"networkTotalSN"==t.prop?n("div",[n("span",{directives:[{name:"show",rawName:"v-show",value:0==a.row.netWorkArea,expression:"scope.row.netWorkArea == 0"}]},[e._v(e._s(a.row.networkTotal))])]):e._e(),"operation"==t.prop?n("div",[0===a.row.status||2===a.row.status?n("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.deactivation(a.row,1)}}},[e._v("上架")]):e._e(),1===a.row.status||0===a.row.status?n("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.deactivation(a.row,2)}}},[e._v("上架不显示")]):e._e(),2===a.row.status||1===a.row.status?n("el-button",{attrs:{size:"mini"},on:{click:function(t){return e.deactivation(a.row,0)}}},[e._v("下架")]):e._e(),n("el-button",{directives:[{name:"permission",rawName:"v-permission",value:{indentity:"xbkChannelGoodList-add"},expression:"{indentity:'xbkChannelGoodList-add'}"}],attrs:{size:"mini"},on:{click:function(t){return e.modityChannelGoods(a.row)}}},[e._v("编辑")])],1):n("div",[n("div",{domProps:{innerHTML:e._s(a.row[t.prop])}})])]}}],null,!0)})})),1),n("el-pagination",{attrs:{"current-page":e.page,"page-sizes":[10,20,30],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1),n("addChanelPCG",{ref:"addChanelPCGRef",attrs:{porductsListOptions:e.porductsListOptions,statusOptions:e.statusOptions,provincesList:e.provincesList,typeOptions:e.typeOptions},on:{addChanelPCGSuccess:e.addChanelPCGSuccess}}),n("el-dialog",{attrs:{title:"修改商品",visible:e.editVisible,width:"430px","close-on-click-modal":!1,"destroy-on-close":!0,top:"5vh"},on:{"update:visible":function(t){e.editVisible=t}}},[n("el-form",{ref:"editFormRef",attrs:{model:e.editForm,"label-width":"110px"}},[n("el-form-item",{attrs:{label:"商品显示名"}},[n("el-input",{attrs:{placeholder:"请输入商品显示名"},model:{value:e.editForm.nickName,callback:function(t){e.$set(e.editForm,"nickName",t)},expression:"editForm.nickName"}})],1),n("el-form-item",{attrs:{label:"原始价格"}},[n("el-input",{attrs:{placeholder:"请输入原始价格"},model:{value:e.editForm.orgPrice,callback:function(t){e.$set(e.editForm,"orgPrice",e._n(t))},expression:"editForm.orgPrice"}})],1),n("el-form-item",{attrs:{label:"销售价格"}},[n("el-input",{attrs:{placeholder:"请输入销售价格"},model:{value:e.editForm.salePrice,callback:function(t){e.$set(e.editForm,"salePrice",e._n(t))},expression:"editForm.salePrice"}})],1),n("el-form-item",{attrs:{label:"商品说明"}},[n("el-input",{attrs:{placeholder:"请输入商品说明"},model:{value:e.editForm.description,callback:function(t){e.$set(e.editForm,"description",t)},expression:"editForm.description"}})],1),n("el-form-item",{attrs:{label:"状态"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择状态"},model:{value:e.editForm.status,callback:function(t){e.$set(e.editForm,"status",t)},expression:"editForm.status"}},e._l(e.statusOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("span",{staticClass:"dialog-footer",staticStyle:{"text-align":"right",display:"block","margin-right":"10px"},attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:function(t){e.editVisible=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editIt()}}},[e._v("确 定")])],1)],1)],1)},r=[],i=(n("d81d"),n("4de4"),n("a4d3"),n("e01a"),n("a9e3"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:"新增渠道商品配置",visible:e.dialogVisible,width:"430px","close-on-click-modal":!1,"destroy-on-close":!0,top:"5vh"},on:{"update:visible":function(t){e.dialogVisible=t}}},[n("el-form",{ref:"addChanelPCGRef",attrs:{model:e.addChanelPCGForm,rules:e.addChanelPCGRules,"label-width":"110px"}},[n("el-form-item",{attrs:{label:"商品类型",prop:"type"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择商品类型"},on:{change:e.goodsTypeChange},model:{value:e.addChanelPCGForm.type,callback:function(t){e.$set(e.addChanelPCGForm,"type",t)},expression:"addChanelPCGForm.type"}},e._l(e.typeOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1),n("el-form-item",{attrs:{label:"商品名",prop:"goodId"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",placeholder:"请选择商品"},on:{change:e.goodChange},model:{value:e.addChanelPCGForm.goodId,callback:function(t){e.$set(e.addChanelPCGForm,"goodId",t)},expression:"addChanelPCGForm.goodId"}},e._l(e.packageList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.provinceShow,expression:"provinceShow"}],attrs:{label:"省内流量归属地",prop:"provinceIds"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",multiple:"",filterable:"",placeholder:"请输入归属地关键词"},model:{value:e.addChanelPCGForm.provinceIds,callback:function(t){e.$set(e.addChanelPCGForm,"provinceIds",t)},expression:"addChanelPCGForm.provinceIds"}},e._l(e.provincesList,(function(e){return n("el-option",{key:e.provinceId,attrs:{label:e.provinceName,value:e.provinceId}})})),1)],1),n("el-form-item",{directives:[{name:"show",rawName:"v-show",value:e.cardFeeShow,expression:"cardFeeShow"}],attrs:{label:"卡费",prop:"cardGoodId"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",filterable:"",placeholder:"请输入卡费"},model:{value:e.addChanelPCGForm.cardGoodId,callback:function(t){e.$set(e.addChanelPCGForm,"cardGoodId",t)},expression:"addChanelPCGForm.cardGoodId"}},e._l(e.cardFeeList,(function(e){return n("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),n("el-form-item",{attrs:{label:"套餐显示名",prop:"nickName"}},[n("el-input",{attrs:{size:"small",placeholder:"请输入套餐显示名"},model:{value:e.addChanelPCGForm.nickName,callback:function(t){e.$set(e.addChanelPCGForm,"nickName",t)},expression:"addChanelPCGForm.nickName"}})],1),n("el-form-item",{attrs:{label:"套餐备注",prop:"description"}},[n("el-input",{attrs:{size:"small",placeholder:"请输入套餐备注"},model:{value:e.addChanelPCGForm.description,callback:function(t){e.$set(e.addChanelPCGForm,"description",t)},expression:"addChanelPCGForm.description"}})],1),n("el-form-item",{attrs:{label:"原价",prop:"orgPrice"}},[n("el-input",{attrs:{size:"small",placeholder:"请输入原价"},model:{value:e.addChanelPCGForm.orgPrice,callback:function(t){e.$set(e.addChanelPCGForm,"orgPrice",e._n(t))},expression:"addChanelPCGForm.orgPrice"}})],1),n("el-form-item",{attrs:{label:"销售价",prop:"salePrice"}},[n("el-input",{attrs:{size:"small",placeholder:"请输入销售价"},model:{value:e.addChanelPCGForm.salePrice,callback:function(t){e.$set(e.addChanelPCGForm,"salePrice",e._n(t))},expression:"addChanelPCGForm.salePrice"}})],1),n("el-form-item",{attrs:{label:"状态",prop:"status"}},[n("el-select",{staticStyle:{width:"100%"},attrs:{size:"small",placeholder:"请选择状态"},model:{value:e.addChanelPCGForm.status,callback:function(t){e.$set(e.addChanelPCGForm,"status",t)},expression:"addChanelPCGForm.status"}},e._l(e.statusOptions,(function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.closeButton}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.uploadIt()}}},[e._v("确 定")])],1)],1)}),o=[],s=n("5986"),l={props:["statusOptions","porductsListOptions","provincesList","typeOptions"],components:{},data:function(){return{dialogVisible:!1,addChanelPCGForm:{type:null,cardGoodId:null,channelId:sessionStorage.getItem("channelId"),description:null,goodId:null,nickName:null,orgPrice:null,provinceIds:[],salePrice:null,status:null},channelId:null,packageList:[],cardFeeList:[],cardFeeShow:!0,provinceShow:!0,goodType:-1,addChanelPCGRules:{type:[{required:!0,message:"请选择商品类型",trigger:"change"}],goodId:[{required:!0,message:"请选择商品",trigger:"change"}],nickName:[{required:!0,message:"请输入套餐显示名",trigger:"change"}],orgPrice:[{type:"number",message:"原始价必须为数字值"}],salePrice:[{type:"number",message:"销售价必须为数字值"}]}}},created:function(){this.channelId=sessionStorage.getItem("channelId"),this.getGoodsList()},methods:{goodChange:function(e){var t=this;this.provinceShow=!1,this.packageList.filter((function(n){if(n.id===e){var a=null;if(0===n.type?a=n.pkg:1===n.type&&(a=n.addedPackage),null!=a){var r=a.area_type;t.provinceShow=0===r}}}))},goodsTypeChange:function(e){this.goodType=e,0===e&&(this.packageList=this.GoodsList.filter((function(e){return 0===e.type})).map((function(e){return e})),this.cardFeeShow=!0),1===e&&(this.packageList=this.GoodsList.filter((function(e){return 1===e.type})).map((function(e){return e})),this.cardFeeShow=!1),2===e&&(this.packageList=this.GoodsList.filter((function(e){return 3===e.type})).map((function(e){return e})),this.cardFeeShow=!1)},getGoodsList:function(){var e=this,t={page:0,pageSize:1e4};s["a"].apiGoodsList(t).then((function(t){0===t.resultCode?(e.GoodsList=t.data,e.cardFeeList=e.GoodsList.filter((function(e){return 2===e.type})).map((function(e){return e}))):e.$message.error(t.resultInfo)}))},uploadIt:function(){var e=this;this.$refs.addChanelPCGRef.validate((function(t){if(t){var n={cardGoodId:e.addChanelPCGForm.cardGoodId,channelId:Number(sessionStorage.getItem("channelId")),description:e.addChanelPCGForm.description,goodId:e.addChanelPCGForm.goodId,nickName:e.addChanelPCGForm.nickName,orgPrice:e.addChanelPCGForm.orgPrice,provinceIds:e.addChanelPCGForm.provinceIds,salePrice:e.addChanelPCGForm.salePrice,status:e.addChanelPCGForm.status};e.$emit("addChanelPCGSuccess",n),e.dialogVisible=!1,e.$refs.addChanelPCGRef.resetFields()}}))},closeButton:function(){this.dialogVisible=!1,this.$refs.addChanelPCGRef.resetFields()}}},c=l,d=n("2877"),u=Object(d["a"])(c,i,o,!1,null,null,null),p=u.exports,h=n("a258"),f={name:"",components:{addChanelPCG:p,channelTree:h["a"]},data:function(){return{channelPackageAllocationList:[],page:1,pageSize:10,total:0,table_column:[{prop:"packageName",label:"套餐/商品名",width:150,fixed:"left"},{prop:"nickName",label:"显示名",width:300},{prop:"packageNo",label:"商品编号",width:80},{prop:"packageTypeCL",label:"商品类型",width:100},{prop:"networkTotalQG",label:"全国流量(MB)",width:80},{prop:"networkTotalSN",label:"省内流量(MB)",width:80},{prop:"netWorkAreaCL",label:"流量区域",width:80},{prop:"provinceName",label:"归属地",width:80},{prop:"voiceTotal",label:"语音(分钟)",width:80},{prop:"cardFee",label:"卡费",width:80},{prop:"orignPrice",label:"原始价(元)",width:80},{prop:"salePrice",label:"销售价(元)",width:80},{prop:"clearPeriod",label:"用量清零周期(月)",width:110},{prop:"validMoth",label:"产品有效期(月)",width:100},{prop:"clearTypeCL",label:"用量清算方式",width:110},{prop:"description",label:"备注",width:100},{prop:"statusCL",label:"状态",width:80},{prop:"operation",label:"操作",width:260,fixed:"right"}],queryInventoryForm:{packageId:"",page:0,pageSize:10},porductsListOptions:[],statusOptions:[{label:"上架",value:1},{label:"下架",value:0},{label:"上架不显示",value:2}],typeOptions:[{label:"套餐",value:0},{label:"加油包",value:1},{label:"充值金额",value:2}],addChannelPackageDialogVisible:!1,provincesList:[],channelIdTree:null,editVisible:!1,editForm:{description:null,id:null,nickName:null,orgPrice:null,salePrice:null,status:null},loading:!1}},mounted:function(){this.getchannelPackageAllocationList(),this.getPorductsListOptions(),this.getProvincesList()},methods:{channelChick:function(e){if(e){var t=e.channelId;this.channelIdTree=t,this.getchannelPackageAllocationList(t)}},getChannelId:function(e){this.channelsID=e,sessionStorage.setItem("channelId",e),this.getchannelPackageAllocationList(e),this.channelIdTree=sessionStorage.getItem("channelId")},getchannelPackageAllocationList:function(e){if(e){var t={channelId:e};this.apiChannelsPackages(t)}else;},apiChannelsPackages:function(e){var t=this,n=this.queryInventoryForm,a=Object.assign(n,e);this.loading=!0,s["a"].apiChannelsPackages(a).then((function(e){0===e.resultCode?(t.channelPackageAllocationList=e.data,t.total=e.rowNum,t.loading=!1):t.$message.error(e.resultInfo)}))},handleSizeChange:function(e){this.queryInventoryForm.pageSize=e,this.getchannelPackageAllocationList(this.channelIdTree)},handleCurrentChange:function(e){this.queryInventoryForm.page=e-1,this.getchannelPackageAllocationList(this.channelIdTree)},getProvincesList:function(){var e=this;s["a"].apiProvincesList().then((function(t){0===t.resultCode?e.provincesList=t.data:e.$message.error(t.resultInfo)}))},getPorductsListOptions:function(){var e=this,t={page:0,pageSize:100,packageType:0};s["a"].apiPackagesList(t).then((function(t){0===t.resultCode?e.porductsListOptions=t.data:e.$message.error(t.resultInfo)}))},addChannelPackageShow:function(){null===this.channelIdTree||""===this.channelIdTree?this.$message.error("请选择渠道"):this.$refs.addChanelPCGRef.dialogVisible=!0},addChanelPCGSuccess:function(e){var t=this;s["a"].apiChannelsPackagesAdd(e).then((function(e){0===e.resultCode?(t.$message.success("添加成功！"),t.getchannelPackageAllocationList(t.channelIdTree)):t.$message.error(e.resultInfo)}))},deactivation:function(e,t){var n=this;this.$confirm("您确认要此操作, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var a={id:e.id,status:t};s["a"].apiChannelsPackagesStatusModify(a).then((function(e){0===e.resultCode?(n.$message.success("操作成功！"),n.getchannelPackageAllocationList(n.channelIdTree)):n.$message.error(e.resultInfo)}))})).catch((function(){}))},getGoodsList:function(){var e=this,t={page:0,pageSize:1e4};s["a"].apiGoodsList(t).then((function(t){0===t.resultCode?(e.GoodsList=t.data,e.cardFeeList=e.GoodsList.filter((function(e){return 2===e.type})).map((function(e){return e}))):e.$message.error(t.resultInfo)}))},modityChannelGoods:function(e){this.editForm.description=e.description,this.editForm.id=e.id,this.editForm.nickName=e.nickName,this.editForm.orgPrice=Number(e.orignPrice),this.editForm.salePrice=Number(e.salePrice),this.editForm.status=e.status,this.editVisible=!0},editIt:function(){var e=this;this.$refs.editFormRef.validate((function(t){if(t){var n=JSON.stringify(e.editForm);e.editPackageSuccess(n)}}))},editPackageSuccess:function(e){var t=this;s["a"].apiChannelsGoodsModify(e).then((function(e){0===e.resultCode?(t.$message.success("编辑成功！"),t.getchannelPackageAllocationList(t.channelIdTree),t.editVisible=!1,t.$refs.editFormRef.resetFields()):t.$message.error(e.resultInfo)}))}}},m=f,g=(n("4e2a"),Object(d["a"])(m,a,r,!1,null,"2d22e339",null));t["default"]=g.exports},d81d:function(e,t,n){"use strict";var a=n("23e7"),r=n("b727").map,i=n("1dde"),o=i("map");a({target:"Array",proto:!0,forced:!o},{map:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,n){var a=n("342f");e.exports=/MSIE|Trident/.test(a)}}]);
//# sourceMappingURL=chunk-10c7d549.b05c4b99.js.map